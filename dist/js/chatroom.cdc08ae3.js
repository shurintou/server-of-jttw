(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chatroom"],{"01fd":function(t,e,i){},"029f":function(t,e,i){t.exports=i.p+"img/silver.9ee75d9b.png"},"0330":function(t,e,i){t.exports=i.p+"img/vertical_background.62dfdfd3.png"},"04a9":function(t,e,i){"use strict";i("5fd0")},"04bd":function(t,e,i){"use strict";i("d1a9")},"0883":function(t,e,i){t.exports=i.p+"img/avatar_8-min.03ea4aa0.png"},"0a35":function(t,e,i){t.exports=i.p+"img/avatar_7-min.78e6b5ab.png"},"0e31":function(t,e,i){"use strict";i("3771")},"0eb0":function(t,e,i){t.exports=i.p+"img/9A.9dd3fc15.png"},"0f3d":function(t,e,i){t.exports=i.p+"img/avatar_15-min.cae0fe70.png"},"0f49":function(t,e,i){t.exports=i.p+"img/avatar_33-min.0bbc85b1.png"},1148:function(t,e,i){"use strict";var n=i("a691"),a=i("1d80");t.exports=function(t){var e=String(a(this)),i="",r=n(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}},"11e9":function(t,e,i){t.exports=i.p+"img/7C.96f81c41.png"},1276:function(t,e,i){"use strict";var n=i("d784"),a=i("44e7"),r=i("825a"),o=i("1d80"),s=i("4840"),l=i("8aa5"),u=i("50c4"),c=i("14c3"),h=i("9263"),p=i("9f7f"),d=p.UNSUPPORTED_Y,f=[].push,g=Math.min,m=4294967295;n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(o(this)),r=void 0===i?m:i>>>0;if(0===r)return[];if(void 0===t)return[n];if(!a(t))return e.call(n,t,r);var s,l,u,c=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,g=new RegExp(t.source,p+"g");while(s=h.call(g,n)){if(l=g.lastIndex,l>d&&(c.push(n.slice(d,s.index)),s.length>1&&s.index<n.length&&f.apply(c,s.slice(1)),u=s[0].length,d=l,c.length>=r))break;g.lastIndex===s.index&&g.lastIndex++}return d===n.length?!u&&g.test("")||c.push(""):c.push(n.slice(d)),c.length>r?c.slice(0,r):c}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var a=o(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,a,i):n.call(String(a),e,i)},function(t,a){var o=i(n,t,this,a,n!==e);if(o.done)return o.value;var h=r(t),p=String(this),f=s(h,RegExp),y=h.unicode,v=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(d?"g":"y"),_=new f(d?"^(?:"+h.source+")":h,v),x=void 0===a?m:a>>>0;if(0===x)return[];if(0===p.length)return null===c(_,p)?[p]:[];var b=0,S=0,w=[];while(S<p.length){_.lastIndex=d?0:S;var C,T=c(_,d?p.slice(S):p);if(null===T||(C=g(u(_.lastIndex+(d?S:0)),p.length))===b)S=l(p,S,y);else{if(w.push(p.slice(b,S)),w.length===x)return w;for(var k=1;k<=T.length-1;k++)if(w.push(T[k]),w.length===x)return w;S=b=C}}return w.push(p.slice(b)),w}]}),d)},1540:function(t,e,i){t.exports=i.p+"img/avatar_34-min.35ade31d.png"},"162d":function(t,e,i){t.exports=i.p+"img/avatar_12-min.0c572128.png"},"163e":function(t,e,i){t.exports=i.p+"img/avatar_22-min.b9f27332.png"},"16f4":function(t,e,i){t.exports=i.p+"img/12A.fd1868bd.png"},"1b99":function(t,e,i){"use strict";i("e635")},"1cec":function(t,e,i){"use strict";i("764c")},"1d37":function(t,e,i){t.exports=i.p+"img/avatar_29-min.b0a52005.png"},"1da5":function(t,e,i){t.exports=i.p+"img/2C.512cece4.png"},"1dde":function(t,e,i){var n=i("d039"),a=i("b622"),r=i("2d00"),o=a("species");t.exports=function(t){return r>=51||!n((function(){var e=[],i=e.constructor={};return i[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1ecf":function(t,e,i){t.exports=i.p+"img/avatar_35-min.111dbe0d.png"},"21a1":function(t,e,i){t.exports=i.p+"img/10C.b041a56b.png"},2248:function(t,e,i){t.exports=i.p+"img/4D.7dc9803a.png"},"22b5":function(t,e,i){"use strict";i.r(e),function(t){i.d(e,"Easing",(function(){return a})),i.d(e,"Group",(function(){return o})),i.d(e,"Interpolation",(function(){return s})),i.d(e,"Sequence",(function(){return l})),i.d(e,"Tween",(function(){return c})),i.d(e,"VERSION",(function(){return h})),i.d(e,"add",(function(){return m})),i.d(e,"getAll",(function(){return f})),i.d(e,"nextId",(function(){return p})),i.d(e,"now",(function(){return r})),i.d(e,"remove",(function(){return y})),i.d(e,"removeAll",(function(){return g})),i.d(e,"update",(function(){return v}));var n,a={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-a.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*a.Bounce.In(2*t):.5*a.Bounce.Out(2*t-1)+.5}}};n="undefined"===typeof self&&"undefined"!==typeof t&&t.hrtime?function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!==typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()};var r=n,o=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=r()),void 0===e&&(e=!1);var i=Object.keys(this._tweens);if(0===i.length)return!1;while(i.length>0){this._tweensAddedDuringUpdate={};for(var n=0;n<i.length;n++){var a=this._tweens[i[n]],o=!e;a&&!1===a.update(t,o)&&!e&&delete this._tweens[i[n]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),s={Linear:function(t,e){var i=t.length-1,n=i*e,a=Math.floor(n),r=s.Utils.Linear;return e<0?r(t[0],t[1],n):e>1?r(t[i],t[i-1],i-n):r(t[a],t[a+1>i?i:a+1],n-a)},Bezier:function(t,e){for(var i=0,n=t.length-1,a=Math.pow,r=s.Utils.Bernstein,o=0;o<=n;o++)i+=a(1-e,n-o)*a(e,o)*t[o]*r(n,o);return i},CatmullRom:function(t,e){var i=t.length-1,n=i*e,a=Math.floor(n),r=s.Utils.CatmullRom;return t[0]===t[i]?(e<0&&(a=Math.floor(n=i*(1+e))),r(t[(a-1+i)%i],t[a],t[(a+1)%i],t[(a+2)%i],n-a)):e<0?t[0]-(r(t[0],t[0],t[1],t[1],-n)-t[0]):e>1?t[i]-(r(t[i],t[i],t[i-1],t[i-1],n-i)-t[i]):r(t[a?a-1:0],t[a],t[i<a+1?i:a+1],t[i<a+2?i:a+2],n-a)},Utils:{Linear:function(t,e,i){return(e-t)*i+t},Bernstein:function(t,e){var i=s.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:function(){var t=[1];return function(e){var i=1;if(t[e])return t[e];for(var n=e;n>1;n--)i*=n;return t[e]=i,i}}(),CatmullRom:function(t,e,i,n,a){var r=.5*(i-t),o=.5*(n-e),s=a*a,l=a*s;return(2*e-2*i+r+o)*l+(-3*e+3*i-2*r-o)*s+r*a+e}}},l=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),u=new o,c=function(){function t(t,e){void 0===e&&(e=u),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=a.Linear.None,this._interpolationFunction=s.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=l.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"===typeof t?r()+parseFloat(t):t:r(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,i,n){for(var a in i){var r=t[a],o=Array.isArray(r),s=o?"array":typeof r,l=!o&&Array.isArray(i[a]);if("undefined"!==s&&"function"!==s){if(l){var u=i[a];if(0===u.length)continue;u=u.map(this._handleRelativeValue.bind(this,r)),i[a]=[r].concat(u)}if("object"!==s&&!o||!r||l)"undefined"===typeof e[a]&&(e[a]=r),o||(e[a]*=1),n[a]=l?i[a].slice().reverse():e[a]||0;else{for(var c in e[a]=o?[]:{},r)e[a][c]=r[c];n[a]=o?[]:{},this._setupProperties(r,e[a],i[a],n[a])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=r()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=r()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=r()),void 0===e&&(e=!0),this._isPaused)return!0;var i,n,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>a)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(t-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var o=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(i in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[i]||(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,l=this._chainedTweens.length;s<l;s++)this._chainedTweens[s].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,i,n){for(var a in i)if(void 0!==e[a]){var r=e[a]||0,o=i[a],s=Array.isArray(t[a]),l=Array.isArray(o),u=!s&&l;u?t[a]=this._interpolationFunction(o,n):"object"===typeof o&&o?this._updateProperties(t[a],r,o,n):(o=this._handleRelativeValue(r,o),"number"===typeof o&&(t[a]=r+(o-r)*n))}},t.prototype._handleRelativeValue=function(t,e){return"string"!==typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],i=this._valuesEnd[t];this._valuesStartRepeat[t]="string"===typeof i?this._valuesStartRepeat[t]+parseFloat(i):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),h="18.6.4",p=l.nextId,d=u,f=d.getAll.bind(d),g=d.removeAll.bind(d),m=d.add.bind(d),y=d.remove.bind(d),v=d.update.bind(d),_={Easing:a,Group:o,Interpolation:s,now:r,Sequence:l,nextId:p,Tween:c,VERSION:h,getAll:f,removeAll:g,add:m,remove:y,update:v};e["default"]=_}.call(this,i("4362"))},"235c":function(t,e,i){},2364:function(t,e,i){t.exports=i.p+"img/4B.1785fb33.png"},2397:function(t,e,i){t.exports=i.p+"img/avatar_16-min.28b2c660.png"},2532:function(t,e,i){"use strict";var n=i("23e7"),a=i("5a34"),r=i("1d80"),o=i("ab13");n({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(r(this)).indexOf(a(t),arguments.length>1?arguments[1]:void 0)}})},"25c3":function(t,e,i){t.exports=i.p+"img/avatar_5-min.1230d179.png"},"27a2":function(t,e,i){t.exports=i.p+"img/12C.92a72bf5.png"},"2bb8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAACxMAAAsTAQCanBgAAABRUExURUdwTLy8vNXV1by8vL29vby8vLy8vL29vby8vL29vd/f39ra2r29vb29vePj49DQ0MDAwLy8vMfHx8XFxby8vLy8vMHBwcrKyry8vM7Ozry8vOtnZIwAAAAadFJOUwDcGe505fZ7/IQKEZShAyNs0EZSrsNiOLguChBQjgAABgdJREFUGBntwAmypDgSBFCXQEKIfQe//0Fns56trdrqZ4IyCeJBKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppf5HW3XbOPV9v07jZiPUL1TbWjaDcZkPf+czZ5Y6n7oI9X/sVC8u8E+8mfMjQv1bNdZDxl8Jbl8t1D/ZfncM/CthKDsoVOvi+RtM2eHh2nH2/D1h6Cs8WVc7/j6/jy2eqp0G/khwRYVnqgrHn/LzhifqGs8XDBOeZ1z4GpdHPEu7Gr4qqys8Sds7vs43Fs/R5o7vCI3FU7S545sai4foHd8VmgqPMBm+z5cRD7ANPENWtBDPzjyHWyFdrANPYjYI12c8zW4h2mh4nlC2EMzuPJMbIVjhearFQqzN8FyhaCFUbHg2M0KoNePp5goidQPPl60QqQi8wGIhUDfwCn6FQEXgJRYLcbqB18hWiNMHXmSvIEy18CrZCGEmz8vUEaLEmdcxHUQ5HK8TcohS8EpLBUGqhVfKNghyZLxUCUEKXmuvIEaceS13QIzO8FohhxiT58WaCClKXs1YCFHtvFo2QojO8XI5hJg8L1e3kKHk9ZYKIrQNr2c6iFANvF42QoTO8HphhQhHxgQKiDB5JlC3kGANTGCPkCBnCoOFBCVTMB0kqJmCOyBBzRSyEQK0DVPwIwRoG6bgJwjQNkzBTxCgbZiCnyBA2zAFP0GAtmEKfoIENVPIRkhQMgW3QYKCKZgOEvRMYbCQYPJMYI6QYMuYQA0ROsMEcogQF14vGyFDzeuZDjKsnpebI2ToHC9XQIi482pugxQFr7ZXkOJwvFYoIEbceS1zQI6c15oj5DgcLxT8CkHizCstFpKsntcJJUSxA69jDshS8jp1hCyd4VXMBmHamldpIqTZHK/hRogTG16jqSDPmPEKboRAceYFQhMh0ZTxfGaDSHHm+eoImUbHsw0dhIoNT+YLiLU5nmuxEKuteapshWCb4ZmaCpKVPJHZIJodeBpftJBtzXiW2UK4auZJ3AjxNsNThLKFfEXgGRaLB7ALT+AmPMKa8W2+jniE2PBtu8VDHIZvchMeo/d8iy9bPEZs+Jbd4jnaw/ANZsSjFJ4v82WLR6l2viosFg8zOb4oW/E0bc3XhLnC42yOL8kmPE+c+YqwVHignC8p8URbxp8LfsITWcMXmANPFAe+YKnwRO3OF8wRT9TO/LlQ45HamS8o8Uhx4QtKPFI18AUlHulwfEGNR1o9X7BXeKDY8BVuwwP1GV9SV3iamDu+xpcVnuVoMr7K1x0epCsN37GsEc/QHuXAN2X10UK+amwMT2DqrYVobZcvGU9i6rGCWNVUG57J7b2FSHbdM57ND8URIUzbFUPgJUwzWQhSjbUhAy/ih3KrIINd94wXc3vf4f5sv3gm4IfyiLi1oxwCU3Fz37W4qbjVhkkFU48VbqiaZsfUAt1SdC3uxa57xs8IphktbqPtisHzg7KlOCLuIG614ce5ee3w7ew0O34Fb+qxwhez/eL5PbIl71p8p6McAr+MqccKXyduteE3ypa8i/gm1TQ7fi0zrxbfwq57xq/mh7zDN7D54vn9TL1FfFhXDoF3EOiascUHVfnAG3H1gY8Z98B7GdYWHxELx9vJyogPqGrPG/KNRXJVHXhLYbZILNa8raZCWmXgbYW6RUprxhvLeiRkB97a0CGdmjdXI5nD8eayEanUvL2mRRrW8fbchjRWClAijYYC7C1SqAYKYCxS2DIK4Eek0FOEHCkUlCDUSKGkCA1SaChB2JFCQxF2pNBQhB0pNBRhRgo1RWiQQkkRSqTQU4QeKYyeAmQbEmitowDGIomZAswtkuh5f75HGtbw9gaLREreXSiRSrXz5haLVNrN8NbchIQmxxtzPZKaDG/LrUhsXHhPYZmQnC0d7ycMRYVPOMoh8FayPbf4FNvXi/OBVwq/hX8t+MwtTT5FfFTsxikvivJXiv+SFz+XF3mR/1mf9/+R/6H4l7Is/iH/Q9+v09ZFKKWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkqphP4GppNuZfJDbSMAAAAASUVORK5CYII="},"2ca5":function(t,e,i){t.exports=i.p+"img/2D.73492072.png"},"2eb6":function(t,e,i){},"2fd2":function(t,e,i){t.exports=i.p+"img/avatar_6-min.1bc75f67.png"},"2fe9":function(t,e,i){t.exports=i.p+"img/game-result-max-combo.4a81bab3.png"},"376a":function(t,e,i){t.exports=i.p+"img/13C.b1adb9ef.png"},3771:function(t,e,i){},3842:function(t,e,i){t.exports=i.p+"img/7A.3f15c463.png"},"3ae2":function(t,e,i){t.exports=i.p+"img/poker-pool.5b1c8f56.png"},"3c2c":function(t,e,i){t.exports=i.p+"img/avatar_23-min.fae5279f.png"},"3d54":function(t,e,i){t.exports=i.p+"img/avatar_26-min.f9dd5b08.png"},"3df3":function(t,e,i){t.exports=i.p+"img/avatar_32-min.a51111e1.png"},"3f04":function(t,e,i){"use strict";i("2eb6")},"408a":function(t,e,i){var n=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},"40a4":function(t,e,i){t.exports=i.p+"img/avatar_1-min.c365ada7.png"},4118:function(t,e,i){},"42ec":function(t,e,i){t.exports=i.p+"img/avatar_9-min.409da609.png"},"44e7":function(t,e,i){var n=i("861d"),a=i("c6b6"),r=i("b622"),o=r("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==a(t))}},4860:function(t,e,i){t.exports=i.p+"img/avatar_31-min.38861597.png"},"4de4":function(t,e,i){"use strict";var n=i("23e7"),a=i("b727").filter,r=i("1dde"),o=r("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"4de9":function(t,e,i){t.exports=i.p+"img/avatar_10-min.56b09391.png"},"53bf":function(t,e,i){"use strict";i("c7c6")},5499:function(t,e,i){t.exports=i.p+"img/3B.bfb5b468.png"},"55db":function(t,e,i){t.exports=i.p+"img/avatar_24-min.b63f197a.png"},"56a1":function(t,e,i){},5785:function(t,e,i){"use strict";i("8ab3")},"5a34":function(t,e,i){var n=i("44e7");t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5c79":function(t,e,i){"use strict";i("5f6a")},"5e26":function(t,e,i){t.exports=i.p+"img/1B.7e5e048f.png"},"5f6a":function(t,e,i){},"5fd0":function(t,e,i){},6144:function(t,e,i){t.exports=i.p+"img/chatroom_main_image.2bf0dec5.png"},6492:function(t,e,i){t.exports=i.p+"img/8A.fccefa5a.png"},"67e9":function(t,e,i){t.exports=i.p+"img/avatar_13-min.ea9323cd.png"},"6d0b":function(t,e,i){},"6d1a":function(t,e,i){t.exports=i.p+"img/9C.207224da.png"},7225:function(t,e,i){t.exports=i.p+"img/12D.a5af91c0.png"},"73c8":function(t,e,i){t.exports=i.p+"img/13B.6b4883c0.png"},"75b2":function(t,e,i){"use strict";i("4118")},"764c":function(t,e,i){},"78fa":function(t,e,i){t.exports=i.p+"img/8B.fd801016.png"},"79b9":function(t,e,i){"use strict";i("9dbd")},"7b99":function(t,e,i){t.exports=i.p+"img/avatar_30-min.d3f46adf.png"},"7bc4":function(t,e,i){t.exports=i.p+"img/5A.b435fa6e.png"},"7c3d":function(t,e,i){"use strict";i("b924")},"7ced":function(t,e,i){t.exports=i.p+"img/2B.b8d53d69.png"},"824f":function(t,e,i){t.exports=i.p+"img/anti-clockwise.36d19e99.png"},"831c":function(t,e,i){t.exports=i.p+"img/9B.fe0a1b2c.png"},8405:function(t,e,i){t.exports=i.p+"img/1C.121736bb.png"},8418:function(t,e,i){"use strict";var n=i("c04e"),a=i("9bf2"),r=i("5c6c");t.exports=function(t,e,i){var o=n(e);o in t?a.f(t,o,r(0,i)):t[o]=i}},"85e9":function(t,e,i){t.exports=i.p+"img/view-game-result-button.fd7190f4.png"},8672:function(t,e,i){t.exports=i.p+"img/bianshen-example.7ce812af.png"},"8ab3":function(t,e,i){},"8eeb":function(t,e,i){"use strict";i("ad50")},9217:function(t,e,i){t.exports=i.p+"img/avatar_27-min.ff12acb5.png"},9254:function(t,e,i){t.exports=i.p+"img/1A.7a363c04.png"},"94c4":function(t,e,i){t.exports=i.p+"img/avatar_25-min.1c0962c7.png"},"96ac":function(t,e,i){t.exports=i.p+"img/3D.54cacae5.png"},"9b77":function(t,e,i){t.exports=i.p+"img/12B.abbc28e7.png"},"9c82":function(t,e,i){t.exports=i.p+"img/10D.5041f82e.png"},"9dbd":function(t,e,i){},"9e39":function(t,e,i){t.exports=i.p+"img/drop-cards.2d87a4cd.png"},"9fd6":function(t,e,i){t.exports=i.p+"img/1D.a2e54caa.png"},a05d:function(t,e,i){t.exports=i.p+"img/3A.971af25d.png"},a434:function(t,e,i){"use strict";var n=i("23e7"),a=i("23cb"),r=i("a691"),o=i("50c4"),s=i("7b0b"),l=i("65f0"),u=i("8418"),c=i("1dde"),h=c("splice"),p=Math.max,d=Math.min,f=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var i,n,c,h,m,y,v=s(this),_=o(v.length),x=a(t,_),b=arguments.length;if(0===b?i=n=0:1===b?(i=0,n=_-x):(i=b-2,n=d(p(r(e),0),_-x)),_+i-n>f)throw TypeError(g);for(c=l(v,n),h=0;h<n;h++)m=x+h,m in v&&u(c,h,v[m]);if(c.length=n,i<n){for(h=x;h<_-n;h++)m=h+n,y=h+i,m in v?v[y]=v[m]:delete v[y];for(h=_;h>_-n+i;h--)delete v[h-1]}else if(i>n)for(h=_-n;h>x;h--)m=h+n-1,y=h+i-1,m in v?v[y]=v[m]:delete v[y];for(h=0;h<i;h++)v[h+x]=arguments[h+2];return v.length=_-n+i,c}})},a4ac:function(t,e,i){t.exports=i.p+"img/4C.a5d152b4.png"},a53c:function(t,e,i){t.exports=i.p+"img/7D.0b029b45.png"},a5d6:function(t,e,i){var n={"./10A.png":"e465","./10B.png":"ca7b","./10C.png":"21a1","./10D.png":"9c82","./11A.png":"c19a","./11B.png":"e629","./11C.png":"a739","./11D.png":"f71c","./12A.png":"16f4","./12B.png":"9b77","./12C.png":"27a2","./12D.png":"7225","./13A.png":"f692","./13B.png":"73c8","./13C.png":"376a","./13D.png":"bc6f","./1A.png":"9254","./1B.png":"5e26","./1C.png":"8405","./1D.png":"9fd6","./2A.png":"af9b","./2B.png":"7ced","./2C.png":"1da5","./2D.png":"2ca5","./3A.png":"a05d","./3B.png":"5499","./3C.png":"e06c","./3D.png":"96ac","./4A.png":"c9ed","./4B.png":"2364","./4C.png":"a4ac","./4D.png":"2248","./5A.png":"7bc4","./5B.png":"ecf0","./5C.png":"d4c0","./5D.png":"a79d5","./6A.png":"d29a","./6B.png":"ec5d","./6C.png":"bcb4","./6D.png":"d9df","./7A.png":"3842","./7B.png":"fc8a","./7C.png":"11e9","./7D.png":"a53c","./8A.png":"6492","./8B.png":"78fa","./8C.png":"e53a","./8D.png":"aab3","./9A.png":"0eb0","./9B.png":"831c","./9C.png":"6d1a","./9D.png":"c019","./black-joker.png":"f639","./drop-cards.png":"9e39","./game-result-ammount.png":"b30a","./game-result-max-combo.png":"2fe9","./poker-pool.png":"3ae2","./red-joker.png":"e06f"};function a(t){var e=r(t);return i(e)}function r(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=r,t.exports=a,a.id="a5d6"},a739:function(t,e,i){t.exports=i.p+"img/11C.715f067c.png"},a79d5:function(t,e,i){t.exports=i.p+"img/5D.86435dfc.png"},a802:function(t,e,i){},a816:function(t,e,i){t.exports=i.p+"img/avatar_2-min.21a44a43.png"},aa0c:function(t,e,i){t.exports=i.p+"img/avatar_20-min.c3cb7605.png"},aab3:function(t,e,i){t.exports=i.p+"img/8D.188e5a85.png"},ab13:function(t,e,i){var n=i("b622"),a=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[a]=!1,"/./"[t](e)}catch(n){}}return!1}},ab78:function(t,e,i){"use strict";i("01fd")},ad18:function(t,e,i){t.exports=i.p+"img/gold.d639060b.png"},ad50:function(t,e,i){},af9b:function(t,e,i){t.exports=i.p+"img/2A.f9d024e5.png"},b2cd:function(t,e,i){t.exports=i.p+"img/avatar_14-min.4c552d60.png"},b30a:function(t,e,i){t.exports=i.p+"img/game-result-ammount.6f31faaf.png"},b64b:function(t,e,i){var n=i("23e7"),a=i("7b0b"),r=i("df75"),o=i("d039"),s=o((function(){r(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return r(a(t))}})},b680:function(t,e,i){"use strict";var n=i("23e7"),a=i("a691"),r=i("408a"),o=i("1148"),s=i("d039"),l=1..toFixed,u=Math.floor,c=function(t,e,i){return 0===e?i:e%2===1?c(t,e-1,i*t):c(t*t,e/2,i)},h=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},p=function(t,e,i){var n=-1,a=i;while(++n<6)a+=e*t[n],t[n]=a%1e7,a=u(a/1e7)},d=function(t,e){var i=6,n=0;while(--i>=0)n+=t[i],t[i]=u(n/e),n=n%e*1e7},f=function(t){var e=6,i="";while(--e>=0)if(""!==i||0===e||0!==t[e]){var n=String(t[e]);i=""===i?n:i+o.call("0",7-n.length)+n}return i},g=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));n({target:"Number",proto:!0,forced:g},{toFixed:function(t){var e,i,n,s,l=r(this),u=a(t),g=[0,0,0,0,0,0],m="",y="0";if(u<0||u>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(e=h(l*c(2,69,1))-69,i=e<0?l*c(2,-e,1):l/c(2,e,1),i*=4503599627370496,e=52-e,e>0){p(g,0,i),n=u;while(n>=7)p(g,1e7,0),n-=7;p(g,c(10,n,1),0),n=e-1;while(n>=23)d(g,1<<23),n-=23;d(g,1<<n),p(g,1,1),d(g,2),y=f(g)}else p(g,0,i),p(g,1<<-e,0),y=f(g)+o.call("0",u);return u>0?(s=y.length,y=m+(s<=u?"0."+o.call("0",u-s)+y:y.slice(0,s-u)+"."+y.slice(s-u))):y=m+y,y}})},b924:function(t,e,i){},bc56:function(t,e,i){"use strict";i("235c")},bc6f:function(t,e,i){t.exports=i.p+"img/13D.ef115ed0.png"},bcb4:function(t,e,i){t.exports=i.p+"img/6C.4cb2e2ca.png"},bf48:function(t,e,i){"use strict";i.r(e);var n={};i.r(n),i.d(n,"extendShape",(function(){return Rf})),i.d(n,"extendPath",(function(){return Of})),i.d(n,"registerShape",(function(){return Ff})),i.d(n,"getShapeClass",(function(){return Nf})),i.d(n,"makePath",(function(){return Ef})),i.d(n,"makeImage",(function(){return Bf})),i.d(n,"mergePath",(function(){return Gf})),i.d(n,"resizePath",(function(){return Wf})),i.d(n,"subPixelOptimizeLine",(function(){return Hf})),i.d(n,"subPixelOptimizeRect",(function(){return jf})),i.d(n,"subPixelOptimize",(function(){return $f})),i.d(n,"updateProps",(function(){return qf})),i.d(n,"initProps",(function(){return Xf})),i.d(n,"removeElement",(function(){return Yf})),i.d(n,"removeElementWithFadeOut",(function(){return Kf})),i.d(n,"isElementRemoved",(function(){return Qf})),i.d(n,"getTransform",(function(){return Jf})),i.d(n,"applyTransform",(function(){return tg})),i.d(n,"transformDirection",(function(){return eg})),i.d(n,"groupTransition",(function(){return ag})),i.d(n,"clipPointsByRect",(function(){return rg})),i.d(n,"clipRectByRect",(function(){return og})),i.d(n,"createIcon",(function(){return sg})),i.d(n,"linePolygonIntersect",(function(){return lg})),i.d(n,"lineLineIntersect",(function(){return ug})),i.d(n,"setTooltipConfig",(function(){return pg})),i.d(n,"Group",(function(){return Ls})),i.d(n,"Image",(function(){return mh})),i.d(n,"Text",(function(){return Bh})),i.d(n,"Circle",(function(){return xd})),i.d(n,"Ellipse",(function(){return wd})),i.d(n,"Sector",(function(){return Vd})),i.d(n,"Ring",(function(){return Hd})),i.d(n,"Polygon",(function(){return Zd})),i.d(n,"Polyline",(function(){return Jd})),i.d(n,"Rect",(function(){return Th})),i.d(n,"Line",(function(){return af})),i.d(n,"BezierCurve",(function(){return uf})),i.d(n,"Arc",(function(){return pf})),i.d(n,"IncrementalDisplayable",(function(){return Mf})),i.d(n,"CompoundPath",(function(){return ff})),i.d(n,"LinearGradient",(function(){return vf})),i.d(n,"RadialGradient",(function(){return xf})),i.d(n,"BoundingRect",(function(){return fo})),i.d(n,"OrientedBoundingRect",(function(){return kf})),i.d(n,"Point",(function(){return no})),i.d(n,"Path",(function(){return lh}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-container",["0px"!==t.asideWidth?i("el-aside",{style:{backgroundImage:"url("+t.verticalBackground+")"},attrs:{width:t.asideWidth}},[i("div",{staticClass:"player-list-box"},[i("PlayerListModule",{attrs:{playerList:t.playerList,avatarSize:t.avatarSize,fontSize:t.fontSize,tagSize:t.tagSize,popupWidth:t.popupWidth,buttonSize:t.buttonSize,dialogWidth:t.dialogWidth,largeDialogWidth:t.largeDialogWidth,largeFontSize:t.largeFontSize,isHorizontal:"0px"!==t.asideWidth,playerInfoDialogWidth:t.playerInfoDialogWidth},on:{sendGameResultToChatRoom:function(e){t.gameResult=e.gameResult,t.gameResultDialogVisible=!0}}})],1),0===t.$store.state.player_loc?i("ChatRoomButtonModule",{attrs:{whichPattern:"vertical",buttonSize:t.buttonSize,largeFontSize:t.largeFontSize},on:{cancelLeaveDialogVisible:function(e){t.cancelLeaveDialogVisible=e},createGameRoomDialogVisible:function(e){t.createGameRoomDialogVisible=e}}}):i("GameRoomButtonModule",{attrs:{whichPattern:"vertical",buttonSize:t.buttonSize,largeFontSize:t.largeFontSize,playerLocRoom:t.playerLocRoom,ws:t.ws},on:{leaveRoomDialogVisible:function(e){t.leaveRoomDialogVisible=e}}})],1):t._e(),i("el-container",["0px"===t.asideWidth?i("el-header",{style:{backgroundImage:"url("+t.verticalBackground+")"}},[i("el-popover",{attrs:{placement:"bottom",width:t.popupWidth,trigger:"manual"},model:{value:t.playerListVisible,callback:function(e){t.playerListVisible=e},expression:"playerListVisible"}},[i("PlayerListModule",{attrs:{playerList:t.playerList,avatarSize:t.avatarSize,fontSize:t.fontSize,tagSize:t.tagSize,popupWidth:t.popupWidth,buttonSize:t.buttonSize,dialogWidth:t.dialogWidth,largeDialogWidth:t.largeDialogWidth,largeFontSize:t.largeFontSize,isHorizontal:"0px"!==t.asideWidth,playerInfoDialogWidth:t.playerInfoDialogWidth},on:{sendGameResultToChatRoom:function(e){t.gameResult=e.gameResult,t.gameResultDialogVisible=!0}}}),i("el-button",{staticClass:"chat-room-header-button-player-list",style:{"font-size":t.largeFontSize,padding:"0px 0px"},attrs:{slot:"reference",type:t.playerListVisible?"info":"primary",icon:"el-icon-user-solid",size:t.buttonSize,round:""},on:{click:function(e){t.playerListVisible=!t.playerListVisible}},slot:"reference"},[t._v(t._s(t.playerListVisible?"收起":"玩家列表"))])],1),0===t.$store.state.player_loc?i("ChatRoomButtonModule",{attrs:{whichPattern:"horizontal",buttonSize:t.buttonSize,largeFontSize:t.largeFontSize},on:{cancelLeaveDialogVisible:function(e){t.cancelLeaveDialogVisible=e},createGameRoomDialogVisible:function(e){t.createGameRoomDialogVisible=e}}}):i("GameRoomButtonModule",{attrs:{whichPattern:"horizontal",buttonSize:t.buttonSize,largeFontSize:t.largeFontSize,playerLocRoom:t.playerLocRoom,ws:t.ws},on:{leaveRoomDialogVisible:function(e){t.leaveRoomDialogVisible=e}}})],1):t._e(),i("el-main",{style:{backgroundImage:"url("+t.mainImg+")",padding:"0px 0px 0px 5px"}},[0===t.$store.state.player_loc?i("GameRoomListModule",{attrs:{largeFontSize:t.largeFontSize,gameRoomItemWidth:t.gameRoomItemWidth,gameRoomList:t.gameRoomList,playerList:t.playerList,ws:t.ws},on:{enterGameRoomDialogVisible:function(e){t.enterGameRoomDialogVisible=e},enterRoomDto:function(e){t.enterRoomDto=e}}}):i("GameRoomModule",{attrs:{playerLocRomTypeChatMessageObject:t.playerLocRomTypeChatMessageObject,sentGameTextToPlayerObj:t.sentGameTextToPlayerObj,playerLocRoom:t.playerLocRoom,playerList:t.playerList,isHorizontal:"0px"!==t.asideWidth,tagSize:t.tagSize,fontSize:t.fontSize,largeFontSize:t.largeFontSize,dialogWidth:t.dialogWidth,ws:t.ws,gameInfo:t.gameInfo},on:{playCard:function(e){return t.$refs.cardModule.playCardEmittedByRef()},gameTextToPlayerSent:function(e){t.sentGameTextToPlayerObj[e]={}}}})],1),i("el-footer",{attrs:{height:t.footHeight}},[i("el-container",{staticClass:"fill-height"},[t.playerLocRoom&&0!==t.playerLocRoom.status?i("CardModule",{ref:"cardModule",attrs:{gameInfo:t.gameInfo,horizontalBackground:t.horizontalBackground,fontSize:t.fontSize,buttonSize:t.buttonSize,ws:t.ws}}):i("ChatModule",{ref:"chatModule",attrs:{horizontalBackground:t.horizontalBackground,chatText:t.chatText,buttonSize:t.buttonSize,ws:t.ws}}),i("PlayerInfoModule",{attrs:{gameInfo:t.gameInfo,playerLocRoom:t.playerLocRoom,subAsideWidth:t.subAsideWidth,verticalBackground:t.verticalBackground,fontSize:t.largeFontSize,dialogWidth:t.dialogWidth,playerInfoDialogWidth:t.playerInfoDialogWidth,ws:t.ws,isHorizontal:"0px"!==t.asideWidth,buttonSize:t.buttonSize,avatarSize:t.avatarSize},on:{sendGameResultToChatRoom:function(e){t.gameResult=e.gameResult,t.gameResultDialogVisible=!0}}})],1)],1)],1)],1),i("LogoutDialogModule",{attrs:{cancelLeaveDialogVisible:t.cancelLeaveDialogVisible,dialogWidth:t.dialogWidth},on:{cancelLeaveDialogVisible:function(e){t.cancelLeaveDialogVisible=e}}}),i("CreateGameRoomDialogModule",{attrs:{createGameRoomDialogVisible:t.createGameRoomDialogVisible,dialogWidth:t.dialogWidth,ws:t.ws},on:{createGameRoomDialogVisible:function(e){t.createGameRoomDialogVisible=e}}}),i("LeaveRoomDialogModule",{attrs:{leaveRoomDialogVisible:t.leaveRoomDialogVisible,dialogWidth:t.dialogWidth,playerLocRoom:t.playerLocRoom,ws:t.ws},on:{leaveRoomDialogVisible:function(e){t.leaveRoomDialogVisible=e}}}),i("EnterGameRoomDialogModule",{attrs:{enterGameRoomDialogVisible:t.enterGameRoomDialogVisible,enterRoomDto:t.enterRoomDto,dialogWidth:t.dialogWidth,ws:t.ws},on:{enterGameRoomDialogVisible:function(e){t.enterGameRoomDialogVisible=e}}}),i("AskChangeSeatDialogModule",{attrs:{askChangeSeatDialogVisible:t.askChangeSeatDialogVisible,askChangeSeatInfo:t.askChangeSeatInfo,playerList:t.playerList,buttonSize:t.buttonSize,fontSize:t.fontSize,dialogWidth:t.dialogWidth,ws:t.ws},on:{askChangeSeatDialogVisible:function(e){t.askChangeSeatDialogVisible=e}}}),i("GameResultDialogModule",{attrs:{gameResult:t.gameResult,gameResultDialogVisible:t.gameResultDialogVisible,avatarSize:t.avatarSize,fontSize:t.fontSize,tagSize:t.tagSize,popupWidth:t.popupWidth,buttonSize:t.buttonSize,dialogWidth:t.dialogWidth,largeDialogWidth:t.largeDialogWidth,largeFontSize:t.largeFontSize},on:{gameResultDialogVisible:function(e){t.gameResultDialogVisible=e}}}),i("AnnounceDialogModule",{attrs:{announceDialogVisible:t.announceDialogVisible,dialogWidth:t.dialogWidth,avatarSize:t.avatarSize,fontSize:t.largeFontSize},on:{announceDialogVisible:t.announceViewHandler}})],1)},r=[],o=(i("b0c0"),i("b64b"),i("a492")),s={data:function(){return{wsUrl:"wss://www.jttw.link",lockReconnect:!1,reconnectTimes:0,ws:null,timeoutObj:null,serverTimeoutObj:null,reconnectTimeoutObj:null,wsDelay:"3000",maxReconnectTImes:"15",timeout:"15000",chatTextId:0}},computed:{isLeave:function(){return-1===this.$route.path.indexOf("chatroom")}},methods:{createWebSocket:function(t){var e=this;this.ws=new WebSocket(t),this.ws.onopen=function(){e.start(),e.ws.send(JSON.stringify({type:"gameRoomList",id:0})),e.$store.state.player_loc>0?e.ws.send(JSON.stringify({type:"playerList",action:"get"})):e.ws.send(JSON.stringify({type:"playerList",nickname:e.$store.state.nickname,avatar_id:e.$store.state.avatar_id,player_loc:e.$store.state.player_loc,player_status:e.$store.state.player_status})),e.sendMessageToChatRoom({id:0,name:"【系统消息】",type:"success",text:"进入游戏大厅，成功连接服务器"})},this.ws.onmessage=function(t){var i=JSON.parse(t.data);if(e.reconnectTimes=0,"chat"===i.type)i.player_loc===e.$store.state.player_loc&&(e.sendMessageToChatRoom({id:0,name:i.userId===e.$store.state.id?"你":i.nickname,type:"info",text:i.text}),i.player_loc>0&&(e.playerLocRomTypeChatMessageObject={id:i.userId,nickname:i.nickname,text:i.text}));else if("system"===i.type)i.player_loc===e.$store.state.player_loc&&e.sendMessageToChatRoom({id:0,name:"【系统消息】",type:"warning",text:i.text});else if("message"===i.type)i.player_loc===e.$store.state.player_loc&&e.$message({message:i.text,type:i.subType});else if("error"===i.type)i.player_loc===e.$store.state.player_loc&&(e.sendMessageToChatRoom({id:0,name:"【系统消息】",type:"error",text:i.text}),e.$message.error(i.text));else if("askChangeSeat"===i.type)e.askChangeSeatDialogVisible=!0,e.askChangeSeatInfo=i.data;else if("playerList"===i.type){for(var n=[],a={},r=0,s=0,l=0;l<i.data.length;l++)a=JSON.parse(i.data[l]),n.push(a),a.id===e.$store.state.id&&(r=a.player_loc,s=a.player_status);0!==r?0===e.$store.state.player_loc&&e.$message.success("成功进入房间"):0!==e.$store.state.player_loc&&e.$message.info("已离开房间，回到游戏大厅"),e.$store.dispatch("mutatePlayerLoc",r),e.$store.dispatch("mutatePlayerStatus",s),e.playerList=n}else if("gameRoomList"===i.type){for(var u=[],c={},h=0,p=null,d=0;d<i.data.length;d++){c=JSON.parse(i.data[d]),u.push(c);for(var f=0;f<Object.keys(c.playerList).length;f++)if(e.$store.state.id===c.playerList[f].id){h=c.id,p=c;break}}null!==p?(e.playerLocRoom=p,e.$store.state.player_loc!==h&&e.ws.send(JSON.stringify({type:"playerList",nickname:e.$store.state.nickname,avatar_id:e.$store.state.avatar_id,player_loc:h,player_status:0===h?0:0===p.status?1:2})),1===p.status&&null===e.gameInfo&&e.ws.send(JSON.stringify({type:"game",action:"get",id:p.id})),0===p.status&&null!==e.gameInfo&&(e.gameInfo=null)):e.ws.send(JSON.stringify({type:"playerList",nickname:e.$store.state.nickname,avatar_id:e.$store.state.avatar_id,player_loc:0,player_status:0})),e.gameRoomList=u,e.$nextTick((function(){e.loading.close()}))}else if("game"===i.type)if("initialize"===i.action||null===e.gameInfo)e.gameInfo=JSON.parse(i.data),e.leaveRoomDialogVisible=!1,e.askChangeSeatDialogVisible=!1;else if("shiftOnline"===i.action)null!==e.gameInfo&&(e.gameInfo.gamePlayer[i.seatIndex].online=i.online);else if("textToPlayer"===i.action)e.sentGameTextToPlayerObj[i.data.source]=i.data;else if("delete"===i.action)e.gameInfo=null;else if("result"===i.action){e.gameResult=JSON.parse(i.data),e.gameResultDialogVisible=!0,Object(o["d"])("game-over-voice"),Object(o["d"])("game-over");for(var g=0;g<e.gameResult.playerExpList.length;g++)if(e.gameResult.playerExpList[g].id===e.$store.state.id){e.$message.success("获得 "+e.gameResult.playerExpList[g].exp+" 点经验值");break}}else{var m=JSON.parse(i.data);m.version>e.gameInfo.version&&(e.gameInfo=m)}e.reset()},this.ws.onclose=function(t){1e3===t.code?(clearInterval(e.timeoutObj),clearTimeout(e.serverTimeoutObj),clearTimeout(e.reconnectTimeoutObj),e.sendMessageToChatRoom({id:0,name:"【系统消息】",type:"error",text:t.reason})):!1===e.isLeave&&(e.reconnect(e.wsUrl),e.loading=e.$loading({lock:!0,text:"努力连接中",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.7)"}))},this.ws.onerror=function(){!1===e.isLeave&&(e.loading=e.$loading({lock:!0,text:"网络异常，尝试重连",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.7)"}),e.reconnect(e.wsUrl))}},reset:function(){clearTimeout(this.serverTimeoutObj),clearTimeout(this.reconnectTimeoutObj)},start:function(){var t=this;this.timeoutObj=setInterval((function(){t.ws.send(JSON.stringify({type:"ping"})),t.serverTimeoutObj=setTimeout((function(){t.ws.close()}),t.timeout)}),this.timeout)},reconnect:function(){var t=this;this.lockReconnect||(this.lockReconnect=!0,this.reconnectTimeoutObj=setTimeout((function(){!1===t.isLeave?t.reconnectTimes<t.maxReconnectTImes?(t.reconnectTimes=t.reconnectTimes+1,t.sendMessageToChatRoom({id:0,name:"【系统消息】",type:"warning",text:"与服务器连接断开，尝试重连中..."}),t.createWebSocket(t.wsUrl),t.lockReconnect=!1):(t.$message.error("已与游戏大厅断开连接"),t.sendMessageToChatRoom({id:0,name:"【系统消息】",type:"error",text:"已与游戏大厅断开连接"}),t.loading.close(),clearInterval(t.timeoutObj),clearTimeout(t.serverTimeoutObj),clearTimeout(t.reconnectTimeoutObj)):(clearInterval(t.timeoutObj),clearTimeout(t.serverTimeoutObj),clearTimeout(t.reconnectTimeoutObj))}),t.wsDelay))},sendMessageToChatRoom:function(t){null===this.gameInfo&&!1===this.isLeave&&(this.chatTextId=this.chatTextId+1,t.id=this.chatTextId,this.chatText.push(t),this.chatText.length>50&&this.chatText.shift(),this.$nextTick((function(){this.$refs.chatModule&&this.$refs.chatModule.modifyScrollHeight()})))}},created:function(){this.createWebSocket(this.wsUrl)},beforeDestroy:function(){var t=this;clearInterval(this.timeoutObj),clearTimeout(this.serverTimeoutObj),clearTimeout(this.reconnectTimeoutObj),this.$nextTick((function(){t.ws.close()}))}},l={data:function(){return{asideWidth:"",subAsideWidth:"",footHeight:"",buttonSize:"",avatarSize:0,fontSize:"",tagSize:"",largeFontSize:"",popupWidth:0,dialogWidth:"",largeDialogWidth:"",playerInfoDialogWidth:"",gameRoomItemWidth:90,mainImg:i("6144"),horizontalBackground:i("ea4a"),verticalBackground:i("0330")}},methods:{resizeLogic:function(){var t=document.body.clientWidth;t<400?(this.asideWidth="0px",this.footHeight="180px",this.subAsideWidth="120px",this.buttonSize="mini",this.avatarSize=20,this.fontSize="7px",this.tagSize="mini",this.popupWidth=160,this.largeFontSize="10px",this.dialogWidth="70%",this.largeDialogWidth="95%",this.playerInfoDialogWidth="95%",this.gameRoomItemWidth=90):t<800?(this.asideWidth="160px",this.footHeight="120px",this.subAsideWidth="150px",this.buttonSize="mini",this.avatarSize=25,this.fontSize="8px",this.tagSize="mini",this.popupWidth=160,this.largeFontSize="11px",this.dialogWidth="50%",this.largeDialogWidth="60%",this.playerInfoDialogWidth="75%",this.gameRoomItemWidth=70):t<900?(this.asideWidth="160px",this.footHeight="110px",this.subAsideWidth="150px",this.buttonSize="mini",this.avatarSize=30,this.fontSize="9px",this.tagSize="mini",this.popupWidth=170,this.largeFontSize="12px",this.dialogWidth="40%",this.largeDialogWidth="40%",this.playerInfoDialogWidth="60%",this.gameRoomItemWidth=65):t<1024?(this.asideWidth="200px",this.footHeight="180px",this.subAsideWidth="200px",this.buttonSize="small",this.avatarSize=35,this.fontSize="10px",this.tagSize="small",this.popupWidth=180,this.largeFontSize="13px",this.dialogWidth="30%",this.largeDialogWidth="30%",this.playerInfoDialogWidth="50%",this.gameRoomItemWidth=60):t<1280?(this.asideWidth="250px",this.footHeight="200px",this.subAsideWidth="200px",this.buttonSize="medium",this.avatarSize=40,this.fontSize="11px",this.tagSize="medium",this.popupWidth=190,this.largeFontSize="14px",this.dialogWidth="30%",this.largeDialogWidth="30%",this.playerInfoDialogWidth="50%",this.gameRoomItemWidth=55):(this.asideWidth="300px",this.footHeight="220px",this.subAsideWidth="200px",this.buttonSize="medium",this.avatarSize=45,this.fontSize="12px",this.tagSize="medium",this.popupWidth=200,this.largeFontSize="15px",this.dialogWidth="30%",this.largeDialogWidth="30%",this.playerInfoDialogWidth="50%",this.gameRoomItemWidth=50)}},mounted:function(){window.addEventListener("resize",this.resizeLogic,!1),this.$nextTick((function(){this.resizeLogic()}))},beforeDestroy:function(){window.removeEventListener("resize",this.resizeLogic)}},u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!==t.playerList&&t.playerList.length>0?i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{height:t.isHorizontal?"70vh":null,data:t.playerList,"row-class-name":t.tableRowClassName,"row-style":t.rowStyle,"header-row-style":t.rowStyle},on:{"row-click":t.getRowPlayerInfo}},[i("el-table-column",{attrs:{prop:"avatar_id",label:"头像","min-width":"30"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-avatar",{attrs:{shape:"square",size:t.avatarSize,src:t.getAvatarUrl(e.row.avatar_id)}})]}}],null,!1,776114895)}),i("el-table-column",{attrs:{prop:"nickname",label:"玩家","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("el-tag",{style:t.rowStyle,attrs:{type:t.getType(e.row.player_status),effect:"dark",size:t.tagSize}},[t._v(" "+t._s(t.getStatus(e.row.player_status))+" ")]),i("span",[t._v(t._s(" "+e.row.nickname))])],1)]}}],null,!1,33302723)})],1),i("el-dialog",{attrs:{title:t.playerProfile.nickname,visible:t.playerInfoDialogVisible,width:t.playerInfoDialogWidth,"modal-append-to-body":!1,center:"",modal:!1},on:{"update:visible":function(e){t.playerInfoDialogVisible=e}}},[i("PlayerInfoTabModule",{attrs:{playerProfile:t.playerProfile,fontSize:t.fontSize,isShowing:t.playerInfoDialogVisible,isHorizontal:t.isHorizontal},on:{sendGameResultToPlayerInfo:function(e){t.$emit("sendGameResultToChatRoom",e)}}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{style:{"font-size":t.fontSize},attrs:{type:"danger",size:t.buttonSize},on:{click:function(e){t.playerInfoDialogVisible=!1}}},[t._v("关闭")])],1)],1)],1):t._e()},c=[],h=(i("a9e3"),i("d3b7"),i("b775"));function p(t){return Object(h["a"])({url:"/player/record/"+t.id,method:"get"})}function d(t){return Object(h["a"])({url:"/game/records/",params:{page:t.page,id:t.id},method:"get"})}function f(t){return Object(h["a"])({url:"/game/record/"+t.id,method:"get"})}var g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return null!==t.playerProfile?i("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleViewModuleTabClick},model:{value:t.activeViewModuleTabName,callback:function(e){t.activeViewModuleTabName=e},expression:"activeViewModuleTabName"}},[i("el-tab-pane",{attrs:{label:"个人战绩",name:"record"}},[i("PlayerProfileModule",{attrs:{playerProfile:t.playerProfile}})],1),i("el-tab-pane",{attrs:{label:"过去对局",name:"game"}},[i("GameResultsListModule",{attrs:{gameResultsList:t.gameResultsList,gameResultsPageNum:t.gameResultsPageNum,fontSize:t.fontSize,isHorizontal:t.isHorizontal,currentPage:t.gameResultListCurrentPage},on:{pageChanged:t.getGameRecordsList,sendGameResultToPlayerInfoTab:function(e){t.$emit("sendGameResultToPlayerInfo",e)}}})],1),i("el-tab-pane",{attrs:{label:"排行榜",name:"rank"}},[i("RankModule",{attrs:{playerProfile:t.playerProfile,fontSize:t.fontSize,isShowing:t.isShowing}})],1),t.playerProfile.id===t.$store.state.id?i("el-tab-pane",{attrs:{label:"设置",name:"setting"}},[i("SettingModule",{attrs:{fontSize:t.fontSize}})],1):t._e(),t._e()],1):t._e()},m=[],y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"player-profile-box"},[i("el-image",{staticStyle:{"margin-left":"35%",width:"30%"},attrs:{src:t.getAvatarUrl(t.playerProfile.avatar_id),fit:"fill"}}),t.playerProfile.id===t.$store.state.id?i("p",{staticClass:"player-profile-line"},[i("el-tooltip",{attrs:{effect:"light",content:"距下次升级："+t.currentExp+" / "+t.nextLevelExp,placement:"top"}},[i("el-progress",{attrs:{"text-inside":!0,percentage:t.expPecent,"stroke-width":20,status:"success"}})],1)],1):t._e(),i("p",{staticClass:"player-profile-line"},[i("span",[t._v("等级：")]),i("span",{staticClass:"player-profile-line-right"},[t._v(t._s(t.level)+"级")])]),i("p",{staticClass:"player-profile-line"},[i("span",[t._v("局数：")]),i("span",{staticClass:"player-profile-line-right"},[t._v(t._s(t.playerProfile.record.num_of_game)+"局")])]),i("p",{staticClass:"player-profile-line"},[i("el-tooltip",{attrs:{effect:"light",content:"某局中收牌数最少",placement:"right"}},[i("span",[t._v("吃鸡：")])]),i("span",{staticClass:"player-profile-line-right"},[t._v(t._s(t.playerProfile.record.least_game)+"局")])],1),i("p",{staticClass:"player-profile-line"},[i("el-tooltip",{attrs:{effect:"light",content:"某局中收牌数最多",placement:"right"}},[i("span",[t._v("拉跨：")])]),i("span",{staticClass:"player-profile-line-right"},[t._v(t._s(t.playerProfile.record.most_game)+"局")])],1),i("p",{staticClass:"player-profile-line"},[i("span",[t._v("总收牌数：")]),i("span",{staticClass:"player-profile-line-right"},[t._v(t._s(t.playerProfile.record.experienced_cards)+"张")])]),i("p",{staticClass:"player-profile-line"},[i("span",[t._v("场均收牌数：")]),i("el-tooltip",{attrs:{effect:"light",content:t.playerProfile.record.experienced_cards+" / "+t.playerProfile.record.num_of_game,placement:"left"}},[i("span",{staticClass:"player-profile-line-right"},[t._v(t._s(0===t.playerProfile.record.num_of_game?0:(t.playerProfile.record.experienced_cards/t.playerProfile.record.num_of_game).toFixed(1))+"张")])])],1),i("p",{staticClass:"player-profile-line"},[i("span",[t._v("最大连击收牌数：")]),i("span",{staticClass:"player-profile-line-right"},[t._v(t._s(t.playerProfile.record.max_combo)+"张")])]),i("p",{staticClass:"player-profile-line"},[i("span",[t._v("单局最少收牌数：")]),i("span",{staticClass:"player-profile-line-right"},[t._v(t._s(-1===t.playerProfile.record.least_cards?0:t.playerProfile.record.least_cards)+"张")])]),i("p",{staticClass:"player-profile-line"},[i("el-tooltip",{attrs:{effect:"light",content:"收牌数占该局玩家平均收牌数的比例(小于100%)",placement:"right"}},[i("span",[t._v("单局最低收牌比：")])]),i("el-tooltip",{attrs:{effect:"light",content:t.playerProfile.record.min_card+" / "+t.playerProfile.record.min_card_amount,placement:"left"}},[i("span",{staticClass:"player-profile-line-right"},[t._v(t._s(0===t.playerProfile.record.min_card_amount?0:(100*t.playerProfile.record.min_card/t.playerProfile.record.min_card_amount).toFixed(1))+"%")])])],1),i("p",{staticClass:"player-profile-line"},[i("span",[t._v("单局最多收牌数：")]),i("span",{staticClass:"player-profile-line-right"},[t._v(t._s(t.playerProfile.record.most_cards)+"张")])]),i("p",{staticClass:"player-profile-line"},[i("el-tooltip",{attrs:{effect:"light",content:"收牌数占该局玩家平均收牌数的比例(至少100%)",placement:"right"}},[i("span",[t._v("单局最高收牌比：")])]),i("el-tooltip",{attrs:{effect:"light",content:t.playerProfile.record.max_card+" / "+t.playerProfile.record.max_card_amount,placement:"left"}},[i("span",{staticClass:"player-profile-line-right"},[t._v(t._s(0===t.playerProfile.record.max_card_amount?0:(100*t.playerProfile.record.max_card/t.playerProfile.record.max_card_amount).toFixed(1))+"%")])])],1),i("br")],1)},v=[],_=[100,300,600,1e3,1500,2200,3e3,3900,4900,6e3,7500,9300,11500,14200,17500,22500,3e4,42e3,59e3,85e3];function x(t){for(var e=0,i=0,n=0,a=0;a<_.length;a++){if(t<_[a])return e=_[a],i=a+1,n=Math.round(100*t/_[a]),{nextLevelExp:e,level:i,expPecent:n,currentExp:t};t-=_[a]}return t=NaN,e=NaN,i=20,n=100,{nextLevelExp:e,level:i,expPecent:n,currentExp:t}}var b={data:function(){return{level:0,expPecent:0,currentExp:0,nextLevelExp:0}},watch:{"playerProfile.record.experience":{immediate:!0,handler:function(t){var e=x(t);this.currentExp=e.currentExp,this.nextLevelExp=e.nextLevelExp,this.level=e.level,this.expPecent=e.expPecent}}},props:{playerProfile:{type:Object,default:null}},methods:{getAvatarUrl:function(t){return i("f672")("./avatar_"+t+"-min.png")}}},S=b,w=(i("1b99"),i("2877")),C=Object(w["a"])(S,y,v,!1,null,null,null),T=C.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.gameResultsList.length>0?n("div",[t._l(t.gameResultsList,(function(e){return n("div",{key:e.id,staticClass:"game-result-item"},[n("el-alert",{staticStyle:{margin:"0",padding:"0"},attrs:{center:"",closable:!1,title:t.getGameDate(new Date(e.createdAt))+" 座位 "+(e.seat_index+1),type:"info"}}),n("div",{staticStyle:{"margin-top":"1%",height:"84%"}},[n("div",{staticClass:"game-result-sub-item"},[n("div",[n("span",{style:{"font-size":t.fontSize}},[t._v(t._s(e.nickname))])]),n("el-avatar",{attrs:{shape:"square",fit:"cover",src:t.getAvatarUrl(e.avatar_id)}})],1),n("div",{staticClass:"game-result-sub-item"},[n("div",[n("span",{style:{"font-size":t.fontSize}},[t._v("总收牌: "+t._s(e.cards)+"张")])]),n("el-avatar",{attrs:{shape:"square",fit:"cover",src:i("b30a")}})],1),n("div",{staticClass:"game-result-sub-item"},[n("div",[n("span",{style:{"font-size":t.fontSize}},[t._v("最大连击: "+t._s(e.max_combo)+"张")])]),n("el-avatar",{attrs:{shape:"square",fit:"cover",src:i("2fe9")}})],1),n("div",{staticClass:"game-result-sub-item",on:{click:function(i){return t.getGameResultInfo(e.gameId)}}},[n("div",[n("span",{style:{"font-size":t.fontSize}},[t._v("查看详情")])]),n("el-avatar",{staticClass:"view-game-result-button",attrs:{shape:"square",fit:"cover",src:i("85e9")}})],1)])],1)})),n("el-pagination",{staticStyle:{"text-align":"center"},attrs:{background:"",layout:"prev, pager, next",total:t.gameResultsPageNum,"hide-on-single-page":t.gameResultsPageNum<=5,"page-size":5,small:!t.isHorizontal,"pager-count":5,"current-page":t.currentPage},on:{"current-change":t.emitPageChanged}})],2):t._e()},I=[],z={data:function(){return{}},props:{gameResultsList:Array,gameResultsPageNum:{type:Number,default:0},fontSize:{type:String,default:""},isHorizontal:{type:Boolean,default:!1},currentPage:{type:Number,default:0}},methods:{getGameDate:function(t){return t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日 "+t.getHours()+"时"+t.getMinutes()+"分"},getAvatarUrl:function(t){return i("f672")("./avatar_"+t+"-min.png")},emitPageChanged:function(t){this.$emit("pageChanged",t)},getGameResultInfo:function(t){var e=this;f({id:t}).then((function(t){e.$emit("sendGameResultToPlayerInfoTab",{gameResult:t.gameResult})})).catch((function(){e.$message.error("获取数据失败，请稍后重试")}))}}},M=z,P=(i("e3fa"),Object(w["a"])(M,k,I,!1,null,null,null)),L=P.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"setting_item"},[i("div",[i("span",{style:{"font-size":t.fontSize}},[t._v("背景音乐")]),i("el-switch",{staticStyle:{float:"right"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.backgroundMusic,callback:function(e){t.backgroundMusic=e},expression:"backgroundMusic"}})],1)]),t.isIphoneOrIpad?t._e():i("div",{staticClass:"setting_item"},[i("span",{staticStyle:{"line-height":"40px"},style:{"font-size":t.fontSize}},[t._v("音乐音量")]),i("el-slider",{staticStyle:{width:"70%",float:"right"},attrs:{disabled:!t.backgroundMusic,"show-tooltip":!1},model:{value:t.bgmVolume,callback:function(e){t.bgmVolume=e},expression:"bgmVolume "}})],1),i("div",{staticClass:"setting_item"},[i("div",[i("span",{style:{"font-size":t.fontSize}},[t._v("游戏音效")]),i("el-switch",{staticStyle:{float:"right"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.soundEffect,callback:function(e){t.soundEffect=e},expression:"soundEffect"}})],1)]),t.isIphoneOrIpad?t._e():i("div",{staticClass:"setting_item"},[i("span",{staticStyle:{"line-height":"40px"},style:{"font-size":t.fontSize}},[t._v("音效音量")]),i("el-slider",{staticStyle:{width:"70%",float:"right"},attrs:{disabled:!t.soundEffect,"show-tooltip":!1},model:{value:t.soundVolume,callback:function(e){t.soundVolume=e},expression:"soundVolume"}})],1),i("div",{staticClass:"setting_item"},[i("div",[i("span",{style:{"font-size":t.fontSize}},[t._v("出牌提示声")]),i("el-switch",{staticStyle:{float:"right"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949",disabled:!t.soundEffect},model:{value:t.youTurnVoice,callback:function(e){t.youTurnVoice=e},expression:"youTurnVoice"}})],1)]),i("div",{staticClass:"setting_item"},[i("div",[i("span",{staticStyle:{"line-height":"40px"},style:{"font-size":t.fontSize}},[t._v("快速发言")]),i("el-select",{staticStyle:{float:"right"},attrs:{"multiple-limit":10,"value-key":"id",multiple:"","collapse-tags":"",placeholder:"请选择"},model:{value:t.quickChat,callback:function(e){t.quickChat=e},expression:"quickChat"}},t._l(t.messageGroups,(function(e){return i("el-option-group",{key:e.label,attrs:{label:e.label}},t._l(e.options,(function(t){return i("el-option",{key:t.id,attrs:{label:t.text,value:t}})})),1)})),1)],1)]),i("div",{staticClass:"setting_item"},[i("div",[i("span",{style:{"font-size":t.fontSize}},[t._v("变身牌边框")]),i("el-switch",{staticStyle:{float:"right"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.bianshenSwitch,callback:function(e){t.bianshenSwitch=e},expression:"bianshenSwitch"}})],1)])])},R=[],A=(i("b680"),{data:function(){return{messageGroups:[{label:"调侃",options:[{id:1,music:"1",text:"你的牌打得太好了"},{id:2,music:"2",text:"我等得花儿都谢了"},{id:3,music:"3",text:"合作愉快"},{id:4,music:"4",text:"都别走，大战到天亮"}]},{label:"求助",options:[{id:5,music:"5",text:"小小小"},{id:6,music:"6",text:"大大大"},{id:7,music:"7",text:"求师傅"},{id:8,music:"8",text:"求拉满"},{id:9,music:"9",text:"求转向"}]},{label:"收牌",options:[{id:10,music:"10",text:"收"},{id:11,music:"11",text:"我太难了"},{id:12,music:"12",text:"我人没了"},{id:13,music:"13",text:"战略性收牌"}]},{label:"方言",options:[{id:14,music:"14",text:"洗"},{id:15,music:"15",text:"所所所"},{id:16,music:"16",text:"卷卷卷"},{id:17,music:"17",text:"小小小(桂)"},{id:18,music:"18",text:"大大大(桂)"},{id:19,music:"19",text:"我霉了"},{id:20,music:"20",text:"牛掰"},{id:21,music:"21",text:"瘾"},{id:22,music:"22",text:"我好方啊"},{id:23,music:"23",text:"来啊"}]}]}},props:{fontSize:{type:String,default:""}},computed:{isIphoneOrIpad:function(){var t=navigator.userAgent;return t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1},backgroundMusic:{get:function(){return this.$store.state.setting.playBgm},set:function(t){var e=this.$store.state.setting;e.playBgm=t,this.$store.dispatch("mutateSetting",e).then((function(){Object(o["c"])()}))}},soundEffect:{get:function(){return this.$store.state.setting.playSound},set:function(t){var e=this.$store.state.setting;e.playSound=t,!1===t&&(e.youTurnVoice=t),this.$store.dispatch("mutateSetting",e)}},bgmVolume:{get:function(){return this.$store.state.setting.bgmVolume},set:function(t){var e=this.$store.state.setting;e.bgmVolume=t,this.$store.dispatch("mutateSetting",e).then((function(){Object(o["a"])((t/100).toFixed(1))}))}},soundVolume:{get:function(){return this.$store.state.setting.soundVolume},set:function(t){var e=this.$store.state.setting;e.soundVolume=t,this.$store.dispatch("mutateSetting",e).then((function(){Object(o["b"])((t/100).toFixed(1))}))}},youTurnVoice:{get:function(){return this.$store.state.setting.youTurnVoice},set:function(t){var e=this.$store.state.setting;e.youTurnVoice=t,this.$store.dispatch("mutateSetting",e)}},quickChat:{get:function(){return this.$store.state.setting.textToPlayer},set:function(t){var e=this.$store.state.setting;e.textToPlayer=t,this.$store.dispatch("mutateSetting",e)}},bianshenSwitch:{get:function(){return this.$store.state.setting.bianshenBorder},set:function(t){var e=this.$store.state.setting;e.bianshenBorder=t,this.$store.dispatch("mutateSetting",e)}}}}),O=A,F=(i("04a9"),Object(w["a"])(O,D,R,!1,null,"29d6da86",null)),N=F.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-collapse",{attrs:{accordion:""},on:{change:t.changeHandler},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[i("el-collapse-item",{attrs:{name:"level"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-medal-1"}),t._v("等级 ")]),null!==t.rankInfo?[i("p",[t._v(t._s(t.showTopThreeLabel))]),t._l(t.rankInfo.rankList,(function(e){return i("RankItem",{key:e.id,attrs:{rank:e.rank,avatarId:e.avatarId,nickname:e.nickname,record:t.calLevel(e.record)+"级",fontSize:t.fontSize}})})),i("p",[t._v(t._s(t.showPlayerName))]),null!==t.rankInfo.playerInfo?i("RankItem",{attrs:{rank:t.rankInfo.playerInfo.rank,avatarId:t.playerProfile.avatar_id,nickname:t.playerProfile.nickname,record:t.calLevel(t.rankInfo.playerInfo.record)+"级",fontSize:t.fontSize}}):t._e()]:t._e()],2),i("el-collapse-item",{attrs:{name:"winner"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-chicken"}),t._v("吃鸡 ")]),null!==t.rankInfo?[i("p",[t._v(t._s(t.showTopThreeLabel))]),t._l(t.rankInfo.rankList,(function(e){return i("RankItem",{key:e.id,attrs:{rank:e.rank,avatarId:e.avatarId,nickname:e.nickname,record:e.record+"局",fontSize:t.fontSize}})})),i("p",[t._v(t._s(t.showPlayerName))]),null!==t.rankInfo.playerInfo?i("RankItem",{attrs:{rank:t.rankInfo.playerInfo.rank,avatarId:t.playerProfile.avatar_id,nickname:t.playerProfile.nickname,record:t.rankInfo.playerInfo.record+"局",fontSize:t.fontSize}}):t._e()]:t._e()],2),i("el-collapse-item",{attrs:{name:"loser"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-delete"}),t._v("拉跨 ")]),null!==t.rankInfo?[i("p",[t._v(t._s(t.showTopThreeLabel))]),t._l(t.rankInfo.rankList,(function(e){return i("RankItem",{key:e.id,attrs:{rank:e.rank,avatarId:e.avatarId,nickname:e.nickname,record:e.record+"局",fontSize:t.fontSize}})})),i("p",[t._v(t._s(t.showPlayerName))]),null!==t.rankInfo.playerInfo?i("RankItem",{attrs:{rank:t.rankInfo.playerInfo.rank,avatarId:t.playerProfile.avatar_id,nickname:t.playerProfile.nickname,record:t.rankInfo.playerInfo.record+"局",fontSize:t.fontSize}}):t._e()]:t._e()],2),i("el-collapse-item",{attrs:{name:"sum"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-files"}),t._v("总收牌数 ")]),null!==t.rankInfo?[i("p",[t._v(t._s(t.showTopThreeLabel))]),t._l(t.rankInfo.rankList,(function(e){return i("RankItem",{key:e.id,attrs:{rank:e.rank,avatarId:e.avatarId,nickname:e.nickname,record:e.record+"张",fontSize:t.fontSize}})})),i("p",[t._v(t._s(t.showPlayerName))]),null!==t.rankInfo.playerInfo?i("RankItem",{attrs:{rank:t.rankInfo.playerInfo.rank,avatarId:t.playerProfile.avatar_id,nickname:t.playerProfile.nickname,record:t.rankInfo.playerInfo.record+"张",fontSize:t.fontSize}}):t._e()]:t._e()],2),i("el-collapse-item",{attrs:{name:"combo"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-tickets"}),t._v("最大连击收牌数 ")]),null!==t.rankInfo?[i("p",[t._v(t._s(t.showTopThreeLabel))]),t._l(t.rankInfo.rankList,(function(e){return i("RankItem",{key:e.id,attrs:{rank:e.rank,avatarId:e.avatarId,nickname:e.nickname,record:e.record+"张",fontSize:t.fontSize}})})),i("p",[t._v(t._s(t.showPlayerName))]),null!==t.rankInfo.playerInfo?i("RankItem",{attrs:{rank:t.rankInfo.playerInfo.rank,avatarId:t.playerProfile.avatar_id,nickname:t.playerProfile.nickname,record:t.rankInfo.playerInfo.record+"张",fontSize:t.fontSize}}):t._e()]:t._e()],2),i("el-collapse-item",{attrs:{name:"least_cards"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-medal"}),t._v("单局最少收牌数 ")]),null!==t.rankInfo?[i("p",[t._v(t._s(t.showTopThreeLabel))]),t._l(t.rankInfo.rankList,(function(e){return i("RankItem",{key:e.id,attrs:{rank:e.rank,avatarId:e.avatarId,nickname:e.nickname,record:e.record+"张",fontSize:t.fontSize}})})),i("p",[t._v(t._s(t.showPlayerName))]),null!==t.rankInfo.playerInfo?i("RankItem",{attrs:{rank:t.rankInfo.playerInfo.rank,avatarId:t.playerProfile.avatar_id,nickname:t.playerProfile.nickname,record:t.rankInfo.playerInfo.record+"张",fontSize:t.fontSize}}):t._e()]:t._e()],2),i("el-collapse-item",{attrs:{name:"lowest_rate"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-trophy"}),t._v("单局最低收牌比 ")]),null!==t.rankInfo?[i("p",[t._v(t._s(t.showTopThreeLabel))]),t._l(t.rankInfo.rankList,(function(e){return i("RankItem",{key:e.id,attrs:{rank:e.rank,avatarId:e.avatarId,nickname:e.nickname,record:e.record/10+"%",fontSize:t.fontSize}})})),i("p",[t._v(t._s(t.showPlayerName))]),null!==t.rankInfo.playerInfo?i("RankItem",{attrs:{rank:t.rankInfo.playerInfo.rank,avatarId:t.playerProfile.avatar_id,nickname:t.playerProfile.nickname,record:t.rankInfo.playerInfo.record/10+"%",fontSize:t.fontSize}}):t._e()]:t._e()],2),i("el-collapse-item",{attrs:{name:"most_cards"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-s-data"}),t._v("单局最多收牌数 ")]),null!==t.rankInfo?[i("p",[t._v(t._s(t.showTopThreeLabel))]),t._l(t.rankInfo.rankList,(function(e){return i("RankItem",{key:e.id,attrs:{rank:e.rank,avatarId:e.avatarId,nickname:e.nickname,record:e.record+"张",fontSize:t.fontSize}})})),i("p",[t._v(t._s(t.showPlayerName))]),null!==t.rankInfo.playerInfo?i("RankItem",{attrs:{rank:t.rankInfo.playerInfo.rank,avatarId:t.playerProfile.avatar_id,nickname:t.playerProfile.nickname,record:t.rankInfo.playerInfo.record+"张",fontSize:t.fontSize}}):t._e()]:t._e()],2),i("el-collapse-item",{attrs:{name:"highest_rate"}},[i("template",{slot:"title"},[i("i",{staticClass:"el-icon-trophy-1"}),t._v("单局最高收牌比 ")]),null!==t.rankInfo?[i("p",[t._v(t._s(t.showTopThreeLabel))]),t._l(t.rankInfo.rankList,(function(e){return i("RankItem",{key:e.id,attrs:{rank:e.rank,avatarId:e.avatarId,nickname:e.nickname,record:e.record/10+"%",fontSize:t.fontSize}})})),i("p",[t._v(t._s(t.showPlayerName))]),null!==t.rankInfo.playerInfo?i("RankItem",{attrs:{rank:t.rankInfo.playerInfo.rank,avatarId:t.playerProfile.avatar_id,nickname:t.playerProfile.nickname,record:t.rankInfo.playerInfo.record/10+"%",fontSize:t.fontSize}}):t._e()]:t._e()],2)],1)},B=[];function V(t){return Object(h["a"])({url:"/rank/",params:{type:t.type,id:t.id},method:"get"})}var G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-row",{staticClass:"high-light",class:{"award-background":t.rank<4},attrs:{type:"flex",align:"middle",justify:"center"}},[i("el-col",{attrs:{span:1}},[i("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]})]),i("el-col",{attrs:{span:3}},[t.rank<4?i("el-avatar",{attrs:{shape:"square",fit:"cover",src:t.getRankImg}}):i("span",{staticStyle:{"font-weight":"700"},style:{"font-size":t.fontSize,color:t.rank<4?"white":"black"}},[t._v("第"+t._s(t.rank)+"名")])],1),i("el-col",{attrs:{span:3}},[i("el-avatar",{attrs:{shape:"square",fit:"cover",src:t.getAvatarUrl(t.avatarId)}})],1),i("el-col",{attrs:{span:1}},[i("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]})]),i("el-col",{attrs:{span:12}},[i("el-tag",{style:{"font-size":t.fontSize},attrs:{type:t.tagDesign.type,effect:t.tagDesign.effect}},[t._v(t._s(t.nickname))])],1),i("el-col",{attrs:{span:4}},[i("span",{staticStyle:{"font-weight":"700",color:"white"},style:{"font-size":t.fontSize,color:t.rank<4?"white":"black"}},[t._v(t._s(t.record))])])],1)},W=[],H={data:function(){return{}},props:{fontSize:{type:String,default:""},avatarId:{type:Number,default:0},nickname:{type:String,default:""},rank:{type:Number,default:0},record:{type:String,default:""}},computed:{getRankImg:function(){return 1===this.rank?i("ad18"):2===this.rank?i("029f"):3===this.rank?i("df14"):i("c990")},tagDesign:function(){return 1===this.rank?{type:"warning",effect:"dark"}:2===this.rank?{type:"info",effect:"dark"}:3===this.rank?{type:"warning",effect:"light"}:{type:"info",effect:"plain"}}},methods:{getAvatarUrl:function(t){return i("f672")("./avatar_"+t+"-min.png")}}},j=H,$=(i("75b2"),Object(w["a"])(j,G,W,!1,null,"5c4a9e20",null)),U=$.exports,q={data:function(){return{activeName:"",rankInfo:null}},props:{fontSize:{type:String,default:""},playerProfile:{type:Object,default:null},isShowing:{type:Boolean,default:!1}},computed:{showPlayerName:function(){return null===this.playerProfile?"":null===this.rankInfo.playerInfo?this.playerProfile.id===this.$store.state.id?"你尚未拥有排名":"玩家尚未拥有排名":this.playerProfile.id===this.$store.state.id?"你的排名":"玩家排名"},showTopThreeLabel:function(){return null===this.playerProfile?"":null===this.rankInfo||this.rankInfo.rankList.length<1?"目前无排名数据":"前三名"}},watch:{isShowing:function(t){t||(this.activeName="")}},methods:{changeHandler:function(t){var e=this;""!==t&&V({type:t,id:this.playerProfile.id}).then((function(t){e.rankInfo=t.rank})).catch((function(){}))},calLevel:function(t){var e=x(t);return e.level}},components:{RankItem:U}},X=q,Y=Object(w["a"])(X,E,B,!1,null,null,null),Z=Y.exports,K={data:function(){return{gameResultsList:[],gameResultsPageNum:0,activeViewModuleTabName:"record",gameResultListCurrentPage:1}},props:{playerProfile:{type:Object,default:null},fontSize:{type:String,default:""},isShowing:{type:Boolean,default:!1},isHorizontal:{type:Boolean,default:!1}},watch:{isShowing:function(t){t&&(this.activeViewModuleTabName="record")}},methods:{handleViewModuleTabClick:function(t){"game"===t.name&&this.getGameRecordsList(1)},getGameRecordsList:function(t){var e=this;this.gameResultListCurrentPage=t,d({page:t,id:this.playerProfile.id}).then((function(t){e.gameResultsList=t.list,e.gameResultsPageNum=t.pageNum})).catch((function(){e.$message.error("获取数据失败，请稍后重试")}))}},components:{PlayerProfileModule:T,GameResultsListModule:L,SettingModule:N,RankModule:Z}},Q=K,J=Object(w["a"])(Q,g,m,!1,null,null,null),tt=J.exports,et={name:"playerListModule",data:function(){var t=!0;return t=void 0===this.playerList||0===this.playerList.length,{playerInfoDialogVisible:!1,duplicateGetInfoFlag:!1,playerProfile:{id:0,avatar_id:0,nickname:"",record:{num_of_game:0,most_game:0,least_game:0,experience:0,experienced_cards:0,max_card:0,max_card_amount:0,min_card:0,min_card_amount:0}},loading:t}},computed:{rowStyle:function(){return{"font-size":this.fontSize}}},watch:{playerList:function(){void 0!==this.playerList&&0!==this.playerList.length&&(this.loading=!1)}},props:{playerList:Array,avatarSize:{type:Number,default:20},fontSize:{type:String,default:"14px"},largeFontSize:{type:String,default:"16px"},tagSize:{type:String,default:"medium"},popupWidth:{type:Number,default:160},buttonSize:{type:String,default:"medium"},dialogWidth:{type:String,default:"50%"},largeDialogWidth:{type:String,default:"50%"},playerInfoDialogWidth:{type:String,default:"50%"},isHorizontal:{type:Boolean,default:!1}},methods:{tableRowClassName:function(t){var e=t.row;return this.getType(e.player_status)+"-row"},getAvatarUrl:function(t){return i("f672")("./avatar_"+t+"-min.png")},getStatus:function(t){return 2===t?"忙碌":1===t?"等待":0===t?"空闲":void 0},getType:function(t){return 2===t?"danger":1===t?"warning":0===t?"success":void 0},getPlayerRecord:function(t,e,i){var n=this;this.duplicateGetInfoFlag||(this.duplicateGetInfoFlag=!0,this.playerProfile.id=t,this.playerInfoDialogVisible=!0,this.playerProfile.avatar_id=e,this.playerProfile.nickname=i,p({id:t}).then((function(t){n.playerProfile.record=t.record})).catch({}).finally((function(){n.duplicateGetInfoFlag=!1})))},getRowPlayerInfo:function(t){this.getPlayerRecord(t.id,t.avatar_id,t.nickname)}},components:{PlayerInfoTabModule:tt}},it=et,nt=(i("f878"),Object(w["a"])(it,u,c,!1,null,null,null)),at=nt.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-aside",{staticClass:"hide-scroll-bar",style:{backgroundImage:"url("+t.verticalBackground+")"},attrs:{width:t.subAsideWidth}},[i("el-tooltip",{attrs:{disabled:t.$store.state.isMobile,effect:"light",content:"点击以修改头像",placement:"left"}},[i("div",{staticClass:"player-icon-box",on:{click:t.openEditAvatarDialog}},[null===t.gameInfo||-1===t.gameInfo.currentPlayer?i("el-image",{staticClass:"aside-icon",attrs:{src:t.getAvatarUrl(t.$store.state.avatar_id)}}):i("AnimatedAvatar",{attrs:{avatarClass:"aside-icon",avatarUrl:t.getAvatarUrl(t.$store.state.avatar_id),currentPlayerCards:t.getGamePlayer.cards,isCurrentPlayer:t.gameInfo.gamePlayer[t.gameInfo.currentPlayer].id===t.$store.state.id,currentGameCombo:t.gameInfo.currentCombo}})],1)]),i("el-tooltip",{attrs:{disabled:t.$store.state.isMobile,effect:"light",content:"点击以修改昵称",placement:"left"}},[i("div",{staticClass:"player-nickname-box",style:{"font-size":t.fontSize},on:{click:t.openEditNicknameDialog}},[i("span",[t._v(t._s(t.$store.state.nickname))])])]),i("div",{staticClass:"player-setting-box"},[i("el-button",{staticClass:"setting-button",style:{"font-size":t.fontSize},attrs:{type:"info",icon:"el-icon-view"},on:{click:t.openViewModule}},[t._v("查看")]),i("el-button",{staticClass:"help-button",style:{"font-size":t.fontSize},attrs:{type:"warning",icon:"el-icon-s-opportunity"},on:{click:t.openHelpModule}},[t._v("帮助")])],1),i("el-dialog",{attrs:{title:"修改头像",visible:t.avatarDialogVisible,center:"",width:t.dialogWidth,modal:!1},on:{"update:visible":function(e){t.avatarDialogVisible=e}}},[i("el-divider"),i("div",{staticClass:"icon-select-box"},t._l(t.iconNum,(function(e){return i("div",{key:e,staticClass:"icon-block",class:{"icon-is-selected":t.temAvatarId===e},on:{click:function(i){t.temAvatarId=e}}},[i("el-image",{attrs:{src:t.getAvatarUrl(e),fit:"fill"}})],1)})),0),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-right":"10%"},on:{click:function(e){t.avatarDialogVisible=!1}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.submitNewAvatar}},[t._v("修改")])],1)],1),i("el-dialog",{attrs:{title:"修改昵称",visible:t.nicknameDialogVisible,center:"",width:t.dialogWidth,"close-on-click-modal":!1,modal:!1},on:{"update:visible":function(e){t.nicknameDialogVisible=e}}},[i("el-form",{ref:"nicknameForm",attrs:{model:t.nicknameForm},nativeOn:{submit:function(e){return e.preventDefault(),t.submitNewNickname(e)}}},[i("el-form-item",{attrs:{label:"新昵称",prop:"name",rules:[{required:!0,validator:t.checkNickname,trigger:"blur"}]}},[i("el-input",{attrs:{autocomplete:"off",placeholder:"输入新昵称",maxlength:"10","show-word-limit":""},model:{value:t.nicknameForm.name,callback:function(e){t.$set(t.nicknameForm,"name",e)},expression:"nicknameForm.name"}},[i("i",{staticClass:"el-input__icon el-icon-edit-outline",attrs:{slot:"prefix"},slot:"prefix"})])],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-right":"10%"},on:{click:function(e){t.nicknameDialogVisible=!1,t.$refs.nicknameForm.clearValidate()}}},[t._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.submitNewNickname(e)}}},[t._v("修改")])],1)],1),i("el-dialog",{attrs:{title:"查看",visible:t.viewModuleDialogVisible,center:"",width:t.playerInfoDialogWidth,modal:!1},on:{"update:visible":function(e){t.viewModuleDialogVisible=e}}},[i("PlayerInfoTabModule",{attrs:{playerProfile:t.playerProfile,fontSize:t.fontSize,isShowing:t.viewModuleDialogVisible},on:{sendGameResultToPlayerInfo:function(e){t.$emit("sendGameResultToChatRoom",e)}}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{style:{"font-size":t.fontSize},attrs:{type:"danger",size:t.buttonSize},on:{click:function(e){t.viewModuleDialogVisible=!1}}},[t._v("关闭")])],1)],1),i("el-dialog",{attrs:{title:"帮助",visible:t.helpModuleDialogVisible,center:"",width:t.playerInfoDialogWidth,modal:!1},on:{"update:visible":function(e){t.helpModuleDialogVisible=e}}},[i("HelpModule",{attrs:{isShowing:t.helpModuleDialogVisible,fontSize:t.fontSize,avatarSize:t.avatarSize}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{style:{"font-size":t.fontSize},attrs:{type:"danger",size:t.buttonSize},on:{click:function(e){t.helpModuleDialogVisible=!1}}},[t._v("关闭")])],1)],1)],1)},ot=[],st="/modify";function lt(t){return Object(h["a"])({url:st+"/avatar",method:"put",data:t})}function ut(t){return Object(h["a"])({url:st+"/nickname",method:"put",data:t})}var ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-image",{class:[t.avatarClass,{avatar_vibrate:t.vibrateFlag,heartbeat:t.heartbeatFlag,heartbeat_slow:t.heartbeatSlowFlag,heartbeat_fast:t.heartbeatFastFlag}],attrs:{src:t.avatarUrl}})},ht=[],pt={data:function(){return{vibrateFlag:!1,heartbeatSlowFlag:!1,heartbeatFlag:!1,heartbeatFastFlag:!1,actionBoundryList:[0,10,20,30,40]}},props:{avatarClass:{type:String,default:""},avatarUrl:{type:String,default:""},currentPlayerCards:{type:Number,default:0},isCurrentPlayer:{type:Boolean,default:!1},currentGameCombo:{type:Number,default:0}},watch:{currentPlayerCards:function(t,e){if(null!==e){var i=this,n=t-e;this.vibrateFlag=!1,this.heartbeatFlag=!1,this.heartbeatSlowFlag=!1,this.heartbeatFastFlag=!1,n>this.actionBoundryList[0]&&window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){i.vibrateFlag=!0,Object(o["d"])("discard")}))}))}},isCurrentPlayer:function(t){!0===t?this.currentGameCombo>this.actionBoundryList[0]&&this.currentGameCombo<=this.actionBoundryList[2]?(this.heartbeatFlag=!1,this.heartbeatSlowFlag=!0,this.heartbeatFastFlag=!1):this.currentGameCombo>this.actionBoundryList[2]&&this.currentGameCombo<=this.actionBoundryList[4]?(this.heartbeatFlag=!0,this.heartbeatSlowFlag=!1,this.heartbeatFastFlag=!1):this.currentGameCombo>this.actionBoundryList[4]&&(this.heartbeatFlag=!1,this.heartbeatSlowFlag=!1,this.heartbeatFastFlag=!0):(this.vibrateFlag=!1,this.heartbeatFlag=!1,this.heartbeatSlowFlag=!1,this.heartbeatFastFlag=!1)}}},dt=pt,ft=(i("7c3d"),Object(w["a"])(dt,ct,ht,!1,null,"6cee004e",null)),gt=ft.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeHelpModuleTabName,callback:function(e){t.activeHelpModuleTabName=e},expression:"activeHelpModuleTabName"}},[n("el-tab-pane",{attrs:{label:"游戏规则",name:"rule",lazy:""}},[n("h1",{style:{"font-size":t.fontSize}},[n("i",{staticClass:"el-icon-warning-outline"}),t._v("游戏简介")]),n("hr",{staticClass:"divider-line"}),n("p",{style:{"font-size":t.fontSize}},[t._v("西游记是一种类似于“斗兽棋”的扑克牌游戏，进行该游戏至少需要2名玩家，可使用2~10副扑克牌，扑克牌数可依玩家人数酌情增减。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("另外，西游记的游戏规则各个地方不尽相同，以下游戏说明仅代表作者本人观点。")]),n("h1",{style:{"font-size":t.fontSize}},[n("i",{staticClass:"el-icon-stopwatch"}),t._v("游戏流程")]),n("hr",{staticClass:"divider-line"}),n("h2",{style:{"font-size":t.fontSize}},[t._v("开局：")]),n("p",{style:{"font-size":t.fontSize}},[t._v("开局每名玩家起5张牌作为手牌，然后由随机一名(或上局收牌数最多的)玩家开始出牌。")]),n("h2",{style:{"font-size":t.fontSize}},[t._v("顺序：")]),n("p",{style:{"font-size":t.fontSize}},[t._v("一般由开局出牌玩家开始按逆时针顺序出牌，当有玩家打出观音或如来时，反转出牌方向。")]),n("h2",{style:{"font-size":t.fontSize}},[t._v("出牌：")]),n("p",{style:{"font-size":t.fontSize}},[t._v("若台面上无牌，玩家可打出同一牌点(如♠A和"),n("span",{staticStyle:{color:"red"}},[t._v("♥A")]),t._v(")的任意张牌；若台面上有上家打出的牌，则下家须根据大小顺序打出 "),n("u",[t._v("张数相同且牌型“大于”上家牌的牌")]),t._v("，依次类推。")]),n("h2",{style:{"font-size":t.fontSize}},[t._v("连击：")]),n("p",{style:{"font-size":t.fontSize}},[t._v("打出的牌计入连击牌池，计+1。当出牌数大于1时，从第二次连击开始将产生从出牌数起计的倍乘效果。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("如连续5人打出2张牌，倍乘从2开始起计，则连击数计为： 2, 6(2+2*2), 12(6+3*2), 20(12+4*2), 30(20+5*2)。 ")]),n("p",{style:{"font-size":t.fontSize}},[t._v("如连续5人打出3张牌，倍乘从3开始起计，则连击数计为： 3, 12(3+3*3), 24(12+4*3), 39(24+5*3), 57(39+6*3)。 ")]),n("h2",{style:{"font-size":t.fontSize}},[t._v("补牌：")]),n("p",{style:{"font-size":t.fontSize}},[t._v("每次玩家出完牌后，若剩余牌堆里还有牌，则将手牌补到5张。")]),n("h2",{style:{"font-size":t.fontSize}},[t._v("收牌：")]),n("p",{style:{"font-size":t.fontSize}},[t._v("当玩家打不出“大于”牌时，则放弃出牌并收下所有连击牌池中的牌，计入自己的收牌数，然后重新开始出牌。")]),n("h2",{style:{"font-size":t.fontSize}},[t._v("结算：")]),n("p",{style:{"font-size":t.fontSize}},[t._v("当所有玩家的手牌出完后，结算所有玩家的收牌数，结束游戏。")]),n("h1",{style:{"font-size":t.fontSize}},[n("i",{staticClass:"el-icon-finished"}),t._v("大小顺序")]),n("hr",{staticClass:"divider-line"}),n("p",{style:{"font-size":t.fontSize}},[t._v("西游记使用全副扑克牌，牌点大小的比较类似于斗兽棋。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("其中")]),n("h2",{style:{"font-size":t.fontSize}},[t._v("特殊牌：")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("a05d")}}),n("span",{style:{"font-size":t.fontSize}},[t._v("牌点3，代表沙僧，大于所有妖怪。")]),n("br"),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("6492")}}),n("span",{style:{"font-size":t.fontSize}},[t._v("牌点8，代表八戒，大于所有妖怪和沙僧。")]),n("br"),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("7bc4")}}),n("span",{style:{"font-size":t.fontSize}},[t._v("牌点5，代表悟空，大于所有妖怪、沙僧和八戒。")]),n("br"),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("e465")}}),n("span",{style:{"font-size":t.fontSize}},[t._v("牌点10，代表师傅，大于三徒弟，小于所有妖怪。")]),n("br"),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("e06f")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("f639")}}),n("span",{style:{"font-size":t.fontSize}},[t._v("大小王，分别代表如来和观音，能应对所有牌点，打出后反转出牌方向，原上家打出的牌依然保留。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("注意：大小王视为同一牌点。")]),n("br"),n("h2",{style:{"font-size":t.fontSize}},[t._v("妖怪牌：")]),n("p",{style:{"font-size":t.fontSize}},[t._v("除特殊牌外，其余牌点均为妖怪，")]),n("span",{style:{"font-size":t.fontSize}},[t._v("大小顺序为")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("2ca5")}}),n("span",{style:{"font-size":t.fontSize}},[t._v("最小")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("9254")}}),n("span",{style:{"font-size":t.fontSize}},[t._v("最大。")]),n("br"),n("br"),n("h2",{style:{"font-size":t.fontSize}},[t._v("花色顺序：")]),n("p",{style:{"font-size":t.fontSize}},[t._v("同一牌点，花色按")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("2ca5")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("1da5")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("7ced")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("af9b")}}),n("p",{style:{"font-size":t.fontSize}},[t._v("从小到大排序。")]),n("br"),n("h2",{style:{"font-size":t.fontSize}},[t._v("多牌比较：")]),n("p",{style:{"font-size":t.fontSize}},[t._v("当上家牌数量大于1时，比较规则为 "),n("u",[t._v("每张牌均不小于上家牌，并且其中至少有一张“大于”上家牌。")])]),n("p",{style:{"font-size":t.fontSize}},[t._v("例如上家打出以下牌型：")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("1da5")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("7ced")}}),n("br"),n("p",{style:{"font-size":t.fontSize}},[t._v("则根据上述比较规则，下家须至少打出")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("7ced")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("7ced")}}),n("p",{style:{"font-size":t.fontSize}},[t._v("的牌型。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("而下家如果想打下面这种牌型")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("2ca5")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("af9b")}}),n("p",{style:{"font-size":t.fontSize}},[t._v("虽然其中一张♠2比"),n("span",{staticStyle:{color:"red"}},[t._v("♥2")]),t._v("大，但"),n("span",{staticStyle:{color:"red"}},[t._v("♦2")]),t._v("小于♣2，不满足比较规则，所以不能打出。")]),n("h1",{style:{"font-size":t.fontSize}},[n("i",{staticClass:"el-icon-magic-stick"}),t._v("变身牌")]),n("hr",{staticClass:"divider-line"}),n("p",{style:{"font-size":t.fontSize}},[t._v("既然孙悟空有七十二变，那么西游记中自然不能缺少变身元素。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("变身牌，顾名思义，可以改变自身牌面的牌。其规则和用法类似于部分地区斗地主中使用的“癞子牌”。")]),n("span",{style:{"font-size":t.fontSize}},[t._v("在游戏中，带有蓝色边框的牌即是变身牌，如:")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("8672")}}),n("h2",{style:{"font-size":t.fontSize}},[t._v("变身规则：")]),n("p",{style:{"font-size":t.fontSize}},[t._v("1. 变身牌须搭配其他牌(原形牌)使用才有效，单独打出时等同于打出其自身。")]),n("span",{style:{"font-size":t.fontSize}},[t._v("如单独打出:")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("8672")}}),n("br"),n("span",{style:{"font-size":t.fontSize}},[t._v("相当于打出: ")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("af9b")}}),n("br"),n("span",{style:{"font-size":t.fontSize}},[t._v("如组合打出: ")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("96ac")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("8672")}}),n("br"),n("span",{style:{"font-size":t.fontSize}},[t._v("相当于打出: ")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("96ac")}}),n("el-avatar",{staticStyle:{"margin-left":"0.5%"},attrs:{shape:"square",size:t.avatarSize+40,src:i("a05d")}}),n("p",{style:{"font-size":t.fontSize}},[t._v("上述例子中，"),n("span",{staticStyle:{color:"red"}},[t._v("♦3")]),t._v("称为“原形牌”。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("2. 变身牌变身后，牌点变为原形牌的牌点，花色保持自身的花色。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("3. 变身牌不能变身观音或如来(即反弹牌)。")]),n("h2",{style:{"font-size":t.fontSize}},[t._v("使用方法：")]),n("p",{style:{"font-size":t.fontSize}},[t._v("1. 要使用变身牌，首先请选择要作为变身对象的原形牌，如上述"),n("span",{staticStyle:{color:"red"}},[t._v("♦3")]),t._v("。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("2. 然后点击 "),n("el-tag",{attrs:{type:"primary",effect:"dark"}},[t._v("变身")]),t._v(" 按钮，选择变身牌，如上述♠2。")],1),n("p",{style:{"font-size":t.fontSize}},[t._v("3. 选好变身牌后，最后点击出牌即可。")])],1),n("el-tab-pane",{attrs:{label:"游戏技巧",name:"skill",lazy:""}},[n("p",{style:{"font-size":t.fontSize}},[n("i",{staticClass:"el-icon-warning-outline"}),t._v("西游记游戏本身并没有什么太多技巧，玩家收牌多少，运气占很大部分，以下技巧仅供参考。")]),n("h1",{style:{"font-size":t.fontSize}},[n("i",{staticClass:"el-icon-star-on"}),t._v("保持牌型")]),n("hr",{staticClass:"divider-line"}),n("p",{style:{"font-size":t.fontSize}},[t._v("尽量保证自己手上有各种牌型：妖怪、徒弟、师傅，缺一不可。观音和如来则不到万不得已尽量不用，留作杀手锏。")]),n("h1",{style:{"font-size":t.fontSize}},[n("i",{staticClass:"el-icon-star-on"}),t._v("小牌先出")]),n("hr",{staticClass:"divider-line"}),n("p",{style:{"font-size":t.fontSize}},[t._v("大多数时候，先把小牌打出去都是正确的选择，当然也有特殊情况，具体可参考下方“控制局势”。")]),n("h1",{style:{"font-size":t.fontSize}},[n("i",{staticClass:"el-icon-star-on"}),t._v("战略性收牌")]),n("hr",{staticClass:"divider-line"}),n("p",{style:{"font-size":t.fontSize}},[t._v("当连击牌池中的牌数不多，且手上的牌如以下所示时")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("2ca5")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("af9b")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("7ced")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("c19a")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("96ac")}}),n("p",{style:{"font-size":t.fontSize}},[t._v("虽然收牌并不是我们想要的，但从长远的战略眼光来看，可以忍痛收下牌，然后把3个2一次性打出以调整自己的手牌组合。")]),n("h1",{style:{"font-size":t.fontSize}},[n("i",{staticClass:"el-icon-star-on"}),t._v("控制局势")]),n("hr",{staticClass:"divider-line"}),n("p",{style:{"font-size":t.fontSize}},[t._v("大部分情况下，牌局的走势是不受我们控制的，但我们仍然可以在一定范围内左右它。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("比如一场5人局游戏，我们手上有以下牌型")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("a4ac")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("ec5d")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("73c8")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("9fd6")}}),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+40,src:i("78fa")}}),n("p",{style:{"font-size":t.fontSize}},[t._v("此时上家打出了一个♠2，")]),n("p",{style:{"font-size":t.fontSize}},[t._v("虽然大多数时候我们都从小牌出起，但考虑到局势的发展，如果我们接着打出♣4，等再次轮到我们时，上家牌极有可能是徒弟牌，而此时我们手上徒弟师傅牌不足，无法应付可能到来的情况。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("所以一个较为大胆的做法是：打出K或者A。这样大概率等再次轮到我们时，上家牌会是师傅或者一个点数较小的妖怪。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("当然，以上只是举例，实际情况可能更加复杂，须根据自己的手牌情况和场上局势来判断。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("如开头所说，牌局的走势大多数时候是不可控的，况且还有观音如来这些逆天因素的存在，以上方法并不总是有效。")])],1),n("el-tab-pane",{attrs:{label:"常见问题",name:"questions",lazy:""}},[n("el-collapse",{model:{value:t.activeQuestionNames,callback:function(e){t.activeQuestionNames=e},expression:"activeQuestionNames"}},[n("el-collapse-item",{attrs:{name:"0"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-info"}),n("span",{style:{"font-size":t.fontSize}},[t._v("作者建议")])]),n("div",[n("p",{style:{"font-size":t.fontSize}},[t._v("1：建议尽量使用当今的主流浏览器如Chorme, Safari, Firefox等。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("2：建议尽量使用大屏幕手机以防止画面出现元素重叠，溢出边界等问题。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("3：遇到系统性问题时，可先尝试刷新网页。刷新后如果问题仍没有得到解决，请参考下面回答或联系作者。")])])],2),n("el-collapse-item",{attrs:{name:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-question"}),n("span",{style:{"font-size":t.fontSize}},[t._v("Q：画面出现不正常抖动，溢出边界，渲染错误等问题？")])]),n("div",[n("p",{style:{"font-size":t.fontSize}},[t._v("尽管作者已针对各种主流浏览器和移动端做出了响应式布局的设计，但仍然有部分移动端的尺寸会使得画面无法被正确渲染，解决的办法是尝试切换横竖屏后刷新网页。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("注意：切换横竖屏后不刷新网页可能会导致一些画面元素渲染位置不正确的问题。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("如果切换横竖屏刷新后仍不能解决您的问题，请将您所使用的移动端机型以及出现问题的画面截屏发送给作者以使我们作出针对该机型的调整，谢谢。")])])],2),n("el-collapse-item",{attrs:{name:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-question"}),n("span",{style:{"font-size":t.fontSize}},[t._v("Q：登录网页时不想播放音乐？")])]),n("div",[n("p",{style:{"font-size":t.fontSize}},[t._v("点击登录页面右上角的播放键即可关闭音乐的自动播放。")])])],2),n("el-collapse-item",{attrs:{name:"3"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-question"}),n("span",{style:{"font-size":t.fontSize}},[t._v("Q：设置了背景音乐和游戏音效开启但仍然没有声音？")])]),n("div",[n("p",{style:{"font-size":t.fontSize}},[t._v("由于ios等移动端的限制，进入本网页时并不会自动播放音乐，而是需要点击屏幕一下以激活音乐播放器，才能成功播放音乐。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("如果您点击了屏幕后仍不会播放音乐，请将您所使用的浏览器和移动端机型发送给作者以使我们作出针对性的调整，谢谢。")])])],2),n("el-collapse-item",{attrs:{name:"4"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-question"}),n("span",{style:{"font-size":t.fontSize}},[t._v("Q：无法通过游戏内设置调整音量？")])]),n("div",[n("p",{style:{"font-size":t.fontSize}},[t._v("如果您是ios用户，由于ios禁止通过网页调整系统音量，所以ios用户的设置面板上没有调整音量的选项。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("如果您不是ios用户，那么可以认为您使用的移动端也采取了与上述ios相同的策略，请将您的移动端机型发送给作者以使我们作出针对该机型的调整，谢谢。")])])],2),n("el-collapse-item",{attrs:{name:"5"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-question"}),n("span",{style:{"font-size":t.fontSize}},[t._v("Q：游戏内托管失败？")])]),n("div",[n("p",{style:{"font-size":t.fontSize}},[t._v("由于本网页的游戏数据并没有设置锁机制，所以当网络延迟较大时，提交托管可能会失败，属正常行为。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("建议您在玩游戏时保持通畅的网咯。")])])],2),n("el-collapse-item",{attrs:{name:"6"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-question"}),n("span",{style:{"font-size":t.fontSize}},[t._v("Q：游戏内如何快速出牌？")])]),n("div",[n("p",{style:{"font-size":t.fontSize}},[t._v("在选择好要出的牌后，除了点击“出牌”按钮，还可以通过点击台面来出牌。")])])],2),n("el-collapse-item",{attrs:{name:"7"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-question"}),n("span",{style:{"font-size":t.fontSize}},[t._v("Q：游戏进行时如何与玩家交流？")])]),n("div",[n("p",{style:{"font-size":t.fontSize}},[t._v("本网页效仿了各种棋牌游戏的防作弊机制，即游戏进行中时不能通过打字与其他玩家交流。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("但我们仍为您准备了一些快速发言的语句，可以通过点击玩家或自己的计分板来选择要说的话。")])])],2),n("el-collapse-item",{attrs:{name:"8"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-question"}),n("span",{style:{"font-size":t.fontSize}},[t._v("Q：快速发言中的方言是？")])]),n("div",[n("p",{style:{"font-size":t.fontSize}},[t._v("作者家乡的桂林话及一些自创的术语。其中")]),n("p",{style:{"font-size":t.fontSize}},[t._v("洗：通日语「しね」(shi ne)，与叫玩家收牌的“收”一个意思，但表达语气更强烈。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("所所所：所，通日语师匠的匠「しょう」(syo)，意为“求师傅”。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("卷卷卷：桂林话的“转”，意味“求转向”。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("我霉了：霉，桂林话，一般指物理状态的软烂，此处大意为“我人没了”、“我烂掉了”、“我拉跨了”。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("瘾：桂林话，大意为“过瘾”、“痛快”。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("我好方啊：方，桂林话，意思同“慌”。")])])],2)],1)],1),n("el-tab-pane",{attrs:{label:"联系作者",name:"contact",lazy:""}},[n("i",{staticClass:"el-icon-info"}),n("span",{style:{"font-size":t.fontSize}},[t._v("作者建议")]),n("p",{style:{"font-size":t.fontSize}},[t._v("如果您遇到问题或Bug，请尽快联系作者解决。同时也欢迎各种技术交流切磋，或针对本网站提出的建设性意见和建议。")]),n("p",{style:{"font-size":t.fontSize}},[t._v("联系作者时请表明来意，如果是报告问题或Bug请同时提供相应的截图、移动端机型和浏览器类型，谢谢。")]),n("h1",{style:{"font-size":t.fontSize}},[n("i",{staticClass:"el-icon-chat-dot-round"}),t._v("社交媒体")]),n("hr",{staticClass:"divider-line"}),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:2}},[n("div",{staticStyle:{visibility:"hidden"}},[t._v("123")])]),n("el-col",{attrs:{span:10}},[n("div",{staticStyle:{"text-align":"center"}},[n("p",{style:{"font-size":t.fontSize}},[t._v("微信")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+80,src:i("0dde")}})],1)]),n("el-col",{attrs:{span:10}},[n("div",{staticStyle:{"text-align":"center"}},[n("p",{style:{"font-size":t.fontSize}},[t._v("line")]),n("el-avatar",{attrs:{shape:"square",size:t.avatarSize+80,src:i("d766")}})],1)]),n("el-col",{attrs:{span:2}},[n("div")])],1),n("h1",{style:{"font-size":t.fontSize}},[n("i",{staticClass:"el-icon-chat-dot-round"}),t._v("发送邮件")]),n("hr",{staticClass:"divider-line"}),n("span",{style:{"font-size":t.fontSize}},[t._v("请发送邮件至")]),n("i",{staticClass:"el-icon-s-promotion"}),n("el-link",{attrs:{type:"info",href:"mailto:shurintou@gmail.com?subject = Hello"}},[t._v("shurintou@gmail.com")]),n("h1",{style:{"font-size":t.fontSize}},[n("i",{staticClass:"el-icon-chat-dot-round"}),t._v("Github")]),n("hr",{staticClass:"divider-line"}),n("p",{style:{"font-size":t.fontSize}},[t._v("如果您拥有Github账号，您也可以在上面向作者提出issue。")]),n("span",{style:{"font-size":t.fontSize}},[t._v("前端项目：")]),n("el-link",{attrs:{type:"success",href:"https://github.com/shurintou/journey-to-the-west",target:"_blank"}},[t._v("https://github.com/shurintou/journey-to-the-west")]),n("br"),n("span",{style:{"font-size":t.fontSize}},[t._v("后端项目：")]),n("el-link",{attrs:{type:"warning",href:"https://github.com/shurintou/server-of-jttw",target:"_blank"}},[t._v("https://github.com/shurintou/server-of-jttw")]),n("p",{style:{"font-size":t.fontSize}},[t._v("如果您觉得本网页体验不错，您还可以在Github上给该项目点星"),n("i",{staticClass:"el-icon-star-off"}),t._v("以支持我们，谢谢。")])],1)],1)},yt=[],vt={data:function(){return{activeHelpModuleTabName:"rule",activeQuestionNames:["0"]}},props:{fontSize:{type:String,default:""},avatarSize:{type:Number,default:20},isShowing:{type:Boolean,default:!1}},watch:{isShowing:function(t){t&&(this.activeHelpModuleTabName="rule",this.activeQuestionNames=["0"])}}},_t=vt,xt=(i("8eeb"),Object(w["a"])(_t,mt,yt,!1,null,"d5614258",null)),bt=xt.exports,St={data:function(){var t=this;return{avatarDialogVisible:!1,nicknameDialogVisible:!1,viewModuleDialogVisible:!1,helpModuleDialogVisible:!1,duplicateSubmitAvatarFlag:!1,duplicateSubmitNicknameFlag:!1,duplicateGetInfoFlag:!1,activeViewModuleTabName:"record",iconNum:35,temAvatarId:0,nicknameForm:{name:""},playerProfile:{id:0,avatar_id:0,nickname:"",record:{num_of_game:0,most_game:0,least_game:0,experience:0,experienced_cards:0,max_card:0,max_card_amount:0,min_card:0,min_card_amount:0,least_cards:0,most_cards:0}},checkNickname:function(e,i,n){""===i?n(new Error("请输入昵称")):i===t.$store.state.nickname&&n(new Error("修改前后昵称一致")),n()}}},props:{gameInfo:{type:Object,default:null},subAsideWidth:{type:String,default:""},verticalBackground:{type:String,default:""},fontSize:{type:String,default:""},dialogWidth:{type:String,default:""},playerInfoDialogWidth:{type:String,default:""},playerLocRoom:{type:Object,default:null},ws:{type:WebSocket,default:null},isHorizontal:{type:Boolean,default:!1},buttonSize:{type:String,default:""},avatarSize:{type:Number,default:20}},computed:{getGamePlayer:function(){if(null===this.gameInfo)return null;for(var t=0;t<Object.keys(this.gameInfo.gamePlayer).length;t++)if(this.gameInfo.gamePlayer[t].id===this.$store.state.id)return this.gameInfo.gamePlayer[t];return null}},methods:{getAvatarUrl:function(t){return i("f672")("./avatar_"+t+"-min.png")},submitNewAvatar:function(){var t=this;if(this.playerLocRoom&&1===this.playerLocRoom.status)return this.$message.warning("游戏中，请勿修改头像"),void(this.avatarDialogVisible=!1);this.duplicateSubmitAvatarFlag||(this.duplicateSubmitAvatarFlag=!0,this.temAvatarId===this.$store.state.avatar_id?(this.$message.error("修改前后头像一致，请重新选择"),this.duplicateSubmitAvatarFlag=!1):lt({avatar_id:this.temAvatarId}).then((function(e){200===e.code?(t.$store.dispatch("mutateAvatarId",t.temAvatarId).then((function(){t.ws.send(JSON.stringify({type:"playerList",nickname:t.$store.state.nickname,avatar_id:t.$store.state.avatar_id,player_loc:t.$store.state.player_loc,player_status:t.$store.state.player_status}))})),t.$message.success("成功修改头像")):t.$message.error("修改失败，请稍后重试")})).catch((function(){t.$message.error("修改失败，请稍后重试")})).finally((function(){t.avatarDialogVisible=!1,t.duplicateSubmitAvatarFlag=!1})))},submitNewNickname:function(){var t=this;if(this.playerLocRoom&&1===this.playerLocRoom.status)return this.$message.warning("游戏中，请勿修改昵称"),void(this.nicknameDialogVisible=!1);this.duplicateSubmitNicknameFlag||(this.duplicateSubmitNicknameFlag=!0,this.$refs.nicknameForm.validate((function(e){e?ut({nickname:t.nicknameForm.name}).then((function(e){200===e.code?(t.$store.dispatch("mutateNickname",t.nicknameForm.name).then((function(){t.ws.send(JSON.stringify({type:"playerList",nickname:t.$store.state.nickname,avatar_id:t.$store.state.avatar_id,player_loc:t.$store.state.player_loc,player_status:t.$store.state.player_status})),t.nicknameForm.name=t.$store.state.nickname})),t.$message.success("成功修改昵称")):t.$message.error("修改失败，请稍后重试")})).catch((function(){t.$message.error("修改失败，请稍后重试")})).finally((function(){t.nicknameDialogVisible=!1,t.duplicateSubmitNicknameFlag=!1})):t.duplicateSubmitNicknameFlag=!1})))},openViewModule:function(){this.viewModuleDialogVisible=!0,this.getPlayerRecord(this.$store.state.id,this.$store.state.avatar_id,this.$store.state.nickname)},openHelpModule:function(){this.helpModuleDialogVisible=!0},getPlayerRecord:function(t,e,i){var n=this;this.duplicateGetInfoFlag||(this.duplicateGetInfoFlag=!0,this.playerProfile.id=t,this.playerProfile.avatar_id=e,this.playerProfile.nickname=i,p({id:t}).then((function(t){n.playerProfile.record=t.record})).catch({}).finally((function(){n.duplicateGetInfoFlag=!1})))},openEditAvatarDialog:function(){null===this.playerLocRoom||1!==this.playerLocRoom.status?(this.avatarDialogVisible=!0,this.temAvatarId=this.$store.state.avatar_id):this.$message.error("游戏中，请勿修改头像")},openEditNicknameDialog:function(){var t=this;null===this.playerLocRoom||1!==this.playerLocRoom.status?(this.nicknameDialogVisible=!0,this.nicknameForm.name=this.$store.state.nickname,this.$nextTick((function(){t.$refs.nicknameForm.clearValidate()}))):this.$message.error("游戏中，请勿修改昵称")}},components:{PlayerInfoTabModule:tt,AnimatedAvatar:gt,HelpModule:bt}},wt=St,Ct=(i("79b9"),Object(w["a"])(wt,rt,ot,!1,null,null,null)),Tt=Ct.exports,kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-main",{staticClass:"hide-scroll-bar",style:{backgroundImage:"url("+t.horizontalBackground+")"}},[i("div",{ref:"chatBox",staticClass:"chat-box"},t._l(t.chatText,(function(t){return i("el-alert",{key:t.id,staticClass:"chat-text",attrs:{title:t.name+"："+t.text,type:t.type,closable:!1,"show-icon":""}})})),1),i("el-input",{staticClass:"fill-width input-box",attrs:{placeholder:"请输入聊天内容",size:t.buttonSize},nativeOn:{keypress:function(e){return t.enterSendText(e)}},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}},[i("i",{staticClass:"el-input__icon el-icon-edit",attrs:{slot:"prefix"},slot:"prefix"}),i("el-button",{attrs:{slot:"append",id:"input-button",icon:"el-icon-check",type:"primary",size:t.buttonSize,disabled:0===t.inputText.length},on:{click:function(e){return t.sendTextToServe()}},slot:"append"},[t._v("发送")])],1)],1)},It=[],zt={data:function(){return{inputText:""}},props:{chatText:{type:Array},horizontalBackground:{type:String,default:""},buttonSize:{type:String,default:""},ws:{type:WebSocket,default:null}},methods:{enterSendText:function(t){13===t.keyCode&&this.sendTextToServe()},sendTextToServe:function(){this.inputText.length>0&&(this.ws.send(JSON.stringify({type:"chat",nickname:this.$store.state.nickname,text:this.inputText,player_loc:this.$store.state.player_loc})),this.inputText="")},modifyScrollHeight:function(){var t=this.$refs.chatBox;t.scrollTop=t.scrollHeight}}},Mt=zt,Pt=Object(w["a"])(Mt,kt,It,!1,null,null,null),Lt=Pt.exports,Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"room-list-container"}},t._l(t.gameRoomList,(function(e,n){return i("div",{key:e.id,staticClass:"room-list-item",style:{width:t.gameRoomItemWidth+"%","margin-left":(100-t.gameRoomItemWidth)/2+"%","margin-top":0===n?"1%":"0px"}},[i("div",{staticClass:"room-list-title",style:{"background-color":0===e.status?t.isRoomFull(e.playerList)?"#E6A23C":"#67c23a":"#F56C6C"},on:{click:function(i){return t.enterGameRoom(e,-1)}}},[i("span",{staticClass:"room-list-text",style:{"font-size":t.largeFontSize}},[t._v(t._s(e.name+" （"+(0===e.status?t.isRoomFull(e.playerList)?"已满员":"可进入":"游戏中")+"）")+" "),e.needPassword?i("el-tooltip",{attrs:{effect:"light",content:"进入该房间需要密码",placement:"right"}},[i("i",{staticClass:"el-icon-lock"})]):t._e()],1)]),t._l(e.playerList,(function(n,a){return i("div",{key:a,staticClass:"room-list-player",style:{"margin-left":0===a?"2%":0}},[0!==n.id?i("el-tooltip",{attrs:{effect:"light",content:t.getPlayer(n.id).nickname,placement:"bottom"}},[i("el-image",{staticClass:"room-list-avatar",attrs:{fit:"cover",src:t.getAvatarUrl(t.getPlayer(n.id).avatar_id)}})],1):i("el-tooltip",{attrs:{effect:"light",content:t.getPlayer(n.id).nickname+(parseInt(a)+1),placement:"bottom"}},[i("el-image",{staticClass:"room-list-avatar",attrs:{fit:"cover",src:t.getAvatarUrl(t.getPlayer(n.id).avatar_id)},on:{click:function(i){return t.enterGameRoom(e,a)}}})],1)],1)}))],2)})),0)},Rt=[],At={data:function(){return{}},props:{playerList:{type:Array,default:null},gameRoomItemWidth:{type:Number,default:90},gameRoomList:{type:Array,default:null},largeFontSize:{type:String,default:""},ws:{type:WebSocket,default:null}},methods:{getPlayer:function(t){for(var e=0;e<this.playerList.length;e++)if(this.playerList[e].id===t)return this.playerList[e];return{nickname:"空位",avatar_id:0}},getAvatarUrl:function(t){return i("f672")("./avatar_"+t+"-min.png")},isRoomFull:function(t){for(var e=!0,i=0;i<Object.keys(t).length;i++)if(0===t[i].id){e=!1;break}return e},enterGameRoom:function(t,e){0!==this.$store.state.avatar_id?1!==t.status?this.isRoomFull(t.playerList)?this.$message.warning("已满员，无法加入"):t.needPassword?(this.$emit("enterGameRoomDialogVisible",!0),this.$emit("enterRoomDto",{id:t.id,seatIndex:e})):this.ws.send(JSON.stringify({type:"gameRoomList",id:t.id,seatIndex:e,action:"enter"})):this.$message.warning("正在游戏中，无法加入"):this.$message.warning("请先设置头像和昵称")}}},Ot=At,Ft=(i("5785"),Object(w["a"])(Ot,Dt,Rt,!1,null,null,null)),Nt=Ft.exports,Et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"提示",visible:t.cancelLeaveDialogVisible,width:t.dialogWidth,center:"","before-close":t.closeLeaveDialog},on:{"update:visible":function(e){t.cancelLeaveDialogVisible=e}}},[i("i",{staticClass:"el-icon-question"}),i("span",{staticStyle:{"text-align":"center"}},[t._v("确定要登出并离开游戏大厅吗？")]),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-right":"10%"},on:{click:t.closeLeaveDialog}},[t._v("取消")]),i("el-button",{attrs:{type:"danger"},on:{click:t.logOut}},[t._v("确定")])],1)])},Bt=[],Vt=i("f3e4"),Gt=i("7ded"),Wt={data:function(){return{}},props:{cancelLeaveDialogVisible:{type:Boolean,default:!1},dialogWidth:{type:String,default:""}},methods:{closeLeaveDialog:function(){this.$emit("cancelLeaveDialogVisible",!1)},logOut:function(){this.$message({message:"已登出，回到登录页面",type:"info"}),Object(Gt["b"])().finally((function(){Object(Vt["b"])()})),this.$router.push({name:"Login"}),this.closeLeaveDialog()}}},Ht=Wt,jt=Object(w["a"])(Ht,Et,Bt,!1,null,null,null),$t=jt.exports,Ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"创建房间",visible:t.createGameRoomDialogVisible,width:t.dialogWidth,center:"",modal:!1,"close-on-click-modal":!1,"before-close":t.closeCreateGameRoomDialog},on:{"update:visible":function(e){t.createGameRoomDialogVisible=e}}},[i("el-form",{ref:"gameRoomValidateForm",attrs:{model:t.gameRoomValidateForm}},[i("el-form-item",{attrs:{label:"房间名",prop:"roomName",rules:[{required:!0,message:"请输入房间名",trigger:"blur"}]}},[i("el-input",{attrs:{placeholder:"请输入房间名",type:"text",autocomplete:"off",maxlength:"15","show-word-limit":""},model:{value:t.gameRoomValidateForm.roomName,callback:function(e){t.$set(t.gameRoomValidateForm,"roomName",e)},expression:"gameRoomValidateForm.roomName"}})],1),i("el-form-item",{attrs:{label:"密码",prop:"password",rules:[{trigger:"blur",validator:t.checkPassword}]}},[i("el-input",{attrs:{placeholder:"非必填，4到8位数字",autocomplete:"off",maxlength:"8","show-word-limit":""},model:{value:t.gameRoomValidateForm.password,callback:function(e){t.$set(t.gameRoomValidateForm,"password",e)},expression:"gameRoomValidateForm.password"}})],1)],1),i("div",[i("span",[t._v("使用牌数："+t._s(t.gameRoomValidateForm.cardNum)+"副")]),i("el-slider",{attrs:{min:2,max:10,step:1,"show-tooltip":!1},model:{value:t.gameRoomValidateForm.cardNum,callback:function(e){t.$set(t.gameRoomValidateForm,"cardNum",e)},expression:"gameRoomValidateForm.cardNum"}})],1),i("div",[i("span",[t._v("变身牌数："+t._s(t.gameRoomValidateForm.metamorphoseNum)+"张/副")]),i("el-slider",{attrs:{min:0,max:10,step:2,"show-tooltip":!1},model:{value:t.gameRoomValidateForm.metamorphoseNum,callback:function(e){t.$set(t.gameRoomValidateForm,"metamorphoseNum",e)},expression:"gameRoomValidateForm.metamorphoseNum"}})],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-right":"10%"},on:{click:t.closeCreateGameRoomDialog}},[t._v("取消")]),i("el-button",{attrs:{type:"success"},on:{click:t.createGameRoom}},[t._v("创建")])],1)],1)},qt=[],Xt={data:function(){return{gameRoomValidateForm:{roomName:"",password:"",cardNum:2,metamorphoseNum:4},checkPassword:function(t,e,i){if(""===e)i();else{var n=/^[0-9]{4,8}$/;n.test(e)?i():i(new Error("密码须4到8位数字")),i()}}}},props:{createGameRoomDialogVisible:{type:Boolean,default:!1},dialogWidth:{type:String,default:""},ws:{type:WebSocket,default:null}},watch:{createGameRoomDialogVisible:function(t){!0===t&&(this.gameRoomValidateForm.roomName=this.$store.state.nickname+" 的房间")}},methods:{createGameRoom:function(){var t=this;0!==this.$store.state.avatar_id?this.$refs.gameRoomValidateForm.validate((function(e){e&&(t.ws.send(JSON.stringify({type:"gameRoomList",id:NaN,name:t.gameRoomValidateForm.roomName,status:0,needPassword:t.gameRoomValidateForm.password.length>0,password:t.gameRoomValidateForm.password,cardNum:t.gameRoomValidateForm.cardNum,metamorphoseNum:t.gameRoomValidateForm.metamorphoseNum,owner:t.$store.state.id,lastLoser:0,playerList:{0:{id:t.$store.state.id,cards:0,win:0,loss:0,ready:!1},1:{id:0,cards:0,win:0,loss:0,ready:!1},2:{id:0,cards:0,win:0,loss:0,ready:!1},3:{id:0,cards:0,win:0,loss:0,ready:!1},4:{id:0,cards:0,win:0,loss:0,ready:!1},5:{id:0,cards:0,win:0,loss:0,ready:!1},6:{id:0,cards:0,win:0,loss:0,ready:!1},7:{id:0,cards:0,win:0,loss:0,ready:!1}}})),t.closeCreateGameRoomDialog())})):this.$message.warning("请先设置头像和昵称")},closeCreateGameRoomDialog:function(){this.$emit("createGameRoomDialogVisible",!1),this.$refs.gameRoomValidateForm.clearValidate(),this.gameRoomValidateForm.roomName=this.$store.state.nickname+" 的房间",this.gameRoomValidateForm.password="",this.gameRoomValidateForm.cardNum=2,this.gameRoomValidateForm.metamorphoseNum=4}}},Yt=Xt,Zt=Object(w["a"])(Yt,Ut,qt,!1,null,null,null),Kt=Zt.exports,Qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"vertical"===t.whichPattern?i("div",{staticClass:"button-box"},[i("el-button",{staticClass:"chat-room-aside-button",style:{"font-size":t.largeFontSize},attrs:{type:"success",icon:"el-icon-circle-plus",size:t.buttonSize},on:{click:t.emitCreateGameRoomDialog}},[t._v("创建房间")]),i("el-button",{staticClass:"chat-room-aside-button",style:{"font-size":t.largeFontSize},attrs:{type:"danger",icon:"el-icon-d-arrow-left",size:t.buttonSize},on:{click:t.emitCancelLeaveDialog}},[t._v("登出离开")])],1):i("div",{staticStyle:{height:"100%"}},[i("el-button",{staticClass:"chat-room-header-button",style:{"font-size":t.largeFontSize,padding:"0px 0px"},attrs:{type:"danger",icon:"el-icon-d-arrow-left",size:t.buttonSize,round:""},on:{click:t.emitCancelLeaveDialog}},[t._v("登出离开")]),i("el-button",{staticClass:"chat-room-header-button",style:{"font-size":t.largeFontSize,padding:"0px 0px"},attrs:{type:"success",icon:"el-icon-circle-plus",size:t.buttonSize,round:""},on:{click:t.emitCreateGameRoomDialog}},[t._v("创建房间")])],1)},Jt=[],te={data:function(){return{}},props:{whichPattern:{type:String,default:function(){return document.body.clientWidth<400?"horizontal":"vertical"}},buttonSize:{type:String,default:""},largeFontSize:{type:String,default:""}},methods:{emitCancelLeaveDialog:function(){this.$emit("cancelLeaveDialogVisible",!0)},emitCreateGameRoomDialog:function(){this.$emit("createGameRoomDialogVisible",!0)}}},ee=te,ie=(i("53bf"),Object(w["a"])(ee,Qt,Jt,!1,null,null,null)),ne=ie.exports,ae=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"vertical"===t.whichPattern?i("div",{staticClass:"button-box"},[t.playerLocRoom.owner===t.$store.state.id?i("el-button",{staticClass:"chat-room-aside-button",style:{"font-size":t.largeFontSize},attrs:{type:t.isNotReady||t.isGamePlaying?"info":"success",icon:"el-icon-caret-right",size:t.buttonSize,disabled:t.isNotReady||t.isGamePlaying},on:{click:t.emitStartGame}},[t._v("开始游戏")]):i("el-button",{staticClass:"chat-room-aside-button",style:{"font-size":t.largeFontSize},attrs:{type:t.isNotReady&&!t.isGamePlaying?"success":"info",icon:t.isNotReady?"el-icon-caret-right":"el-icon-circle-check",size:t.buttonSize,disabled:t.isGamePlaying},on:{click:t.emitReadyToStartGame}},[t._v(t._s(t.isNotReady?"":"已")+"准备")]),i("el-button",{staticClass:"chat-room-aside-button",style:{"font-size":t.largeFontSize},attrs:{type:t.isGamePlaying?"info":"danger",icon:"el-icon-d-arrow-left",size:t.buttonSize,disabled:t.isGamePlaying},on:{click:t.emitCancelLeaveDialog}},[t._v("离开房间")])],1):i("div",{staticStyle:{height:"100%"}},[i("el-button",{staticClass:"chat-room-header-button",style:{"font-size":t.largeFontSize,padding:"0px 0px"},attrs:{type:t.isGamePlaying?"info":"danger",icon:"el-icon-d-arrow-left",size:t.buttonSize,round:"",disabled:t.isGamePlaying},on:{click:t.emitCancelLeaveDialog}},[t._v("离开房间")]),t.playerLocRoom.owner===t.$store.state.id?i("el-button",{staticClass:"chat-room-header-button",style:{"font-size":t.largeFontSize,padding:"0px 0px"},attrs:{type:t.isNotReady||t.isGamePlaying?"info":"success",icon:"el-icon-caret-right",size:t.buttonSize,disabled:t.isNotReady||t.isGamePlaying,round:""},on:{click:t.emitStartGame}},[t._v("开始游戏")]):i("el-button",{staticClass:"chat-room-header-button",style:{"font-size":t.largeFontSize,padding:"0px 0px"},attrs:{type:t.isNotReady&&!t.isGamePlaying?"success":"info",icon:t.isNotReady?"el-icon-caret-right":"el-icon-circle-check",size:t.buttonSize,round:"",disabled:t.isGamePlaying},on:{click:t.emitReadyToStartGame}},[t._v(t._s(t.isNotReady?"":"已")+"准备")])],1)},re=[],oe={data:function(){return{}},props:{whichPattern:{type:String,default:function(){return document.body.clientWidth<400?"horizontal":"vertical"}},buttonSize:{type:String,default:""},largeFontSize:{type:String,default:""},playerLocRoom:{type:Object,default:null},ws:{type:WebSocket,default:null}},computed:{isGamePlaying:function(){return 0!==this.playerLocRoom.status},isNotReady:function(){if(this.playerLocRoom.owner===this.$store.state.id){for(var t=!0,e=0,i=0;i<Object.keys(this.playerLocRoom.playerList).length;i++)0!==this.playerLocRoom.playerList[i].id&&e++;if(e<2)return!0;for(var n=0;n<Object.keys(this.playerLocRoom.playerList).length;n++)if(0!==this.playerLocRoom.playerList[n].id&&this.playerLocRoom.playerList[n].id!==this.$store.state.id&&!1===this.playerLocRoom.playerList[n].ready){t=!1;break}return!1===t}for(var a=0;a<Object.keys(this.playerLocRoom.playerList).length;a++)if(this.playerLocRoom.playerList[a].id===this.$store.state.id)return!this.playerLocRoom.playerList[a].ready;return!1}},methods:{emitCancelLeaveDialog:function(){this.$emit("leaveRoomDialogVisible",!0)},emitReadyToStartGame:function(){this.ws.send(JSON.stringify({type:"gameRoomList",id:this.playerLocRoom.id,action:"ready"}))},emitStartGame:function(){this.ws.send(JSON.stringify({type:"game",id:this.playerLocRoom.id,action:"initialize"}))}}},se=oe,le=(i("f0b6"),Object(w["a"])(se,ae,re,!1,null,null,null)),ue=le.exports,ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"提示",visible:t.leaveRoomDialogVisible,width:t.dialogWidth,center:"","before-close":t.closeLeaveDialog},on:{"update:visible":function(e){t.leaveRoomDialogVisible=e}}},[i("i",{staticClass:"el-icon-question"}),i("span",{staticStyle:{"text-align":"center"}},[t._v("确定要离开房间吗？")]),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-right":"10%"},on:{click:t.closeLeaveDialog}},[t._v("取消")]),i("el-button",{attrs:{type:"danger"},on:{click:t.leaveRoom}},[t._v("确定")])],1)])},he=[],pe={data:function(){return{}},props:{leaveRoomDialogVisible:{type:Boolean,default:!1},dialogWidth:{type:String,default:""},playerLocRoom:{type:Object,default:null},ws:{type:WebSocket,default:null}},methods:{closeLeaveDialog:function(){this.$emit("leaveRoomDialogVisible",!1)},leaveRoom:function(){for(var t=0,e=0;e<Object.keys(this.playerLocRoom.playerList).length;e++)if(this.playerLocRoom.playerList[e].id===this.$store.state.id){t=e;break}this.ws.send(JSON.stringify({type:"gameRoomList",id:-1*this.playerLocRoom.id,nickname:this.$store.state.nickname,seatIndex:t})),this.$emit("leaveRoomDialogVisible",!1)}}},de=pe,fe=Object(w["a"])(de,ce,he,!1,null,null,null),ge=fe.exports,me=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"房间密码",visible:t.enterGameRoomDialogVisible,width:t.dialogWidth,center:"",modal:!1,"close-on-click-modal":!1,"before-close":t.closeEnterGameRoomDialog},on:{"update:visible":function(e){t.enterGameRoomDialogVisible=e}}},[i("el-form",{ref:"gameRoomValidateForm",attrs:{model:t.gameRoomValidateForm},nativeOn:{submit:function(e){return e.preventDefault(),t.enterGameRoom(e)}}},[i("el-form-item",{attrs:{label:"密码",prop:"password",rules:[{trigger:"blur",validator:t.checkPassword}]}},[i("el-input",{attrs:{placeholder:"4到8位数字",autocomplete:"off",maxlength:"8","show-word-limit":""},model:{value:t.gameRoomValidateForm.password,callback:function(e){t.$set(t.gameRoomValidateForm,"password",e)},expression:"gameRoomValidateForm.password"}})],1)],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-right":"10%"},on:{click:t.closeEnterGameRoomDialog}},[t._v("取消")]),i("el-button",{attrs:{type:"success"},on:{click:t.enterGameRoom}},[t._v("确定")])],1)],1)},ye=[],ve={data:function(){return{gameRoomValidateForm:{password:""},checkPassword:function(t,e,i){if(""===e)i(new Error("密码不能为空"));else{var n=/^[0-9]{4,8}$/;n.test(e)?i():i(new Error("密码须4到8位数字")),i()}}}},props:{enterGameRoomDialogVisible:{type:Boolean,default:!1},dialogWidth:{type:String,default:""},enterRoomDto:{type:Object,default:null},ws:{type:WebSocket,default:null}},watch:{enterGameRoomDialogVisible:function(t){this.$refs.gameRoomValidateForm&&!0===t&&(this.gameRoomValidateForm.password="",this.$refs.gameRoomValidateForm.clearValidate())}},methods:{enterGameRoom:function(){var t=this;0!==this.$store.state.avatar_id?this.$refs.gameRoomValidateForm.validate((function(e){e&&(t.ws.send(JSON.stringify({type:"gameRoomList",id:t.enterRoomDto.id,seatIndex:t.enterRoomDto.seatIndex,password:t.gameRoomValidateForm.password,action:"enter"})),t.closeEnterGameRoomDialog())})):this.$message.warning("请先设置头像和昵称")},closeEnterGameRoomDialog:function(){this.$emit("enterGameRoomDialogVisible",!1),this.gameRoomValidateForm.password="",this.$refs.gameRoomValidateForm.clearValidate()}}},_e=ve,xe=Object(w["a"])(_e,me,ye,!1,null,null,null),be=xe.exports,Se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isHorizontal?i("div",{attrs:{id:"game-room-box-horizontal"}},[i("div",{attrs:{id:"game-room-box-horizontal-header"}},[i("div",{staticClass:"game-room-box-horizontal-header-item",staticStyle:{"margin-left":"15%",float:"left"}},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"bottom",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(5)],gameInfo:t.gameInfo,isItemHorizontal:!0,seatIndex:t.calPlayersSeat(5),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(5)],localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(5)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1),i("div",{staticClass:"game-room-box-horizontal-header-item",staticStyle:{float:"left"}},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"bottom",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(4)],gameInfo:t.gameInfo,isItemHorizontal:!0,seatIndex:t.calPlayersSeat(4),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(4)],localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(4)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1),i("div",{staticClass:"game-room-box-horizontal-header-item",staticStyle:{float:"left"}},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"bottom",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(3)],gameInfo:t.gameInfo,isItemHorizontal:!0,seatIndex:t.calPlayersSeat(3),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(3)],localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(3)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1)]),i("div",{attrs:{id:"game-room-box-horizontal-body"}},[i("div",{staticClass:"game-room-box-horizontal-body-aside",staticStyle:{float:"left"}},[i("div",{staticClass:"game-room-box-horizontal-body-aside-item-top"},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"top",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(6)],gameInfo:t.gameInfo,seatIndex:t.calPlayersSeat(6),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(6)],localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(6)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1),i("div",{staticClass:"game-room-box-horizontal-body-aside-item-bottom"},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"top",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(7)],gameInfo:t.gameInfo,seatIndex:t.calPlayersSeat(7),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(7)],localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(7)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1)]),i("div",{staticStyle:{float:"left"},attrs:{id:"game-room-box-horizontal-body-table"}},[i("GameRoomTableModule",{attrs:{isItemHorizontal:!0,playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(0)],gameInfo:t.gameInfo,tagSize:t.tagSize,fontSize:t.fontSize,largeFontSize:t.largeFontSize,ws:t.ws,dialogWidth:t.dialogWidth,seatIndex:t.calPlayersSeat(0),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(0)],player:t.playerLocRoom.playerList[t.calPlayersSeat(0)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}},playCard:function(e){return t.$emit("playCard")}}})],1),i("div",{staticClass:"game-room-box-horizontal-body-aside",staticStyle:{float:"left"}},[i("div",{staticClass:"game-room-box-horizontal-body-aside-item-top"},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"top",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(2)],gameInfo:t.gameInfo,seatIndex:t.calPlayersSeat(2),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(2)],localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(2)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1),i("div",{staticClass:"game-room-box-horizontal-body-aside-item-bottom"},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"top",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(1)],gameInfo:t.gameInfo,seatIndex:t.calPlayersSeat(1),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(1)],localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(1)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1)])])]):i("div",{attrs:{id:"game-room-box-vertical"}},[i("div",{attrs:{id:"game-room-box-vertical-header"}},[i("div",{attrs:{id:"game-room-box-vertical-header-item"}},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"top",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(4)],gameInfo:t.gameInfo,isItemHorizontal:!1,seatIndex:t.calPlayersSeat(4),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(4)],localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(4)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1)]),i("div",{attrs:{id:"game-room-box-vertical-body"}},[i("div",{staticClass:"game-room-box-vertical-body-aside",staticStyle:{float:"left"}},[i("div",{staticClass:"game-room-box-vertical-body-aside-item"},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"top",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(5)],gameInfo:t.gameInfo,seatIndex:t.calPlayersSeat(5),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(5)],localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(5)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1),i("div",{staticClass:"game-room-box-vertical-body-aside-item"},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"top",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(6)],gameInfo:t.gameInfo,seatIndex:t.calPlayersSeat(6),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(6)],localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(6)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1),i("div",{staticClass:"game-room-box-vertical-body-aside-item"},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"top",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(7)],gameInfo:t.gameInfo,seatIndex:t.calPlayersSeat(7),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(7)],localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(7)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1)]),i("div",{attrs:{id:"game-room-box-vertical-body-table"}},[i("GameRoomTableModule",{attrs:{playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(0)],gameInfo:t.gameInfo,tagSize:t.tagSize,fontSize:t.fontSize,largeFontSize:t.largeFontSize,ws:t.ws,dialogWidth:t.dialogWidth,seatIndex:t.calPlayersSeat(0),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(0)],player:t.playerLocRoom.playerList[t.calPlayersSeat(0)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}},playCard:function(e){return t.$emit("playCard")}}})],1),i("div",{staticClass:"game-room-box-vertical-body-aside",staticStyle:{float:"right"}},[i("div",{staticClass:"game-room-box-vertical-body-aside-item"},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"top",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,seatIndex:t.calPlayersSeat(3),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(3)],playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(3)],gameInfo:t.gameInfo,localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(3)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1),i("div",{staticClass:"game-room-box-vertical-body-aside-item"},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"top",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,seatIndex:t.calPlayersSeat(2),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(2)],playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(2)],gameInfo:t.gameInfo,localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(2)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1),i("div",{staticClass:"game-room-box-vertical-body-aside-item"},[i("GameRoomPlayerItemModule",{attrs:{tooltipPlacement:"top",playerList:t.playerList,tagSize:t.tagSize,fontSize:t.fontSize,ws:t.ws,seatIndex:t.calPlayersSeat(1),sentGameTextToPlayer:t.sentGameTextToPlayerObj[t.calPlayersSeat(1)],playerLocRoom:t.playerLocRoom,sentPlayerLocRomTypeChatMessage:t.sentPlayerLocRomTypeChatMessageObject[t.calPlayersSeat(1)],gameInfo:t.gameInfo,localPlayerSeatIndex:t.playerSeatIndex,player:t.playerLocRoom.playerList[t.calPlayersSeat(1)]},on:{gameTextToPlayerSent:t.gameTextToPlayerHandler,typeChatMessageSent:function(e){t.sentPlayerLocRomTypeChatMessageObject[e]={}}}})],1)])])])},we=[],Ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"player-now-play-card":t.gameInfo&&t.gameInfo.currentPlayer===t.seatIndex,"player-now-play-color":t.showColorChanging}},[i("el-tooltip",{attrs:{effect:"light",placement:t.tooltipPlacement,manual:!0},model:{value:t.isTooltipShow,callback:function(e){t.isTooltipShow=e},expression:"isTooltipShow"}},[i("div",{attrs:{slot:"content"},slot:"content"},t._l(t.gameTextFromPlayer,(function(e,n){return i("p",{key:n+""+e},[t._v(t._s(e))])})),0),i("el-popover",{attrs:{placement:"top",width:"160",disabled:0===t.playerLocRoom.status&&!0===t.player.ready},model:{value:t.isPopoverVisible,callback:function(e){t.isPopoverVisible=e},expression:"isPopoverVisible"}},[i("div",{staticStyle:{margin:"0"},style:{"margin-left":t.playerLocRoom.owner===t.$store.state.id||1===t.playerLocRoom.status?"0":"25%"}},[0===t.playerLocRoom.status&&!1===t.player.ready?[i("el-button",{staticStyle:{"margin-left":"10%","margin-right":"10%"},attrs:{type:"primary",size:"mini",disabled:!0===t.playerLocRoom.playerList[t.localPlayerSeatIndex].ready},on:{click:t.changeSeat}},[t._v("换位")]),t.playerLocRoom.owner===t.$store.state.id?i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:t.kickPlayerOff}},[t._v("踢出")]):t._e()]:t._e(),1===t.playerLocRoom.status?[i("QuickChatSelector",{attrs:{labelMessage:"向该玩家发言"},on:{emitSelectedTextToPlayer:t.sentSelectedTextToPlayer}})]:t._e()],2),i("div",{attrs:{slot:"reference",id:"game-room-player-info-box"},slot:"reference"},[0===t.playerLocRoom.status?[i("div",{class:{"game-room-player-info-item-vertical":!t.isItemHorizontal,"game-room-player-info-item-horitonzal":t.isItemHorizontal}},[i("el-image",{class:{"game-room-player-info-avatar-vertical":!t.isItemHorizontal,"game-room-player-info-avatar-horizontal":t.isItemHorizontal},attrs:{src:t.getAvatarUrl(t.getPlayer().avatar_id)}}),i("el-tag",{style:{"font-size":t.fontSize},attrs:{type:t.getPlayerNameTagType,effect:0===t.player.id?"light":"dark",size:t.tagSize}},[t.player.id===t.playerLocRoom.owner?i("i",{staticClass:"el-icon-star-on"}):t._e(),t._v(t._s(t.getPlayer().nickname))])],1),0!==t.getPlayer().avatar_id?i("div",{class:{"game-room-player-info-item-vertical":!t.isItemHorizontal,"game-room-player-info-item-horitonzal":t.isItemHorizontal}},[i("el-tag",{style:{"font-size":t.fontSize},attrs:{type:"info",effect:"dark",size:t.tagSize}},[t._v(t._s("收牌数： ")+" "),i("CardsNum",{attrs:{value:t.player.cards}}),t._v(" "+t._s(" 张"))],1),i("el-tag",{style:{"font-size":t.fontSize},attrs:{type:"success",effect:"dark",size:t.tagSize}},[t._v(t._s("吃鸡： ")+" "),i("CardsNum",{attrs:{value:t.player.win}}),t._v(" "+t._s(" 局"))],1),i("el-tag",{style:{"font-size":t.fontSize},attrs:{type:"danger",effect:"dark",size:t.tagSize}},[t._v(t._s("拉跨： ")+" "),i("CardsNum",{attrs:{value:t.player.loss}}),t._v(" "+t._s(" 局"))],1)],1):t._e()]:t._e(),1===t.playerLocRoom.status&&null!==t.gameInfo&&null!==t.getGamePlayer?[i("div",{class:{"game-room-player-info-item-vertical":!t.isItemHorizontal,"game-room-player-info-item-horitonzal":t.isItemHorizontal}},[i("AnimatedAvatar",{attrs:{avatarClass:t.isItemHorizontal?"game-room-player-info-avatar-horizontal":"game-room-player-info-avatar-vertical",avatarUrl:t.getAvatarUrl(t.getGamePlayer.avatar_id),currentPlayerCards:t.getGamePlayer.cards,isCurrentPlayer:t.gameInfo.currentPlayer===t.seatIndex,currentGameCombo:t.gameInfo.currentCombo}}),i("el-tag",{style:{"font-size":t.fontSize},attrs:{type:t.getPlayerNameTagType,effect:"dark",size:t.tagSize}},[t.gameInfo.currentPlayer===t.seatIndex?i("i",{staticClass:"el-icon-alarm-clock"}):t._e(),t._v(t._s(t.getGamePlayer.nickname))])],1),i("div",{class:{"game-room-player-info-item-vertical":!t.isItemHorizontal,"game-room-player-info-item-horitonzal":t.isItemHorizontal}},[i("transition",{attrs:{"leave-active-class":"scale-out-top"}},[i("el-tag",{directives:[{name:"show",rawName:"v-show",value:t.getGamePlayer.remainCards.length>0,expression:"getGamePlayer.remainCards.length > 0"}],style:{"font-size":t.fontSize},attrs:{type:"success",effect:"dark",size:t.tagSize}},[t._v(t._s("手牌数： "+t.getGamePlayer.remainCards.length+" 张"))])],1),i("el-tag",{class:{"increase-num":t.allCardsFlag},style:{"font-size":t.fontSize},attrs:{type:"info",effect:"dark",size:t.tagSize}},[t._v(t._s("总收牌： ")+" "),i("CardsNum",{attrs:{value:t.getGamePlayer.cards},on:{increased:function(e){return t.increasedHandler("all")}}}),t._v(" "+t._s(" 张"))],1),i("el-tag",{class:{"increase-num":t.comboFlag},style:{"font-size":t.fontSize},attrs:{type:"danger",effect:"dark",size:t.tagSize}},[t._v(t._s("最大连击： ")+" "),i("CardsNum",{attrs:{value:t.getGamePlayer.maxCombo},on:{increased:function(e){return t.increasedHandler("combo")}}}),t._v(" "+t._s(" 张"))],1)],1)]:t._e()],2)])],1)],1)},Te=[],ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t._v(t._s(t.tweeningValue))])},Ie=[],ze=i("22b5"),Me={data:function(){return{tweeningValue:0}},props:{value:{type:Number,required:!0}},watch:{value:function(t,e){t>e&&t>0&&this.$emit("increased");var i=Math.abs(t-e);i>1?this.tween(e,t):this.tweeningValue=t}},mounted:function(){this.tween(0,this.value)},methods:{tween:function(t,e){var i=this;function n(){ze.update()&&requestAnimationFrame(n)}new ze.Tween({tweeningValue:t}).to({tweeningValue:e},1e3).onUpdate((function(t){i.tweeningValue=t.tweeningValue.toFixed(0)})).start(),n()}}},Pe=Me,Le=Object(w["a"])(Pe,ke,Ie,!1,null,null,null),De=Le.exports,Re=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-select",{attrs:{size:"medium","value-key":"id",placeholder:t.labelMessage},on:{change:t.emitSelectedTextToPlayer},model:{value:t.gameTextToPlayer,callback:function(e){t.gameTextToPlayer=e},expression:"gameTextToPlayer"}},[i("el-option",{attrs:{disabled:!0,label:t.labelMessage,value:""}}),t._l(t.$store.state.setting.textToPlayer,(function(t){return i("el-option",{key:t.id,attrs:{label:t.text,value:t}})}))],2)},Ae=[],Oe={data:function(){return{gameTextToPlayer:null}},props:{labelMessage:{type:String,default:"向该玩家发言"}},methods:{emitSelectedTextToPlayer:function(){this.$emit("emitSelectedTextToPlayer",this.gameTextToPlayer),this.gameTextToPlayer=null}}},Fe=Oe,Ne=Object(w["a"])(Fe,Re,Ae,!1,null,null,null),Ee=Ne.exports,Be={data:function(){return{isTooltipShow:!1,isPopoverVisible:!1,gameTextFromPlayer:[],timer:0,showColorChanging:!1,allCardsFlag:!1,comboFlag:!1}},props:{player:{type:Object,default:null},playerList:Array,tooltipPlacement:{type:String,default:"top"},tagSize:{type:String,default:""},fontSize:{type:String,default:""},isItemHorizontal:{type:Boolean,default:!1},playerLocRoom:{type:Object,default:null},ws:{type:WebSocket,default:null},seatIndex:{type:Number},gameInfo:{type:Object,default:null},localPlayerSeatIndex:{type:Number},sentGameTextToPlayer:{type:Object,default:null},sentPlayerLocRomTypeChatMessage:{type:Object,default:null}},watch:{sentGameTextToPlayer:function(t){null!==this.gameInfo&&void 0!==t.source&&void 0!==t.text&&void 0!==t.target&&void 0!==this.gameInfo.gamePlayer[t.source]&&(this.$emit("gameTextToPlayerSent",this.seatIndex),-1===t.targetId?this.gameTextFromPlayer.push(this.gameInfo.gamePlayer[t.source].nickname+" 说: "+t.text):t.targetId===this.$store.state.id?this.gameTextFromPlayer.push(this.gameInfo.gamePlayer[t.source].nickname+" 对你说: "+t.text):this.gameTextFromPlayer.push(this.gameInfo.gamePlayer[t.source].nickname+" 对"+this.gameInfo.gamePlayer[t.target].nickname+" 说: "+t.text),Object(o["d"])("quickChat/"+t.soundSrc),this.$nextTick((function(){var t=this;this.gameTextFromPlayer.length>0&&(this.isTooltipShow=!0,this.gameTextFromPlayerTimer=setTimeout((function(){t.gameTextFromPlayer.shift(),0===t.gameTextFromPlayer.length&&(t.isTooltipShow=!1)}),6e3))})))},sentPlayerLocRomTypeChatMessage:function(t){null===this.gameInfo&&void 0!==t&&void 0!==t.nickname&&null!==t&&void 0!==t.text&&""!==t.text&&(this.$emit("typeChatMessageSent",this.seatIndex),this.gameTextFromPlayer.push(t.nickname+" 说: "+t.text),this.$nextTick((function(){var t=this;this.gameTextFromPlayer.length>0&&(this.isTooltipShow=!0,this.gameTextFromPlayerTimer=setTimeout((function(){t.gameTextFromPlayer.shift(),0===t.gameTextFromPlayer.length&&(t.isTooltipShow=!1)}),6e3))})))},gameInfo:function(t){if(null!==t)if(t.currentPlayer===this.seatIndex){this.showColorChanging=!1;var e=this;window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.showColorChanging=!0}))}))}else this.showColorChanging=!1}},computed:{getPlayerNameTagType:function(){return 0===this.player.id?"info":0===this.playerLocRoom.status?this.player.id===this.playerLocRoom.owner?"warning":!1===this.player.ready?"info":"success":this.getGamePlayer.online?"primary":"danger"},getGamePlayer:function(){return null===this.gameInfo?null:this.gameInfo.gamePlayer[this.seatIndex].id>0?this.gameInfo.gamePlayer[this.seatIndex]:null}},methods:{getPlayer:function(){for(var t=0;t<this.playerList.length;t++)if(this.playerList[t].id===this.player.id)return this.playerList[t];return{nickname:"空位"+(this.seatIndex+1),avatar_id:0}},getAvatarUrl:function(t){return i("f672")("./avatar_"+t+"-min.png")},kickPlayerOff:function(){0!==this.player.id?(this.ws.send(JSON.stringify({type:"gameRoomList",id:-1*this.playerLocRoom.id,seatIndex:this.seatIndex})),this.isPopoverVisible=!1):this.isPopoverVisible=!1},changeSeat:function(){this.ws.send(JSON.stringify({type:"gameRoomList",action:"changeSeat",id:this.playerLocRoom.id,targetId:this.player.id,sourceId:this.$store.state.id,targetSeatIndex:this.seatIndex,sourceSeatIndex:this.localPlayerSeatIndex,confirm:!1})),this.isPopoverVisible=!1},sentSelectedTextToPlayer:function(t){this.isPopoverVisible=!1,this.ws.send(JSON.stringify({type:"game",action:"textToPlayer",id:this.gameInfo.id,source:this.localPlayerSeatIndex,target:this.seatIndex,targetId:this.player.id,sourceId:this.$store.state.id,text:t.text,soundSrc:t.music}))},increasedHandler:function(t){var e=this;"all"===t?(this.allCardsFlag=!1,window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.allCardsFlag=!0}))}))):"combo"===t&&(this.comboFlag=!1,window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.comboFlag=!0}))})))}},components:{CardsNum:De,AnimatedAvatar:gt,QuickChatSelector:Ee}},Ve=Be,Ge=(i("bc56"),Object(w["a"])(Ve,Ce,Te,!1,null,"26293bf7",null)),We=Ge.exports,He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isItemHorizontal?n("div",{attrs:{id:"game-room-table-box"}},[0===t.playerLocRoom.status?n("div",{attrs:{id:"game-room-table-horizontal-container"}},[n("div",{on:{click:function(){t.editGameRoomDialogVisible=!0}}},[n("el-alert",{staticClass:"clickable",staticStyle:{"margin-top":"3vh",padding:"0px"},style:{"font-size":t.fontSize},attrs:{title:t.playerLocRoom.name+(t.playerLocRoom.owner===t.player.id?" [修改]":"[查看]"),description:t.playerLocRoom.needPassword?" 密码： "+t.playerLocRoom.password:"",type:"info",center:"",closable:!1}})],1),t._l(t.playerLocRoom.cardNum,(function(e){return n("el-tooltip",{key:e,attrs:{effect:"light",content:"游戏使用牌数： "+t.playerLocRoom.cardNum+"副",placement:"right-start"}},[n("el-image",{staticClass:"game-room-table-horizontal-poker-pool",style:{"margin-left":1===e?50-5*t.playerLocRoom.cardNum+"%":"0%"},attrs:{src:i("3ae2")}})],1)})),n("el-tooltip",{attrs:{effect:"light",placement:"top",manual:!0},model:{value:t.isTooltipShow,callback:function(e){t.isTooltipShow=e},expression:"isTooltipShow"}},[n("div",{attrs:{slot:"content"},slot:"content"},t._l(t.gameTextFromPlayer,(function(e,i){return n("p",{key:i+""+e},[t._v(t._s(e))])})),0),n("div",{style:{"margin-top":t.playerLocRoom.needPassword?"14vh":"20vh"},attrs:{id:"game-room-table-horizontal-bottom"}},[n("el-tag",{staticClass:"game-room-table-horizontal-record-item",style:{"font-size":t.fontSize},attrs:{type:"info",effect:"dark",size:t.tagSize}},[t._v(t._s("收牌数： ")+" "),n("CardsNum",{attrs:{value:t.player.cards}}),t._v(" "+t._s(" 张"))],1),n("el-tag",{staticClass:"game-room-table-horizontal-record-item",style:{"font-size":t.fontSize},attrs:{type:"success",effect:"dark",size:t.tagSize}},[t._v(t._s("吃鸡： ")+" "),n("CardsNum",{attrs:{value:t.player.win}}),t._v(" "+t._s(" 局"))],1),n("el-tag",{staticClass:"game-room-table-horizontal-record-item",style:{"font-size":t.fontSize},attrs:{type:"danger",effect:"dark",size:t.tagSize}},[t._v(t._s("拉跨： ")+" "),n("CardsNum",{attrs:{value:t.player.loss}}),t._v(" "+t._s(" 局"))],1)],1)])],2):t._e(),1===t.playerLocRoom.status&&null!==t.gameInfo?n("div",{attrs:{id:"game-room-table-playing-horizontal-container"}},[n("div",{attrs:{id:"game-room-table-horizontal-box-info"}},[n("p",{staticClass:"white-color-font",style:{"font-size":t.textFontSize},attrs:{id:"game-info-text-box"}},[t._v(t._s(t.gameTableTexts?t.gameTableTexts[0]:""))])]),n("div",{attrs:{id:"game-room-table-horizontal-box-top"},on:{click:function(e){return t.$emit("playCard")}}},[t.gameInfo.currentCard.length>0?t._l(t.gameInfo.currentCard,(function(e,a){return n("div",{key:e+""+a,staticStyle:{"text-align":"center",height:"15vh",display:"inline-block"},style:{width:t.tablePokersWidth,"margin-left":0===a?t.tablePokerLeftMargin:"0%"}},[n("p",{staticClass:"white-color-font",style:{"font-size":t.fontSize,color:e<100?"white":"#409EFF"}},[t._v(t._s(t.getIndexOfCardList(e).name+(100===t.getIndexOfCardList(e).num?"":" ("+t.getIndexOfCardList(e).suit+")")))]),n("el-image",{staticStyle:{height:"15vh"},attrs:{src:i("a5d6")("./"+t.getIndexOfCardList(e).src+".png")}}),n("p",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v("来自: "+t._s(t.gameInfo.gamePlayer[t.gameInfo.currentCardPlayer].nickname))])],1)})):t._e(),t.gameInfo.jokerCard.length>0?t._l(t.gameInfo.jokerCard,(function(e,a){return n("div",{key:e+""+a,staticStyle:{"text-align":"center",height:"15vh",display:"inline-block"},style:{width:t.tablePokersWidth,"margin-left":0===a&&0===t.gameInfo.currentCard.length?t.tablePokerLeftMargin:"0%"}},[n("p",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v(t._s(t.getIndexOfCardList(e).name))]),n("el-image",{staticStyle:{height:"15vh"},attrs:{src:i("a5d6")("./"+t.getIndexOfCardList(e).src+".png")}}),n("p",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v("来自: "+t._s(t.gameInfo.gamePlayer[t.gameInfo.jokerCardPlayer].nickname))])],1)})):t._e()],2),n("div",{attrs:{id:"game-room-table-horizontal-box-middle"}},[n("RemainCardsNum",{attrs:{isHorizontal:!0,gameInfo:t.gameInfo,fontSize:t.fontSize}}),n("ComboCardsNum",{attrs:{isHorizontal:!0,gameInfo:t.gameInfo,fontSize:t.fontSize}}),n("Clockwise",{attrs:{isHorizontal:!0,gameInfo:t.gameInfo,fontSize:t.fontSize}})],1),n("el-tooltip",{attrs:{effect:"light",placement:"top",manual:!0},model:{value:t.isTooltipShow,callback:function(e){t.isTooltipShow=e},expression:"isTooltipShow"}},[n("div",{attrs:{slot:"content"},slot:"content"},t._l(t.gameTextFromPlayer,(function(e,i){return n("p",{key:i+""+e},[t._v(t._s(e))])})),0),n("el-popover",{attrs:{placement:"top",width:"160"},model:{value:t.isPopoverVisible,callback:function(e){t.isPopoverVisible=e},expression:"isPopoverVisible"}},[n("div",{staticStyle:{margin:"0"}},[n("QuickChatSelector",{attrs:{labelMessage:"向全体发言"},on:{emitSelectedTextToPlayer:t.sentSelectedTextToPlayer}})],1),n("template",{slot:"reference"},[n("div",{attrs:{id:"game-room-table-horizontal-box-bottom"}},[n("transition",{attrs:{"leave-active-class":"scale-out-top"}},[n("el-tag",{directives:[{name:"show",rawName:"v-show",value:t.getGamePlayer.remainCards.length>0,expression:"getGamePlayer.remainCards.length > 0"}],staticClass:"game-room-table-horizontal-record-item",style:{"font-size":t.fontSize},attrs:{type:"success",effect:"dark",size:t.tagSize}},[t._v(t._s("手牌数： "+t.getGamePlayer.remainCards.length+" 张"))])],1),n("el-tag",{staticClass:"game-room-table-horizontal-record-item",class:{"increase-num":t.allCardsFlag},style:{"font-size":t.fontSize},attrs:{type:"info",effect:"dark",size:t.tagSize}},[t._v(t._s("总收牌： ")+" "),n("CardsNum",{attrs:{value:t.getGamePlayer.cards},on:{increased:function(e){return t.increasedHandler("all")}}}),t._v(" "+t._s(" 张"))],1),n("el-tag",{staticClass:"game-room-table-horizontal-record-item",class:{"increase-num":t.comboFlag},style:{"font-size":t.fontSize},attrs:{type:"danger",effect:"dark",size:t.tagSize}},[t._v(t._s("最大连击： ")+" "),n("CardsNum",{attrs:{value:t.getGamePlayer.maxCombo},on:{increased:function(e){return t.increasedHandler("combo")}}}),t._v(" "+t._s(" 张"))],1)],1)])],2)],1)],1):t._e(),n("EditGameRoomDialogModule",{attrs:{editGameRoomDialogVisible:t.editGameRoomDialogVisible,playerLocRoom:t.playerLocRoom,dialogWidth:t.dialogWidth,ws:t.ws,fontSize:t.fontSize},on:{editGameRoomDialogVisible:function(e){t.editGameRoomDialogVisible=e}}})],1):n("div",{attrs:{id:"game-room-table-box-vertical"}},[0===t.playerLocRoom.status?n("div",{attrs:{id:"game-room-table-vertical-container"}},[n("div",{attrs:{id:"game-room-table-vertical-room-info-top"},on:{click:function(){t.editGameRoomDialogVisible=!0}}},[n("el-alert",{staticClass:"clickable",style:{"font-size":t.fontSize},attrs:{title:t.playerLocRoom.name+(t.playerLocRoom.owner===t.player.id?" [修改]":"[查看]"),description:t.playerLocRoom.needPassword?" 密码： "+t.playerLocRoom.password:"",type:"info",center:"",closable:!1}})],1),n("div",{attrs:{id:"game-room-table-vertical-room-info-middle"}},t._l(t.playerLocRoom.cardNum,(function(e){return n("el-tooltip",{key:e,attrs:{effect:"light",content:"游戏使用牌数： "+t.playerLocRoom.cardNum+"副",placement:"right-start"}},[n("el-image",{staticClass:"game-room-table-horizontal-poker-pool",style:{"margin-left":1===e?50-5*t.playerLocRoom.cardNum+"%":"0%"},attrs:{fit:"contain",src:i("3ae2")}})],1)})),1),n("div",{attrs:{id:"game-room-table-vertical-room-info-bottom"}},[n("el-tooltip",{attrs:{effect:"light",placement:"right",manual:!0},model:{value:t.isTooltipShow,callback:function(e){t.isTooltipShow=e},expression:"isTooltipShow"}},[n("div",{attrs:{slot:"content"},slot:"content"},t._l(t.gameTextFromPlayer,(function(e){return n("p",{key:e},[t._v(t._s(e))])})),0),n("el-tag",{staticClass:"game-room-table-horizontal-record-item",style:{"font-size":t.fontSize},attrs:{type:"info",effect:"dark",size:t.tagSize}},[t._v(t._s("收牌数： ")+" "),n("CardsNum",{attrs:{value:t.player.cards}}),t._v(" "+t._s(" 张"))],1)],1),n("el-tag",{staticClass:"game-room-table-horizontal-record-item",style:{"font-size":t.fontSize},attrs:{type:"success",effect:"dark",size:t.tagSize}},[t._v(t._s("吃鸡： ")+" "),n("CardsNum",{attrs:{value:t.player.win}}),t._v(" "+t._s(" 局"))],1),n("el-tag",{staticClass:"game-room-table-horizontal-record-item",style:{"font-size":t.fontSize},attrs:{type:"danger",effect:"dark",size:t.tagSize}},[t._v(t._s("拉跨： ")+" "),n("CardsNum",{attrs:{value:t.player.loss}}),t._v(" "+t._s(" 局"))],1)],1)]):t._e(),1===t.playerLocRoom.status&&null!==t.gameInfo?n("div",{attrs:{id:"game-room-table-vertical-container"}},[n("div",{attrs:{id:"game-room-table-vertical-box-info"}},[n("p",{staticClass:"white-color-font",style:{"font-size":t.textFontSize},attrs:{id:"game-info-text-box"}},[t._v(t._s(t.gameTableTexts?t.gameTableTexts[0]:""))])]),n("div",{attrs:{id:"game-room-table-vertical-box-top"},on:{click:function(e){return t.$emit("playCard")}}},[t.gameInfo.currentCard.length>0?t._l(t.gameInfo.currentCard,(function(e,a){return n("div",{key:e+""+a,staticStyle:{"text-align":"center",height:"10vh",display:"inline-block",width:"20%"},style:{"margin-left":0===a?50-10*t.gameInfo.currentCard.length+"%":"0%"}},[n("p",{staticClass:"white-color-font",style:{"font-size":t.fontSize,color:e<100?"white":"#409EFF"}},[t._v(t._s(t.getIndexOfCardList(e).name+(100===t.getIndexOfCardList(e).num?"":" ("+t.getIndexOfCardList(e).suit+")")))]),n("el-image",{staticStyle:{height:"10vh"},attrs:{src:i("a5d6")("./"+t.getIndexOfCardList(e).src+".png")}}),n("p",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v("来自: "+t._s(t.gameInfo.gamePlayer[t.gameInfo.currentCardPlayer].nickname))])],1)})):t._e()],2),n("div",{attrs:{id:"game-room-table-vertical-box-middle"},on:{click:function(e){return t.$emit("playCard")}}},[t.gameInfo.jokerCard.length>0?t._l(t.gameInfo.jokerCard,(function(e,a){return n("div",{key:e+""+a,staticStyle:{"text-align":"center",height:"10vh",display:"inline-block",width:"20%"},style:{width:t.tablePokersWidth,"margin-left":0===a?50-10*t.gameInfo.jokerCard.length+"%":"0%"}},[n("p",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v(t._s(t.getIndexOfCardList(e).name))]),n("el-image",{staticStyle:{height:"10vh"},attrs:{src:i("a5d6")("./"+t.getIndexOfCardList(e).src+".png")}}),n("p",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v("来自: "+t._s(t.gameInfo.gamePlayer[t.gameInfo.jokerCardPlayer].nickname))])],1)})):t._e()],2),n("div",{attrs:{id:"game-room-table-vertical-box-bottom"}},[n("RemainCardsNum",{attrs:{isHorizontal:!1,gameInfo:t.gameInfo,fontSize:t.fontSize}}),n("ComboCardsNum",{attrs:{isHorizontal:!1,gameInfo:t.gameInfo,fontSize:t.fontSize}}),n("Clockwise",{attrs:{isHorizontal:!1,gameInfo:t.gameInfo,fontSize:t.fontSize}})],1),n("el-tooltip",{attrs:{effect:"light",placement:"right",manual:!0},model:{value:t.isTooltipShow,callback:function(e){t.isTooltipShow=e},expression:"isTooltipShow"}},[n("div",{attrs:{slot:"content"},slot:"content"},t._l(t.gameTextFromPlayer,(function(e){return n("p",{key:e},[t._v(t._s(e))])})),0),n("div",{attrs:{id:"game-room-table-vertical-info-box-bottom"}},[n("transition",{attrs:{"leave-active-class":"scale-out-top"}},[n("el-tag",{directives:[{name:"show",rawName:"v-show",value:t.getGamePlayer.remainCards.length>0,expression:"getGamePlayer.remainCards.length > 0"}],staticClass:"game-room-table-horizontal-record-item",style:{"font-size":t.fontSize},attrs:{type:"success",effect:"dark",size:t.tagSize}},[t._v(t._s("手牌数： "+t.getGamePlayer.remainCards.length+" 张"))])],1)],1)]),n("el-popover",{attrs:{placement:"top",width:"160"},model:{value:t.isPopoverVisible,callback:function(e){t.isPopoverVisible=e},expression:"isPopoverVisible"}},[n("div",{staticStyle:{margin:"0"}},[n("QuickChatSelector",{attrs:{labelMessage:"向全体发言"},on:{emitSelectedTextToPlayer:t.sentSelectedTextToPlayer}})],1),n("template",{slot:"reference"},[n("div",{attrs:{id:"game-room-table-vertical-info-box-bottom"}},[n("el-tag",{staticClass:"game-room-table-horizontal-record-item",class:{"increase-num":t.allCardsFlag},style:{"font-size":t.fontSize},attrs:{type:"info",effect:"dark",size:t.tagSize}},[t._v(t._s("总收牌： ")+" "),n("CardsNum",{attrs:{value:t.getGamePlayer.cards},on:{increased:function(e){return t.increasedHandler("all")}}}),t._v(" "+t._s(" 张"))],1)],1),n("div",{attrs:{id:"game-room-table-vertical-info-box-bottom"}},[n("el-tag",{staticClass:"game-room-table-horizontal-record-item",class:{"increase-num":t.comboFlag},style:{"font-size":t.fontSize},attrs:{type:"danger",effect:"dark",size:t.tagSize}},[t._v(t._s("最大连击： ")+" "),n("CardsNum",{attrs:{value:t.getGamePlayer.maxCombo},on:{increased:function(e){return t.increasedHandler("combo")}}}),t._v(" "+t._s(" 张"))],1)],1)])],2)],1):t._e(),n("EditGameRoomDialogModule",{attrs:{editGameRoomDialogVisible:t.editGameRoomDialogVisible,playerLocRoom:t.playerLocRoom,dialogWidth:t.dialogWidth,ws:t.ws,fontSize:t.fontSize},on:{editGameRoomDialogVisible:function(e){t.editGameRoomDialogVisible=e}}})],1)},je=[],$e=(i("ac1f"),i("1276"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:(t.notEditableFlag?"查看":"修改")+"设置",visible:t.editGameRoomDialogVisible,width:t.dialogWidth,center:"",modal:!1,"close-on-click-modal":t.notEditableFlag,"before-close":t.closeEditGameRoomDialog},on:{"update:visible":function(e){t.editGameRoomDialogVisible=e}}},[t.notEditableFlag?i("el-alert",{style:{"font-size":t.fontSize},attrs:{closable:!1,center:"",title:"只有房主才能修改设置",type:"info"}}):t._e(),i("el-form",{ref:"gameRoomValidateForm",attrs:{model:t.gameRoomValidateForm}},[i("el-form-item",{attrs:{label:"房间名",prop:"roomName",rules:[{required:!0,message:"请输入房间名",trigger:"blur"}]}},[i("el-input",{attrs:{placeholder:"请输入房间名",type:"text",autocomplete:"off",maxlength:"15","show-word-limit":"",disabled:t.notEditableFlag},model:{value:t.gameRoomValidateForm.roomName,callback:function(e){t.$set(t.gameRoomValidateForm,"roomName",e)},expression:"gameRoomValidateForm.roomName"}})],1),i("el-form-item",{attrs:{label:"密码",prop:"password",rules:[{trigger:"blur",validator:t.checkPassword}]}},[i("el-input",{attrs:{placeholder:"非必填，4到8位数字",autocomplete:"off",maxlength:"8","show-word-limit":"",disabled:t.notEditableFlag},model:{value:t.gameRoomValidateForm.password,callback:function(e){t.$set(t.gameRoomValidateForm,"password",e)},expression:"gameRoomValidateForm.password"}})],1)],1),i("div",[i("span",[t._v("使用牌数："+t._s(t.gameRoomValidateForm.cardNum)+"副")]),i("el-slider",{attrs:{min:2,max:10,step:1,"show-tooltip":!1,disabled:t.notEditableFlag},model:{value:t.gameRoomValidateForm.cardNum,callback:function(e){t.$set(t.gameRoomValidateForm,"cardNum",e)},expression:"gameRoomValidateForm.cardNum"}})],1),i("div",[i("span",[t._v("变身牌数："+t._s(t.gameRoomValidateForm.metamorphoseNum)+"张/副")]),i("el-slider",{attrs:{min:0,max:10,step:2,"show-tooltip":!1,disabled:t.notEditableFlag},model:{value:t.gameRoomValidateForm.metamorphoseNum,callback:function(e){t.$set(t.gameRoomValidateForm,"metamorphoseNum",e)},expression:"gameRoomValidateForm.metamorphoseNum"}})],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[t.notEditableFlag?[i("el-button",{attrs:{type:"primary"},on:{click:t.closeEditGameRoomDialog}},[t._v("关闭")])]:[i("el-button",{staticStyle:{"margin-right":"10%"},on:{click:t.closeEditGameRoomDialog}},[t._v("取消")]),i("el-button",{attrs:{type:"success"},on:{click:t.editGameRoom}},[t._v("修改")])]],2)],1)}),Ue=[],qe={data:function(){return{notEditableFlag:!0,gameRoomValidateForm:{roomName:"",password:"",cardNum:2,metamorphoseNum:4},checkPassword:function(t,e,i){if(""===e)i();else{var n=/^[0-9]{4,8}$/;n.test(e)?i():i(new Error("密码须4到8位数字")),i()}}}},props:{editGameRoomDialogVisible:{type:Boolean,default:!1},dialogWidth:{type:String,default:""},ws:{type:WebSocket,default:null},playerLocRoom:{type:Object,default:null},fontSize:{type:String,default:""}},watch:{editGameRoomDialogVisible:function(t){!0===t&&(this.gameRoomValidateForm.roomName=this.playerLocRoom.name,this.gameRoomValidateForm.password=this.playerLocRoom.needPassword?this.playerLocRoom.password:"",this.gameRoomValidateForm.cardNum=this.playerLocRoom.cardNum,this.gameRoomValidateForm.metamorphoseNum=this.playerLocRoom.metamorphoseNum)},"playerLocRoom.owner":{immediate:!0,handler:function(t){null!==this.playerLocRoom&&t===this.$store.state.id?this.notEditableFlag=!1:this.notEditableFlag=!0}}},methods:{editGameRoom:function(){var t=this;this.$refs.gameRoomValidateForm.validate((function(e){if(e){if(t.gameRoomValidateForm.roomName===t.playerLocRoom.name&&t.gameRoomValidateForm.password===t.playerLocRoom.password&&t.gameRoomValidateForm.cardNum===t.playerLocRoom.cardNum&&t.gameRoomValidateForm.metamorphoseNum===t.playerLocRoom.metamorphoseNum)return void t.closeEditGameRoomDialog();t.ws.send(JSON.stringify({type:"gameRoomList",action:"edit",id:t.playerLocRoom.id,name:t.gameRoomValidateForm.roomName,needPassword:t.gameRoomValidateForm.password.length>0,password:t.gameRoomValidateForm.password,cardNum:t.gameRoomValidateForm.cardNum,metamorphoseNum:t.gameRoomValidateForm.metamorphoseNum})),setTimeout((function(){t.closeEditGameRoomDialog()}),100)}}))},closeEditGameRoomDialog:function(){this.$emit("editGameRoomDialogVisible",!1),this.$refs.gameRoomValidateForm.clearValidate(),this.gameRoomValidateForm.roomName=this.playerLocRoom.name,this.gameRoomValidateForm.password=this.playerLocRoom.needPassword?this.playerLocRoom.password:"",this.gameRoomValidateForm.cardNum=this.playerLocRoom.cardNum,this.gameRoomValidateForm.metamorphoseNum=this.playerLocRoom.metamorphoseNum}}},Xe=qe,Ye=Object(w["a"])(Xe,$e,Ue,!1,null,null,null),Ze=Ye.exports,Ke={data:function(){return{cardList:[{num:2,suit:4,src:"2A",name:"妖怪2"},{num:2,suit:3,src:"2B",name:"妖怪2"},{num:2,suit:2,src:"2C",name:"妖怪2"},{num:2,suit:1,src:"2D",name:"妖怪2"},{num:4,suit:4,src:"4A",name:"妖怪4"},{num:4,suit:3,src:"4B",name:"妖怪4"},{num:4,suit:2,src:"4C",name:"妖怪4"},{num:4,suit:1,src:"4D",name:"妖怪4"},{num:6,suit:4,src:"6A",name:"妖怪6"},{num:6,suit:3,src:"6B",name:"妖怪6"},{num:6,suit:2,src:"6C",name:"妖怪6"},{num:6,suit:1,src:"6D",name:"妖怪6"},{num:7,suit:4,src:"7A",name:"妖怪7"},{num:7,suit:3,src:"7B",name:"妖怪7"},{num:7,suit:2,src:"7C",name:"妖怪7"},{num:7,suit:1,src:"7D",name:"妖怪7"},{num:9,suit:4,src:"9A",name:"妖怪9"},{num:9,suit:3,src:"9B",name:"妖怪9"},{num:9,suit:2,src:"9C",name:"妖怪9"},{num:9,suit:1,src:"9D",name:"妖怪9"},{num:11,suit:4,src:"11A",name:"妖怪J"},{num:11,suit:3,src:"11B",name:"妖怪J"},{num:11,suit:2,src:"11C",name:"妖怪J"},{num:11,suit:1,src:"11D",name:"妖怪J"},{num:12,suit:4,src:"12A",name:"妖怪Q"},{num:12,suit:3,src:"12B",name:"妖怪Q"},{num:12,suit:2,src:"12C",name:"妖怪Q"},{num:12,suit:1,src:"12D",name:"妖怪Q"},{num:13,suit:4,src:"13A",name:"妖怪K"},{num:13,suit:3,src:"13B",name:"妖怪K"},{num:13,suit:2,src:"13C",name:"妖怪K"},{num:13,suit:1,src:"13D",name:"妖怪K"},{num:14,suit:4,src:"1A",name:"妖怪A"},{num:14,suit:3,src:"1B",name:"妖怪A"},{num:14,suit:2,src:"1C",name:"妖怪A"},{num:14,suit:1,src:"1D",name:"妖怪A"},{num:21,suit:4,src:"3A",name:"沙僧"},{num:21,suit:3,src:"3B",name:"沙僧"},{num:21,suit:2,src:"3C",name:"沙僧"},{num:21,suit:1,src:"3D",name:"沙僧"},{num:22,suit:4,src:"8A",name:"八戒"},{num:22,suit:3,src:"8B",name:"八戒"},{num:22,suit:2,src:"8C",name:"八戒"},{num:22,suit:1,src:"8D",name:"八戒"},{num:23,suit:4,src:"5A",name:"悟空"},{num:23,suit:3,src:"5B",name:"悟空"},{num:23,suit:2,src:"5C",name:"悟空"},{num:23,suit:1,src:"5D",name:"悟空"},{num:31,suit:4,src:"10A",name:"唐僧"},{num:31,suit:3,src:"10B",name:"唐僧"},{num:31,suit:2,src:"10C",name:"唐僧"},{num:31,suit:1,src:"10D",name:"唐僧"},{num:100,suit:1,src:"black-joker",name:"反弹"},{num:100,suit:2,src:"red-joker",name:"反弹"}]}},methods:{getIndexOfCardList:function(t){return t<100?this.cardList[t]:this.cardList[t-100]}}},Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isHorizontal?n("div",{staticClass:"game-room-table-horizontal-box-middle-item",staticStyle:{"margin-left":"10%"}},[n("transition",{attrs:{"leave-active-class":"scale-out-top"}},[n("p",{directives:[{name:"show",rawName:"v-show",value:t.gameInfo.remainCards>0,expression:"gameInfo.remainCards > 0"}],staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v("剩余牌数")])]),n("transition",{attrs:{"leave-active-class":"scale-out-top"}},[n("el-image",{directives:[{name:"show",rawName:"v-show",value:t.gameInfo.remainCards>0,expression:"gameInfo.remainCards > 0"}],staticStyle:{"max-width":"3vw"},attrs:{src:i("3ae2")}})],1),n("div",{staticClass:"white-color-font",style:{"font-size":t.fontSize,color:t.gameInfo.remainCards>0&&t.gameInfo.remainCards<10?"red":"white"}},[t._v(t._s(t.gameInfo.remainCards>0?t.gameInfo.remainCards+" 张":"已发完"))])],1):n("div",{staticClass:"game-room-table-vertical-box-bottom-item"},[n("transition",{attrs:{"leave-active-class":"scale-out-top"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.gameInfo.remainCards>0,expression:"gameInfo.remainCards > 0"}],staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v("剩余牌数")])]),n("transition",{attrs:{"leave-active-class":"scale-out-top"}},[n("el-image",{directives:[{name:"show",rawName:"v-show",value:t.gameInfo.remainCards>0,expression:"gameInfo.remainCards > 0"}],staticStyle:{"max-width":"3vw"},attrs:{src:i("3ae2")}})],1),n("div",{staticClass:"white-color-font",style:{"font-size":t.fontSize,color:t.gameInfo.remainCards>0&&t.gameInfo.remainCards<10?"red":"white"}},[t._v(t._s(t.gameInfo.remainCards>0?t.gameInfo.remainCards+" 张":"已发完"))])],1)},Je=[],ti={data:function(){return{}},props:{gameInfo:{type:Object,default:null},fontSize:{type:String,default:""},isHorizontal:{type:Boolean,default:!1}}},ei=ti,ii=Object(w["a"])(ei,Qe,Je,!1,null,null,null),ni=ii.exports,ai=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isHorizontal?n("div",{staticClass:"game-room-table-horizontal-box-middle-item"},[n("p",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v("连击牌数")]),n("el-image",{class:{vibrate:t.vibrateFlag,bounce:t.bounceFlag,pulsate:t.pulsateFlag,shake:t.shakeFlag,earthquake:t.earthquakeFlag,relief:t.reliefFlag},attrs:{src:i("9e39")}}),n("div",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[n("CardsNum",{attrs:{value:t.gameInfo.currentCombo}}),t._v("张")],1)],1):n("div",{staticClass:"game-room-table-vertical-box-bottom-item"},[n("div",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v("连击牌数")]),n("el-image",{class:{vibrate:t.vibrateFlag,bounce:t.bounceFlag,pulsate:t.pulsateFlag,shake:t.shakeFlag,earthquake:t.earthquakeFlag,relief:t.reliefFlag},staticStyle:{"max-width":"8vw"},attrs:{src:i("9e39")}}),n("div",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[n("CardsNum",{attrs:{value:t.gameInfo.currentCombo}}),t._v("张")],1)],1)},ri=[],oi={data:function(){return{vibrateFlag:!1,bounceFlag:!1,pulsateFlag:!1,shakeFlag:!1,earthquakeFlag:!1,reliefFlag:!1,actionBoundryList:[0,10,20,30,40]}},props:{gameInfo:{type:Object,default:null},fontSize:{type:String,default:""},isHorizontal:{type:Boolean,default:!1}},watch:{"gameInfo.currentCombo":function(t,e){var i=this;t>e?t>this.actionBoundryList[0]&&t<=this.actionBoundryList[1]?(this.vibrateFlag=!1,this.bounceFlag=!1,this.pulsateFlag=!1,this.shakeFlag=!1,this.earthquakeFlag=!1,this.reliefFlag=!1,window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){i.vibrateFlag=!0}))}))):t>this.actionBoundryList[1]&&t<=this.actionBoundryList[2]?(this.vibrateFlag=!1,this.bounceFlag=!1,this.pulsateFlag=!1,this.shakeFlag=!1,this.earthquakeFlag=!1,this.reliefFlag=!1,window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){i.bounceFlag=!0}))}))):t>this.actionBoundryList[2]&&t<=this.actionBoundryList[3]?(this.vibrateFlag=!1,this.bounceFlag=!1,this.pulsateFlag=!0,this.shakeFlag=!1,this.earthquakeFlag=!1,this.reliefFlag=!1):t>this.actionBoundryList[3]&&t<=this.actionBoundryList[4]?(this.vibrateFlag=!1,this.bounceFlag=!1,this.pulsateFlag=!1,this.shakeFlag=!0,this.earthquakeFlag=!1,this.reliefFlag=!1):t>this.actionBoundryList[4]&&(this.pulsateFlag=!1,this.vibrateFlag=!1,this.bounceFlag=!1,this.shakeFlag=!1,this.earthquakeFlag=!0,this.reliefFlag=!1):(this.vibrateFlag=!1,this.bounceFlag=!1,this.pulsateFlag=!1,this.shakeFlag=!1,this.earthquakeFlag=!1,this.reliefFlag=!1,e>this.actionBoundryList[2]&&window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){i.reliefFlag=!0}))})))}},components:{CardsNum:De}},si=oi,li=(i("3f04"),Object(w["a"])(si,ai,ri,!1,null,"6570672b",null)),ui=li.exports,ci=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isHorizontal?n("div",{staticClass:"game-room-table-horizontal-box-middle-item"},[n("p",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v("出牌顺序")]),t.gameInfo.clockwise?n("el-image",{staticClass:"clockwise-rotate",staticStyle:{"max-width":"4vw"},attrs:{src:i("f715")}}):n("el-image",{staticClass:"anti-clockwise-rotate",staticStyle:{"max-width":"4vw"},attrs:{src:i("824f")}}),n("div",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v(t._s(t.gameInfo.clockwise?"顺时针":"逆时针"))])],1):n("div",{staticClass:"game-room-table-vertical-box-bottom-item"},[n("div",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v("出牌顺序")]),t.gameInfo.clockwise?n("el-image",{staticClass:"clockwise-rotate",staticStyle:{"max-width":"4vw"},attrs:{src:i("f715")}}):n("el-image",{staticClass:"anti-clockwise-rotate",staticStyle:{"max-width":"4vw"},attrs:{src:i("824f")}}),n("div",{staticClass:"white-color-font",style:{"font-size":t.fontSize}},[t._v(t._s(t.gameInfo.clockwise?"顺时针":"逆时针"))])],1)},hi=[],pi={data:function(){return{}},props:{gameInfo:{type:Object,default:null},fontSize:{type:String,default:""},isHorizontal:{type:Boolean,default:!1}}},di=pi,fi=(i("ab78"),Object(w["a"])(di,ci,hi,!1,null,"18b9371f",null)),gi=fi.exports,mi={data:function(){return{isTooltipShow:!1,editGameRoomDialogVisible:!1,gameTableTexts:[],gameTextFromPlayer:[],timer:0,gameTextFromPlayerTimer:0,isPopoverVisible:!1,textFontSize:"",allCardsFlag:!1,comboFlag:!1}},props:{dialogWidth:{type:String,default:""},tagSize:{type:String,default:""},fontSize:{type:String,default:""},largeFontSize:{type:String,default:""},isItemHorizontal:{type:Boolean,default:!1},playerLocRoom:{type:Object,default:null},player:{type:Object,default:null},gameInfo:{type:Object,default:null},seatIndex:{type:Number},ws:{type:WebSocket,default:null},sentGameTextToPlayer:{type:Object,default:null},sentPlayerLocRomTypeChatMessage:{type:Object,default:null}},watch:{"gameInfo.messages":{immediate:!0,handler:function(t){null!==this.gameInfo&&(clearTimeout(this.timer),this.gameTableTexts=t)}},"gameInfo.currentPlayer":function(t,e){if(null!==this.gameInfo&&-1!==t)return void 0===e?(Object(o["d"])("game-start-voice"),void Object(o["d"])("card-shuffle")):void(this.gameInfo.jokerCard.length>0?1===this.getIndexOfCardList(this.gameInfo.jokerCard[0]).suit?Object(o["d"])("playCard/guanyin"):Object(o["d"])("playCard/rulai"):21===this.getIndexOfCardList(this.gameInfo.currentCard[0]).num?Object(o["d"])("playCard/shaseng"):22===this.getIndexOfCardList(this.gameInfo.currentCard[0]).num?Object(o["d"])("playCard/bajie"):23===this.getIndexOfCardList(this.gameInfo.currentCard[0]).num?Object(o["d"])("playCard/wukong"):31===this.getIndexOfCardList(this.gameInfo.currentCard[0]).num?Object(o["d"])("playCard/shifu"):100===this.getIndexOfCardList(this.gameInfo.currentCard[0]).num?1===this.getIndexOfCardList(this.gameInfo.currentCard[0]).suit?Object(o["d"])("playCard/guanyin"):Object(o["d"])("playCard/rulai"):Object(o["d"])("playCard/card-drop"))},gameTableTexts:function(){var t=this;this.gameTableTexts&&this.gameTableTexts.length>1&&(this.timer=setTimeout((function(){t.gameTableTexts.shift()}),2e3))},sentGameTextToPlayer:function(t){null!==this.gameInfo&&void 0!==t.source&&void 0!==t.text&&void 0!==t.target&&(this.$emit("gameTextToPlayerSent",this.seatIndex),t.sourceId===this.$store.state.id&&(-1===t.target?this.gameTextFromPlayer.push("你说: "+t.text):this.gameTextFromPlayer.push("你对 "+this.gameInfo.gamePlayer[t.target].nickname+" 说: "+t.text),Object(o["d"])("quickChat/"+t.soundSrc),this.$nextTick((function(){var t=this;this.gameTextFromPlayer.length>0&&(this.isTooltipShow=!0,this.gameTextFromPlayerTimer=setTimeout((function(){t.gameTextFromPlayer.shift(),0===t.gameTextFromPlayer.length&&(t.isTooltipShow=!1)}),6e3))}))))},sentPlayerLocRomTypeChatMessage:function(t){null===this.gameInfo&&void 0!==t&&void 0!==t.nickname&&null!==t&&void 0!==t.text&&""!==t.text&&(this.$emit("typeChatMessageSent",this.seatIndex),this.gameTextFromPlayer.push("你说: "+t.text),this.$nextTick((function(){var t=this;this.gameTextFromPlayer.length>0&&(this.isTooltipShow=!0,this.gameTextFromPlayerTimer=setTimeout((function(){t.gameTextFromPlayer.shift(),0===t.gameTextFromPlayer.length&&(t.isTooltipShow=!1)}),6e3))})))},largeFontSize:{immediate:!0,handler:function(t){var e=t.split("px")[0],i=parseInt(e);this.textFontSize=i+2+"px"}}},computed:{tablePokersWidth:function(){return this.isItemHorizontal?this.gameInfo.currentCard.length+this.gameInfo.jokerCard.length<=5?"20%":100/(this.gameInfo.currentCard.length+this.gameInfo.jokerCard.length)+"%":"20%"},tablePokerLeftMargin:function(){return this.isItemHorizontal&&this.gameInfo.currentCard.length+this.gameInfo.jokerCard.length<=5?50-10*(this.gameInfo.currentCard.length+this.gameInfo.jokerCard.length)+"%":"0%"},getGamePlayer:function(){return null===this.gameInfo?null:this.gameInfo.gamePlayer[this.seatIndex].id>0?this.gameInfo.gamePlayer[this.seatIndex]:null}},methods:{sentSelectedTextToPlayer:function(t){this.isPopoverVisible=!1,this.ws.send(JSON.stringify({type:"game",action:"textToPlayer",id:this.gameInfo.id,source:this.seatIndex,target:-1,targetId:-1,sourceId:this.$store.state.id,text:t.text,soundSrc:t.music}))},increasedHandler:function(t){var e=this;"all"===t?(this.allCardsFlag=!1,window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.allCardsFlag=!0}))}))):"combo"===t&&(this.comboFlag=!1,window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.comboFlag=!0}))})))}},components:{EditGameRoomDialogModule:Ze,RemainCardsNum:ni,ComboCardsNum:ui,Clockwise:gi,CardsNum:De,QuickChatSelector:Ee},mixins:[Ke]},yi=mi,vi=(i("5c79"),Object(w["a"])(yi,He,je,!1,null,null,null)),_i=vi.exports,xi={data:function(){return{sentPlayerLocRomTypeChatMessageObject:{0:{},1:{},2:{},3:{},4:{},5:{},6:{},7:{}}}},props:{dialogWidth:{type:String,default:""},ws:{type:WebSocket,default:null},playerLocRoom:{type:Object,default:null},gameInfo:{type:Object,default:null},playerList:Array,tagSize:{type:String,default:""},isHorizontal:{type:Boolean,default:!0},fontSize:{type:String,default:""},largeFontSize:{type:String,default:""},sentGameTextToPlayerObj:{type:Object,default:null},playerLocRomTypeChatMessageObject:{type:Object,default:null}},watch:{playerLocRomTypeChatMessageObject:function(t){if(null!==this.playerLocRoom)for(var e=0;e<Object.keys(this.playerLocRoom.playerList).length;e++)if(this.playerLocRoom.playerList[this.calPlayersSeat(e)].id===t.id){this.sentPlayerLocRomTypeChatMessageObject[this.calPlayersSeat(e)]=t;break}}},computed:{playerSeatIndex:function(){for(var t=0;t<Object.keys(this.playerLocRoom.playerList).length;t++)if(this.playerLocRoom.playerList[t].id===this.$store.state.id)return t;return 10}},methods:{calPlayersSeat:function(t){return t+this.playerSeatIndex>7?t+this.playerSeatIndex-8:t+this.playerSeatIndex},gameTextToPlayerHandler:function(t){this.$emit("gameTextToPlayerSent",t)}},components:{GameRoomPlayerItemModule:We,GameRoomTableModule:_i}},bi=xi,Si=(i("04bd"),Object(w["a"])(bi,Se,we,!1,null,null,null)),wi=Si.exports,Ci=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.getPlayerNickname()+"想要与你交换位置",visible:t.askChangeSeatDialogVisible,width:t.dialogWidth,center:"","before-close":t.closeAskChangeSeatDialog,"show-close":!1},on:{"update:visible":function(e){t.askChangeSeatDialogVisible=e}}},[i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{"margin-right":"10%"},attrs:{size:t.buttonSize,type:"danger"},on:{click:t.disagreeChangeSeat}},[t._v("拒绝")]),i("el-button",{attrs:{size:t.buttonSize,type:"success"},on:{click:t.agreeChangeSeat}},[t._v("同意")])],1)])},Ti=[],ki={data:function(){return{}},props:{askChangeSeatDialogVisible:{type:Boolean,default:!1},dialogWidth:{type:String,default:""},askChangeSeatInfo:{type:Object,default:null},playerList:Array,fontSize:{type:String,default:""},buttonSize:{type:String,default:""},ws:{type:WebSocket,default:null}},methods:{closeAskChangeSeatDialog:function(){this.$emit("askChangeSeatDialogVisible",!1)},getPlayerNickname:function(){if(this.askChangeSeatInfo)for(var t=0;t<this.playerList.length;t++)if(this.playerList[t].id===this.askChangeSeatInfo.sourceId)return this.playerList[t].nickname;return"空位"},agreeChangeSeat:function(){var t=this.askChangeSeatInfo;t.confirm=!0,this.ws.send(JSON.stringify(t)),this.$emit("askChangeSeatDialogVisible",!1)},disagreeChangeSeat:function(){this.ws.send(JSON.stringify({type:"gameRoomList",action:"disagreeChangeSeat",id:this.askChangeSeatInfo.id,playerId:this.askChangeSeatInfo.sourceId,refusePlayerNickname:this.$store.state.nickname})),this.$emit("askChangeSeatDialogVisible",!1)}}},Ii=ki,zi=Object(w["a"])(Ii,Ci,Ti,!1,null,null,null),Mi=zi.exports,Pi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"游戏战绩",visible:t.gameResultDialogVisible,width:t.customDialogWidth,"modal-append-to-body":!1,center:"",modal:!1,"before-close":t.closeGameResultDialog},on:{"update:visible":function(e){t.gameResultDialogVisible=e}}},[null!==t.gameResult?i("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleGameResultModuleTabClick},model:{value:t.activeGameResultModuleTabName,callback:function(e){t.activeGameResultModuleTabName=e},expression:"activeGameResultModuleTabName"}},[i("el-tab-pane",{attrs:{label:"表格数据",name:"gameRecord"}},[i("div",{staticStyle:{width:"100%"}},[i("div",[i("el-tag",{style:{"font-size":this.largeFontSize},attrs:{size:t.tagSize,type:"success",effect:"dark"}},[t._v("吃鸡玩家: "+t._s(t.gameResult.winnerNickname))]),i("el-tag",{staticStyle:{"margin-right":"2vw"},style:{"font-size":this.largeFontSize},attrs:{size:t.tagSize,type:"success",effect:"light"}},[t._v("收牌数: "+t._s(t.gameResult.winnerCards))]),i("el-tag",{style:{"font-size":this.largeFontSize},attrs:{size:t.tagSize,type:"danger",effect:"dark"}},[t._v("拉跨玩家: "+t._s(t.gameResult.loserNickname))]),i("el-tag",{staticStyle:{"margin-right":"2vw"},style:{"font-size":this.largeFontSize},attrs:{size:t.tagSize,type:"danger",effect:"light"}},[t._v("收牌数: "+t._s(t.gameResult.loserCards))]),i("el-tag",{style:{"font-size":this.largeFontSize},attrs:{size:t.tagSize,type:"warning",effect:"dark"}},[t._v("最大连击玩家: "+t._s(t.gameResult.maxComboPlayer))]),i("el-tag",{staticStyle:{"margin-right":"2vw"},style:{"font-size":this.largeFontSize},attrs:{size:t.tagSize,type:"warning",effect:"light"}},[t._v("连击数: "+t._s(t.gameResult.maxCombo))]),i("el-tag",{style:{"font-size":this.largeFontSize},attrs:{size:t.tagSize,type:"info",effect:"dark"}},[t._v("使用牌数: "+t._s(t.gameResult.cardsNum)+"副")]),i("el-tag",{style:{"font-size":this.largeFontSize},attrs:{size:t.tagSize,type:"info",effect:"light"}},[t._v("玩家数: "+t._s(t.gameResult.playersNum))])],1),i("el-divider"),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"default-sort":{prop:"seatIndex",order:"ascending"},data:t.gameResult.gameResultList,"row-style":{"font-size":this.largeFontSize},"header-row-style":{"font-size":this.fontSize}}},[i("el-table-column",{attrs:{align:"center",fixed:"",prop:"avatar_id",label:"头像","min-width":"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-avatar",{attrs:{shape:"square",size:t.avatarSize,src:t.getAvatarUrl(e.row.avatar_id)}})]}}],null,!1,776114895)}),i("el-table-column",{attrs:{align:"center",fixed:"",prop:"nickname",label:"昵称","min-width":"80"}}),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"seatIndex",label:"座位号","min-width":"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.seatIndex+1))])]}}],null,!1,1476493761)}),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"cards",label:"总收牌","min-width":"60"}}),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"maxCombo",label:"最大连击","min-width":"60"}}),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"wukong",label:"使用悟空","min-width":"60"}}),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"bajie",label:"使用八戒","min-width":"60"}}),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"shaseng",label:"使用沙僧","min-width":"60"}}),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"tangseng",label:"使用唐僧","min-width":"60"}}),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"joker",label:"使用反弹","min-width":"60"}}),i("el-table-column",{attrs:{align:"center",sortable:"",prop:"bianshen",label:"使用变身","min-width":"60"}})],1)],1)]),i("el-tab-pane",{attrs:{label:"图形数据",name:"visualData"}},[i("el-button",{staticStyle:{"margin-right":"1vw"},attrs:{type:"primary",size:t.buttonSize,round:"",disabled:""===t.selectedLegend},on:{click:function(e){return t.changeEchartSelected("")}}},[t._v("综合")]),i("el-button",{staticStyle:{"margin-right":"1vw"},attrs:{type:"danger",size:t.buttonSize,round:"",disabled:"all"===t.selectedLegend},on:{click:function(e){return t.changeEchartSelected("all")}}},[t._v("总收牌")]),i("el-button",{staticStyle:{"margin-right":"1vw"},attrs:{type:"warning",size:t.buttonSize,round:"",disabled:"max"===t.selectedLegend},on:{click:function(e){return t.changeEchartSelected("max")}}},[t._v("最大连击")]),i("el-button",{attrs:{type:"success",size:t.buttonSize,round:"",disabled:"func"===t.selectedLegend},on:{click:function(e){return t.changeEchartSelected("func")}}},[t._v("功能牌")]),i("el-divider"),i("div",{staticStyle:{width:"80vw",height:"90vh"},attrs:{id:"main"}})],1)],1):t._e(),i("span",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger",size:t.buttonSize},on:{click:t.closeGameResultDialog}},[t._v("关闭")])],1)],1)},Li=[],Di=(i("159b"),i("d81d"),function(t,e){return Di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},Di(t,e)});function Ri(t,e){function i(){this.constructor=t}Di(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}Object.create;function Ai(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),a=0;for(e=0;e<i;e++)for(var r=arguments[e],o=0,s=r.length;o<s;o++,a++)n[a]=r[o];return n}Object.create;var Oi=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),Fi=function(){function t(){this.browser=new Oi,this.node=!1,this.wxa=!1,this.worker=!1,this.canvasSupported=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1}return t}(),Ni=new Fi;function Ei(t,e){var i=e.browser,n=t.match(/Firefox\/([\d.]+)/),a=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),r=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(i.firefox=!0,i.version=n[1]),a&&(i.ie=!0,i.version=a[1]),r&&(i.edge=!0,i.version=r[1],i.newEdge=+r[1].split(".")[0]>18),o&&(i.weChat=!0),e.canvasSupported=!!document.createElement("canvas").getContext,e.svgSupported="undefined"!==typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!i.ie&&!i.edge,e.pointerEventsSupported="onpointerdown"in window&&(i.edge||i.ie&&+i.version>=11),e.domSupported="undefined"!==typeof document;var s=document.documentElement.style;e.transform3dSupported=(i.ie&&"transition"in s||i.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||i.ie&&+i.version>=9}"object"===typeof wx&&"function"===typeof wx.getSystemInfoSync?(Ni.wxa=!0,Ni.canvasSupported=!0,Ni.touchEventsSupported=!0):"undefined"===typeof document&&"undefined"!==typeof self?(Ni.worker=!0,Ni.canvasSupported=!0):"undefined"===typeof navigator?(Ni.node=!0,Ni.canvasSupported=!0,Ni.svgSupported=!0):Ei(navigator.userAgent,Ni);var Bi=Ni,Vi={"[object Function]":!0,"[object RegExp]":!0,"[object Date]":!0,"[object Error]":!0,"[object CanvasGradient]":!0,"[object CanvasPattern]":!0,"[object Image]":!0,"[object Canvas]":!0},Gi={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0},Wi=Object.prototype.toString,Hi=Array.prototype,ji=Hi.forEach,$i=Hi.filter,Ui=Hi.slice,qi=Hi.map,Xi=function(){}.constructor,Yi=Xi?Xi.prototype:null,Zi={};var Ki=2311;function Qi(){return Ki++}function Ji(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!==typeof console&&console.error.apply(console,t)}function tn(t){if(null==t||"object"!==typeof t)return t;var e=t,i=Wi.call(t);if("[object Array]"===i){if(!Bn(t)){e=[];for(var n=0,a=t.length;n<a;n++)e[n]=tn(t[n])}}else if(Gi[i]){if(!Bn(t)){var r=t.constructor;if(r.from)e=r.from(t);else{e=new r(t.length);for(n=0,a=t.length;n<a;n++)e[n]=tn(t[n])}}}else if(!Vi[i]&&!Bn(t)&&!kn(t))for(var o in e={},t)t.hasOwnProperty(o)&&(e[o]=tn(t[o]));return e}function en(t,e,i){if(!wn(e)||!wn(t))return i?tn(e):t;for(var n in e)if(e.hasOwnProperty(n)){var a=t[n],r=e[n];!wn(r)||!wn(a)||vn(r)||vn(a)||kn(r)||kn(a)||Cn(r)||Cn(a)||Bn(r)||Bn(a)?!i&&n in t||(t[n]=tn(e[n])):en(a,r,i)}return t}function nn(t,e){if(Object.assign)Object.assign(t,e);else for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function an(t,e,i){for(var n=fn(e),a=0;a<n.length;a++){var r=n[a];(i?null!=e[r]:null==t[r])&&(t[r]=e[r])}return t}var rn=function(){return Zi.createCanvas()};function on(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function sn(t,e){var i=t.prototype;function n(){}for(var a in n.prototype=e.prototype,t.prototype=new n,i)i.hasOwnProperty(a)&&(t.prototype[a]=i[a]);t.prototype.constructor=t,t.superClass=e}function ln(t,e,i){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(e),a=0;a<n.length;a++){var r=n[a];"constructor"!==r&&(i?null!=e[r]:null==t[r])&&(t[r]=e[r])}else an(t,e,i)}function un(t){return!!t&&("string"!==typeof t&&"number"===typeof t.length)}function cn(t,e,i){if(t&&e)if(t.forEach&&t.forEach===ji)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,a=t.length;n<a;n++)e.call(i,t[n],n,t);else for(var r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)}function hn(t,e,i){if(!t)return[];if(!e)return Rn(t);if(t.map&&t.map===qi)return t.map(e,i);for(var n=[],a=0,r=t.length;a<r;a++)n.push(e.call(i,t[a],a,t));return n}function pn(t,e,i,n){if(t&&e){for(var a=0,r=t.length;a<r;a++)i=e.call(n,i,t[a],a,t);return i}}function dn(t,e,i){if(!t)return[];if(!e)return Rn(t);if(t.filter&&t.filter===$i)return t.filter(e,i);for(var n=[],a=0,r=t.length;a<r;a++)e.call(i,t[a],a,t)&&n.push(t[a]);return n}function fn(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}function gn(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return function(){return t.apply(e,i.concat(Ui.call(arguments)))}}Zi.createCanvas=function(){return document.createElement("canvas")};var mn=Yi&&_n(Yi.bind)?Yi.call.bind(Yi.bind):gn;function yn(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return function(){return t.apply(this,e.concat(Ui.call(arguments)))}}function vn(t){return Array.isArray?Array.isArray(t):"[object Array]"===Wi.call(t)}function _n(t){return"function"===typeof t}function xn(t){return"string"===typeof t}function bn(t){return"[object String]"===Wi.call(t)}function Sn(t){return"number"===typeof t}function wn(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function Cn(t){return!!Vi[Wi.call(t)]}function Tn(t){return!!Gi[Wi.call(t)]}function kn(t){return"object"===typeof t&&"number"===typeof t.nodeType&&"object"===typeof t.ownerDocument}function In(t){return null!=t.colorStops}function zn(t){return null!=t.image}function Mn(t){return t!==t}function Pn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0,n=t.length;i<n;i++)if(null!=t[i])return t[i]}function Ln(t,e){return null!=t?t:e}function Dn(t,e,i){return null!=t?t:null!=e?e:i}function Rn(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return Ui.apply(t,e)}function An(t){if("number"===typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function On(t,e){if(!t)throw new Error(e)}function Fn(t){return null==t?null:"function"===typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Nn="__ec_primitive__";function En(t){t[Nn]=!0}function Bn(t){return t[Nn]}var Vn=function(){function t(e){this.data={};var i=vn(e);this.data={};var n=this;function a(t,e){i?n.set(t,e):n.set(e,t)}e instanceof t?e.each(a):e&&cn(e,a)}return t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},t.prototype.set=function(t,e){return this.data[t]=e},t.prototype.each=function(t,e){for(var i in this.data)this.data.hasOwnProperty(i)&&t.call(e,this.data[i],i)},t.prototype.keys=function(){return fn(this.data)},t.prototype.removeKey=function(t){delete this.data[t]},t}();function Gn(t){return new Vn(t)}function Wn(t,e){var i;if(Object.create)i=Object.create(t);else{var n=function(){};n.prototype=t,i=new n}return e&&nn(i,e),i}function Hn(t,e){return t.hasOwnProperty(e)}function jn(){}function $n(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function Un(t){return[t[0],t[1]]}function qn(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function Xn(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function Yn(t){return Math.sqrt(Zn(t))}function Zn(t){return t[0]*t[0]+t[1]*t[1]}function Kn(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function Qn(t,e){var i=Yn(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t}function Jn(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var ta=Jn;function ea(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var ia=ea;function na(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t}function aa(t,e,i){var n=e[0],a=e[1];return t[0]=i[0]*n+i[2]*a+i[4],t[1]=i[1]*n+i[3]*a+i[5],t}function ra(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function oa(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}var sa=function(){function t(t,e){this.target=t,this.topTarget=e&&e.topTarget}return t}(),la=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){var e=t.target;while(e&&!e.draggable)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new sa(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,a=i-this._x,r=n-this._y;this._x=i,this._y=n,e.drift(a,r,t),this.handler.dispatchToElement(new sa(e,t),"drag",t.event);var o=this.handler.findHover(i,n,e).target,s=this._dropTarget;this._dropTarget=o,e!==o&&(s&&o!==s&&this.handler.dispatchToElement(new sa(s,t),"dragleave",t.event),o&&o!==s&&this.handler.dispatchToElement(new sa(o,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new sa(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new sa(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}(),ua=la,ca=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,i,n){this._$handlers||(this._$handlers={});var a=this._$handlers;if("function"===typeof e&&(n=i,i=e,e=null),!i||!t)return this;var r=this._$eventProcessor;null!=e&&r&&r.normalizeQuery&&(e=r.normalizeQuery(e)),a[t]||(a[t]=[]);for(var o=0;o<a[t].length;o++)if(a[t][o].h===i)return this;var s={h:i,query:e,ctx:n||this,callAtLast:i.zrEventfulCallAtLast},l=a[t].length-1,u=a[t][l];return u&&u.callAtLast?a[t].splice(l,0,s):a[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var i=this._$handlers;if(!i)return this;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],a=0,r=i[t].length;a<r;a++)i[t][a].h!==e&&n.push(i[t][a]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},t.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!this._$handlers)return this;var n=this._$handlers[t],a=this._$eventProcessor;if(n)for(var r=e.length,o=n.length,s=0;s<o;s++){var l=n[s];if(!a||!a.filter||null==l.query||a.filter(t,l.query))switch(r){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){if(!this._$handlers)return this;var e=this._$handlers[t],i=this._$eventProcessor;if(e)for(var n=arguments,a=n.length,r=n[a-1],o=e.length,s=0;s<o;s++){var l=e[s];if(!i||!i.filter||null==l.query||i.filter(t,l.query))switch(a){case 0:l.h.call(r);break;case 1:l.h.call(r,n[0]);break;case 2:l.h.call(r,n[0],n[1]);break;default:l.h.apply(r,n.slice(1,a-1));break}}return i&&i.afterTrigger&&i.afterTrigger(t),this},t}(),ha=ca,pa=Math.log(2);function da(t,e,i,n,a,r){var o=n+"-"+a,s=t.length;if(r.hasOwnProperty(o))return r[o];if(1===e){var l=Math.round(Math.log((1<<s)-1&~a)/pa);return t[i][l]}var u=n|1<<i,c=i+1;while(n&1<<c)c++;for(var h=0,p=0,d=0;p<s;p++){var f=1<<p;f&a||(h+=(d%2?-1:1)*t[i][p]*da(t,e-1,c,u,a|f,r),d++)}return r[o]=h,h}function fa(t,e){var i=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},a=da(i,8,0,0,0,n);if(0!==a){for(var r=[],o=0;o<8;o++)for(var s=0;s<8;s++)null==r[s]&&(r[s]=0),r[s]+=((o+s)%2?-1:1)*da(i,7,0===o?1:0,1<<o,1<<s,n)/a*e[o];return function(t,e,i){var n=e*r[6]+i*r[7]+1;t[0]=(e*r[0]+i*r[1]+r[2])/n,t[1]=(e*r[3]+i*r[4]+r[5])/n}}}var ga="___zrEVENTSAVED",ma=[];function ya(t,e,i,n,a){return va(ma,e,n,a,!0)&&va(t,i,ma[0],ma[1])}function va(t,e,i,n,a){if(e.getBoundingClientRect&&Bi.domSupported&&!ba(e)){var r=e[ga]||(e[ga]={}),o=_a(e,r),s=xa(o,r,a);if(s)return s(t,i,n),!0}return!1}function _a(t,e){var i=e.markers;if(i)return i;i=e.markers=[];for(var n=["left","right"],a=["top","bottom"],r=0;r<4;r++){var o=document.createElement("div"),s=o.style,l=r%2,u=(r>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",a[u]+":0",n[1-l]+":auto",a[1-u]+":auto",""].join("!important;"),t.appendChild(o),i.push(o)}return i}function xa(t,e,i){for(var n=i?"invTrans":"trans",a=e[n],r=e.srcCoords,o=[],s=[],l=!0,u=0;u<4;u++){var c=t[u].getBoundingClientRect(),h=2*u,p=c.left,d=c.top;o.push(p,d),l=l&&r&&p===r[h]&&d===r[h+1],s.push(t[u].offsetLeft,t[u].offsetTop)}return l&&a?a:(e.srcCoords=o,e[n]=i?fa(s,o):fa(o,s))}function ba(t){return"CANVAS"===t.nodeName.toUpperCase()}var Sa="undefined"!==typeof window&&!!window.addEventListener,wa=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ca=[];function Ta(t,e,i,n){return i=i||{},n||!Bi.canvasSupported?ka(t,e,i):Bi.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):ka(t,e,i),i}function ka(t,e,i){if(Bi.domSupported&&t.getBoundingClientRect){var n=e.clientX,a=e.clientY;if(ba(t)){var r=t.getBoundingClientRect();return i.zrX=n-r.left,void(i.zrY=a-r.top)}if(va(Ca,t,n,a))return i.zrX=Ca[0],void(i.zrY=Ca[1])}i.zrX=i.zrY=0}function Ia(t){return t||window.event}function za(t,e,i){if(e=Ia(e),null!=e.zrX)return e;var n=e.type,a=n&&n.indexOf("touch")>=0;if(a){var r="touchend"!==n?e.targetTouches[0]:e.changedTouches[0];r&&Ta(t,r,e,i)}else{Ta(t,e,e,i);var o=Ma(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var s=e.button;return null==e.which&&void 0!==s&&wa.test(e.type)&&(e.which=1&s?1:2&s?3:4&s?2:0),e}function Ma(t){var e=t.wheelDelta;if(e)return e;var i=t.deltaX,n=t.deltaY;if(null==i||null==n)return e;var a=0!==n?Math.abs(n):Math.abs(i),r=n>0?-1:n<0?1:i>0?-1:1;return 3*a*r}function Pa(t,e,i,n){Sa?t.addEventListener(e,i,n):t.attachEvent("on"+e,i)}function La(t,e,i,n){Sa?t.removeEventListener(e,i,n):t.detachEvent("on"+e,i)}var Da=Sa?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};var Ra=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,i){var n=t.touches;if(n){for(var a={points:[],touches:[],target:e,event:t},r=0,o=n.length;r<o;r++){var s=n[r],l=Ta(i,s,{});a.points.push([l.zrX,l.zrY]),a.touches.push(s)}this._track.push(a)}},t.prototype._recognize=function(t){for(var e in Fa)if(Fa.hasOwnProperty(e)){var i=Fa[e](this._track,t);if(i)return i}},t}();function Aa(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function Oa(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var Fa={pinch:function(t,e){var i=t.length;if(i){var n=(t[i-1]||{}).points,a=(t[i-2]||{}).points||n;if(a&&a.length>1&&n&&n.length>1){var r=Aa(n)/Aa(a);!isFinite(r)&&(r=1),e.pinchScale=r;var o=Oa(n);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}},Na="silent";function Ea(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:Ba}}function Ba(){Da(this.event)}var Va=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return Ri(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(ha),Ga=function(){function t(t,e){this.x=t,this.y=e}return t}(),Wa=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Ha=function(t){function e(e,i,n,a){var r=t.call(this)||this;return r._hovered=new Ga(0,0),r.storage=e,r.painter=i,r.painterRoot=a,n=n||new Va,r.proxy=null,r.setHandlerProxy(n),r._draggingMgr=new ua(r),r}return Ri(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(cn(Wa,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,i=t.zrY,n=$a(this,e,i),a=this._hovered,r=a.target;r&&!r.__zr&&(a=this.findHover(a.x,a.y),r=a.target);var o=this._hovered=n?new Ga(e,i):this.findHover(e,i),s=o.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),r&&s!==r&&this.dispatchToElement(a,"mouseout",t),this.dispatchToElement(o,"mousemove",t),s&&s!==r&&this.dispatchToElement(o,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new Ga(0,0)},e.prototype.dispatch=function(t,e){var i=this[t];i&&i.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,i){t=t||{};var n=t.target;if(!n||!n.silent){var a="on"+e,r=Ea(e,t,i);while(n)if(n[a]&&(r.cancelBubble=!!n[a].call(n,r)),n.trigger(e,r),n=n.__hostTarget?n.__hostTarget:n.parent,r.cancelBubble)break;r.cancelBubble||(this.trigger(e,r),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"===typeof t[a]&&t[a].call(t,r),t.trigger&&t.trigger(e,r)})))}},e.prototype.findHover=function(t,e,i){for(var n=this.storage.getDisplayList(),a=new Ga(t,e),r=n.length-1;r>=0;r--){var o=void 0;if(n[r]!==i&&!n[r].ignore&&(o=ja(n[r],t,e))&&(!a.topTarget&&(a.topTarget=n[r]),o!==Na)){a.target=n[r];break}}return a},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new Ra);var i=this._gestureMgr;"start"===e&&i.clear();var n=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&i.clear(),n){var a=n.type;t.gestureEvent=a;var r=new Ga;r.target=n.target,this.dispatchToElement(r,a,n.event)}},e}(ha);function ja(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){var n=t,a=void 0,r=!1;while(n){if(n.ignoreClip&&(r=!0),!r){var o=n.getClipPath();if(o&&!o.contain(e,i))return!1;n.silent&&(a=!0)}var s=n.__hostTarget;n=s||n.parent}return!a||Na}return!1}function $a(t,e,i){var n=t.painter;return e<0||e>n.getWidth()||i<0||i>n.getHeight()}cn(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){Ha.prototype[t]=function(e){var i,n,a=e.zrX,r=e.zrY,o=$a(this,a,r);if("mouseup"===t&&o||(i=this.findHover(a,r),n=i.target),"mousedown"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if("mouseup"===t)this._upEl=n;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||ta(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}}));var Ua=Ha;function qa(){return[1,0,0,1,0,0]}function Xa(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Ya(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Za(t,e,i){var n=e[0]*i[0]+e[2]*i[1],a=e[1]*i[0]+e[3]*i[1],r=e[0]*i[2]+e[2]*i[3],o=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=a,t[2]=r,t[3]=o,t[4]=s,t[5]=l,t}function Ka(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}function Qa(t,e,i){var n=e[0],a=e[2],r=e[4],o=e[1],s=e[3],l=e[5],u=Math.sin(i),c=Math.cos(i);return t[0]=n*c+o*u,t[1]=-n*u+o*c,t[2]=a*c+s*u,t[3]=-a*u+c*s,t[4]=c*r+u*l,t[5]=c*l-u*r,t}function Ja(t,e,i){var n=i[0],a=i[1];return t[0]=e[0]*n,t[1]=e[1]*a,t[2]=e[2]*n,t[3]=e[3]*a,t[4]=e[4]*n,t[5]=e[5]*a,t}function tr(t,e){var i=e[0],n=e[2],a=e[4],r=e[1],o=e[3],s=e[5],l=i*o-r*n;return l?(l=1/l,t[0]=o*l,t[1]=-r*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-o*a)*l,t[5]=(r*a-i*s)*l,t):null}var er=Xa,ir=5e-5;function nr(t){return t>ir||t<-ir}var ar=[],rr=[],or=qa(),sr=Math.abs,lr=function(){function t(){}return t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return nr(this.rotation)||nr(this.x)||nr(this.y)||nr(this.scaleX-1)||nr(this.scaleY-1)},t.prototype.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;i||e?(n=n||qa(),i?this.getLocalTransform(n):er(n),e&&(i?Za(n,t.transform,n):Ya(n,t.transform)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&er(n)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(ar);var i=ar[0]<0?-1:1,n=ar[1]<0?-1:1,a=((ar[0]-i)*e+i)/ar[0]||0,r=((ar[1]-n)*e+n)/ar[1]||0;t[0]*=a,t[1]*=a,t[2]*=r,t[3]*=r}this.invTransform=this.invTransform||qa(),tr(this.invTransform,t)},t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.getComputedTransform=function(){var t=this,e=[];while(t)e.push(t),t=t.parent;while(t=e.pop())t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3];nr(e-1)&&(e=Math.sqrt(e)),nr(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(e=-e),t[3]<0&&(i=-i),this.rotation=Math.atan2(-t[1]/i,t[0]/e),e<0&&i<0&&(this.rotation+=Math.PI,e=-e,i=-i),this.x=t[4],this.y=t[5],this.scaleX=e,this.scaleY=i}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Za(rr,t.invTransform,e),e=rr);var i=this.originX,n=this.originY;(i||n)&&(or[4]=i,or[5]=n,Za(rr,e,or),rr[4]-=i,rr[5]-=n,e=rr),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&aa(i,i,n),i},t.prototype.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&aa(i,i,n),i},t.prototype.getLineScale=function(){var t=this.transform;return t&&sr(t[0]-1)>1e-10&&sr(t[3]-1)>1e-10?Math.sqrt(sr(t[0]*t[3]-t[2]*t[1])):1},t.getLocalTransform=function(t,e){e=e||[],er(e);var i=t.originX||0,n=t.originY||0,a=t.scaleX,r=t.scaleY,o=t.rotation||0,s=t.x,l=t.y;return e[4]-=i,e[5]-=n,e[0]*=a,e[1]*=r,e[2]*=a,e[3]*=r,e[4]*=a,e[5]*=r,o&&Qa(e,e,o),e[4]+=i,e[5]+=n,e[4]+=s,e[5]+=l,e},t.initDefaultProps=function(){var e=t.prototype;e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.originX=0,e.originY=0,e.rotation=0,e.globalScaleRatio=1}(),t}(),ur=lr,cr={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},elasticOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},elasticInOut:function(t){var e,i=.1,n=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=n/4):e=n*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-cr.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*cr.bounceIn(2*t):.5*cr.bounceOut(2*t-1)+.5}},hr=cr,pr=function(){function t(t){this._initialized=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart}return t.prototype.step=function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),!this._paused){var i=(t-this._startTime-this._pausedTime)/this._life;i<0&&(i=0),i=Math.min(i,1);var n=this.easing,a="string"===typeof n?hr[n]:n,r="function"===typeof a?a(i):i;if(this.onframe&&this.onframe(r),1===i){if(!this.loop)return!0;this._restart(t),this.onrestart&&this.onrestart()}return!1}this._pausedTime+=e},t.prototype._restart=function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t}(),dr=pr,fr=function(){function t(t){this.value=t}return t}(),gr=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new fr(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),mr=function(){function t(t){this._list=new gr,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var i=this._list,n=this._map,a=null;if(null==n[t]){var r=i.len(),o=this._lastRemovedEntry;if(r>=this._maxSize&&r>0){var s=i.head;i.remove(s),delete n[s.key],a=s.value,this._lastRemovedEntry=s}o?o.value=e:o=new fr(e),o.key=t,i.insertEntry(o),n[t]=o}return a},t.prototype.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),yr=mr,vr={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function _r(t){return t=Math.round(t),t<0?0:t>255?255:t}function xr(t){return t<0?0:t>1?1:t}function br(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?_r(parseFloat(e)/100*255):_r(parseInt(e,10))}function Sr(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?xr(parseFloat(e)/100):xr(parseFloat(e))}function wr(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function Cr(t,e,i,n,a){return t[0]=e,t[1]=i,t[2]=n,t[3]=a,t}function Tr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var kr=new yr(20),Ir=null;function zr(t,e){Ir&&Tr(Ir,e),Ir=kr.put(t,Ir||e.slice())}function Mr(t,e){if(t){e=e||[];var i=kr.get(t);if(i)return Tr(e,i);t+="";var n=t.replace(/ /g,"").toLowerCase();if(n in vr)return Tr(e,vr[n]),zr(t,e),e;var a=n.length;if("#"!==n.charAt(0)){var r=n.indexOf("("),o=n.indexOf(")");if(-1!==r&&o+1===a){var s=n.substr(0,r),l=n.substr(r+1,o-(r+1)).split(","),u=1;switch(s){case"rgba":if(4!==l.length)return 3===l.length?Cr(e,+l[0],+l[1],+l[2],1):Cr(e,0,0,0,1);u=Sr(l.pop());case"rgb":return 3!==l.length?void Cr(e,0,0,0,1):(Cr(e,br(l[0]),br(l[1]),br(l[2]),u),zr(t,e),e);case"hsla":return 4!==l.length?void Cr(e,0,0,0,1):(l[3]=Sr(l[3]),Pr(l,e),zr(t,e),e);case"hsl":return 3!==l.length?void Cr(e,0,0,0,1):(Pr(l,e),zr(t,e),e);default:return}}Cr(e,0,0,0,1)}else{if(4===a||5===a){var c=parseInt(n.slice(1,4),16);return c>=0&&c<=4095?(Cr(e,(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,5===a?parseInt(n.slice(4),16)/15:1),zr(t,e),e):void Cr(e,0,0,0,1)}if(7===a||9===a){c=parseInt(n.slice(1,7),16);return c>=0&&c<=16777215?(Cr(e,(16711680&c)>>16,(65280&c)>>8,255&c,9===a?parseInt(n.slice(7),16)/255:1),zr(t,e),e):void Cr(e,0,0,0,1)}}}}function Pr(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=Sr(t[1]),a=Sr(t[2]),r=a<=.5?a*(n+1):a+n-a*n,o=2*a-r;return e=e||[],Cr(e,_r(255*wr(o,r,i+1/3)),_r(255*wr(o,r,i)),_r(255*wr(o,r,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Lr(t,e){var i=Mr(t);if(i){for(var n=0;n<3;n++)i[n]=e<0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0,i[n]>255?i[n]=255:i[n]<0&&(i[n]=0);return Rr(i,4===i.length?"rgba":"rgb")}}function Dr(t){var e=Mr(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Rr(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}function Ar(t,e){var i=Mr(t);return i?(.299*i[0]+.587*i[1]+.114*i[2])*i[3]/255+(1-i[3])*e:0}var Or=Array.prototype.slice;function Fr(t,e,i){return(e-t)*i+t}function Nr(t,e,i){return i>.5?e:t}function Er(t,e,i,n){for(var a=e.length,r=0;r<a;r++)t[r]=Fr(e[r],i[r],n)}function Br(t,e,i,n){for(var a=e.length,r=a&&e[0].length,o=0;o<a;o++){t[o]||(t[o]=[]);for(var s=0;s<r;s++)t[o][s]=Fr(e[o][s],i[o][s],n)}}function Vr(t,e,i,n){for(var a=e.length,r=0;r<a;r++)t[r]=e[r]+i[r]*n;return t}function Gr(t,e,i,n){for(var a=e.length,r=a&&e[0].length,o=0;o<a;o++){t[o]||(t[o]=[]);for(var s=0;s<r;s++)t[o][s]=e[o][s]+i[o][s]*n}return t}function Wr(t,e,i){var n=t,a=e;if(n.push&&a.push){var r=n.length,o=a.length;if(r!==o){var s=r>o;if(s)n.length=o;else for(var l=r;l<o;l++)n.push(1===i?a[l]:Or.call(a[l]))}var u=n[0]&&n[0].length;for(l=0;l<n.length;l++)if(1===i)isNaN(n[l])&&(n[l]=a[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=a[l][c])}}function Hr(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function jr(t,e,i,n,a,r,o){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*o+(-3*(e-i)-2*s-l)*r+s*a+e}function $r(t,e,i,n,a,r,o,s){for(var l=e.length,u=0;u<l;u++)t[u]=jr(e[u],i[u],n[u],a[u],r,o,s)}function Ur(t,e,i,n,a,r,o,s){for(var l=e.length,u=e[0].length,c=0;c<l;c++){t[c]||(t[1]=[]);for(var h=0;h<u;h++)t[c][h]=jr(e[c][h],i[c][h],n[c][h],a[c][h],r,o,s)}}function qr(t){if(un(t)){var e=t.length;if(un(t[0])){for(var i=[],n=0;n<e;n++)i.push(Or.call(t[n]));return i}return Or.call(t)}return t}function Xr(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function Yr(t){return un(t&&t[0])?2:1}var Zr,Kr,Qr=[0,0,0,0],Jr=function(){function t(t){this.keyframes=[],this.maxTime=0,this.arrDim=0,this.interpolable=!0,this._needsSort=!1,this._isAllValueEqual=!0,this._lastFrame=0,this._lastFramePercent=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return!this._isAllValueEqual&&this.keyframes.length>=2&&this.interpolable},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e){t>=this.maxTime?this.maxTime=t:this._needsSort=!0;var i=this.keyframes,n=i.length;if(this.interpolable)if(un(e)){var a=Yr(e);if(n>0&&this.arrDim!==a)return void(this.interpolable=!1);if(1===a&&"number"!==typeof e[0]||2===a&&"number"!==typeof e[0][0])return void(this.interpolable=!1);if(n>0){var r=i[n-1];this._isAllValueEqual&&(1===a&&Hr(e,r.value)||(this._isAllValueEqual=!1))}this.arrDim=a}else{if(this.arrDim>0)return void(this.interpolable=!1);if("string"===typeof e){var o=Mr(e);o?(e=o,this.isValueColor=!0):this.interpolable=!1}else if("number"!==typeof e||isNaN(e))return void(this.interpolable=!1);if(this._isAllValueEqual&&n>0){r=i[n-1];(this.isValueColor&&!Hr(r.value,e)||r.value!==e)&&(this._isAllValueEqual=!1)}}var s={time:t,value:e,percent:0};return this.keyframes.push(s),s},t.prototype.prepare=function(t){var e=this.keyframes;this._needsSort&&e.sort((function(t,e){return t.time-e.time}));for(var i=this.arrDim,n=e.length,a=e[n-1],r=0;r<n;r++)e[r].percent=e[r].time/this.maxTime,i>0&&r!==n-1&&Wr(e[r].value,a.value,i);if(t&&this.needsAnimate()&&t.needsAnimate()&&i===t.arrDim&&this.isValueColor===t.isValueColor&&!t._finished){this._additiveTrack=t;var o=e[0].value;for(r=0;r<n;r++)0===i?this.isValueColor?e[r].additiveValue=Vr([],e[r].value,o,-1):e[r].additiveValue=e[r].value-o:1===i?e[r].additiveValue=Vr([],e[r].value,o,-1):2===i&&(e[r].additiveValue=Gr([],e[r].value,o,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i,n=null!=this._additiveTrack,a=n?"additiveValue":"value",r=this.keyframes,o=this.keyframes.length,s=this.propName,l=this.arrDim,u=this.isValueColor;if(e<0)i=0;else if(e<this._lastFramePercent){var c=Math.min(this._lastFrame+1,o-1);for(i=c;i>=0;i--)if(r[i].percent<=e)break;i=Math.min(i,o-2)}else{for(i=this._lastFrame;i<o;i++)if(r[i].percent>e)break;i=Math.min(i-1,o-2)}var h=r[i+1],p=r[i];if(p&&h){this._lastFrame=i,this._lastFramePercent=e;var d=h.percent-p.percent;if(0!==d){var f=(e-p.percent)/d,g=n?this._additiveValue:u?Qr:t[s];if((l>0||u)&&!g&&(g=this._additiveValue=[]),this.useSpline){var m=r[i][a],y=r[0===i?i:i-1][a],v=r[i>o-2?o-1:i+1][a],_=r[i>o-3?o-1:i+2][a];if(l>0)1===l?$r(g,y,m,v,_,f,f*f,f*f*f):Ur(g,y,m,v,_,f,f*f,f*f*f);else if(u)$r(g,y,m,v,_,f,f*f,f*f*f),n||(t[s]=Xr(g));else{var x=void 0;x=this.interpolable?jr(y,m,v,_,f,f*f,f*f*f):v,n?this._additiveValue=x:t[s]=x}}else if(l>0)1===l?Er(g,p[a],h[a],f):Br(g,p[a],h[a],f);else if(u)Er(g,p[a],h[a],f),n||(t[s]=Xr(g));else{x=void 0;x=this.interpolable?Fr(p[a],h[a],f):Nr(p[a],h[a],f),n?this._additiveValue=x:t[s]=x}n&&this._addToTarget(t)}}}},t.prototype._addToTarget=function(t){var e=this.arrDim,i=this.propName,n=this._additiveValue;0===e?this.isValueColor?(Mr(t[i],Qr),Vr(Qr,Qr,n,1),t[i]=Xr(Qr)):t[i]=t[i]+n:1===e?Vr(t[i],t[i],n,1):2===e&&Gr(t[i],t[i],n,1)},t}(),to=function(){function t(t,e,i){this._tracks={},this._trackKeys=[],this._delay=0,this._maxTime=0,this._paused=!1,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?Ji("Can' use additive animation on looped animation."):this._additiveAnimators=i}return t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e){return this.whenWithKeys(t,e,fn(e))},t.prototype.whenWithKeys=function(t,e,i){for(var n=this._tracks,a=0;a<i.length;a++){var r=i[a],o=n[r];if(!o){o=n[r]=new Jr(r);var s=void 0,l=this._getAdditiveTrack(r);if(l){var u=l.keyframes[l.keyframes.length-1];s=u&&u.value,l.isValueColor&&s&&(s=Xr(s))}else s=this._target[r];if(null==s)continue;0!==t&&o.addKeyframe(0,qr(s)),this._trackKeys.push(r)}o.addKeyframe(t,qr(e[r]))}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneList;if(t)for(var e=t.length,i=0;i<e;i++)t[i].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedList;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var i=0;i<e.length;i++)e[i].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,i=0;i<e.length;i++)t[e[i]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,i=this._additiveAnimators;if(i)for(var n=0;n<i.length;n++){var a=i[n].getTrack(t);a&&(e=a)}return e},t.prototype.start=function(t,e){if(!(this._started>0)){this._started=1;for(var i=this,n=[],a=0;a<this._trackKeys.length;a++){var r=this._trackKeys[a],o=this._tracks[r],s=this._getAdditiveTrack(r),l=o.keyframes;if(o.prepare(s),o.needsAnimate())n.push(o);else if(!o.interpolable){var u=l[l.length-1];u&&(i._target[o.propName]=u.value)}}if(n.length||e){var c=new dr({life:this._maxTime,loop:this._loop,delay:this._delay,onframe:function(t){i._started=2;var e=i._additiveAnimators;if(e){for(var a=!1,r=0;r<e.length;r++)if(e[r]._clip){a=!0;break}a||(i._additiveAnimators=null)}for(r=0;r<n.length;r++)n[r].step(i._target,t);var o=i._onframeList;if(o)for(r=0;r<o.length;r++)o[r](i._target,t)},ondestroy:function(){i._doneCallback()}});this._clip=c,this.animation&&this.animation.addClip(c),t&&"spline"!==t&&(c.easing=t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeList||(this._onframeList=[]),this._onframeList.push(t)),this},t.prototype.done=function(t){return t&&(this._doneList||(this._doneList=[]),this._doneList.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedList||(this._abortedList=[]),this._abortedList.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var i=this._tracks,n=this._trackKeys,a=0;a<t.length;a++){var r=i[t[a]];r&&(e?r.step(this._target,1):1===this._started&&r.step(this._target,0),r.setFinished())}var o=!0;for(a=0;a<n.length;a++)if(!i[n[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},t.prototype.saveFinalToTarget=function(t,e){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var n=e[i],a=this._tracks[n];if(a&&!a.isFinished()){var r=a.keyframes,o=r[r.length-1];if(o){var s=qr(o.value);a.isValueColor&&(s=Xr(s)),t[n]=s}}}}},t.prototype.__changeFinalValue=function(t,e){e=e||fn(t);for(var i=0;i<e.length;i++){var n=e[i],a=this._tracks[n];if(a){var r=a.keyframes;if(r.length>1){var o=r.pop();a.addKeyframe(o.time,t[n]),a.prepare(a.getAdditiveTrack())}}}},t}(),eo=to,io=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,i=this.y;return this.x=t[0]*e+t[2]*i+t[4],this.y=t[1]*e+t[3]*i+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,i){t.x=e,t.y=i},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,i){t.x=e.x+i.x,t.y=e.y+i.y},t.sub=function(t,e,i){t.x=e.x-i.x,t.y=e.y-i.y},t.scale=function(t,e,i){t.x=e.x*i,t.y=e.y*i},t.scaleAndAdd=function(t,e,i,n){t.x=e.x+i.x*n,t.y=e.y+i.y*n},t.lerp=function(t,e,i,n){var a=1-n;t.x=a*e.x+n*i.x,t.y=a*e.y+n*i.y},t}(),no=io,ao=Math.min,ro=Math.max,oo=new no,so=new no,lo=new no,uo=new no,co=new no,ho=new no,po=function(){function t(t,e,i,n){i<0&&isFinite(i)&&(t+=i,i=-i),n<0&&isFinite(n)&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}return t.prototype.union=function(t){var e=ao(t.x,this.x),i=ao(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=ro(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=ro(t.y+t.height,this.y+this.height)-i:this.height=t.height,this.x=e,this.y=i},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,i=t.width/e.width,n=t.height/e.height,a=qa();return Ka(a,a,[-e.x,-e.y]),Ja(a,a,[i,n]),Ka(a,a,[t.x,t.y]),a},t.prototype.intersect=function(e,i){if(!e)return!1;e instanceof t||(e=t.create(e));var n=this,a=n.x,r=n.x+n.width,o=n.y,s=n.y+n.height,l=e.x,u=e.x+e.width,c=e.y,h=e.y+e.height,p=!(r<l||u<a||s<c||h<o);if(i){var d=1/0,f=0,g=Math.abs(r-l),m=Math.abs(u-a),y=Math.abs(s-c),v=Math.abs(h-o),_=Math.min(g,m),x=Math.min(y,v);r<l||u<a?_>f&&(f=_,g<m?no.set(ho,-g,0):no.set(ho,m,0)):_<d&&(d=_,g<m?no.set(co,g,0):no.set(co,-m,0)),s<c||h<o?x>f&&(f=x,y<v?no.set(ho,0,-y):no.set(ho,0,v)):_<d&&(d=_,y<v?no.set(co,0,y):no.set(co,0,-v))}return i&&no.copy(i,p?co:ho),p},t.prototype.contain=function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,i,n){if(n){if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var a=n[0],r=n[3],o=n[4],s=n[5];return e.x=i.x*a+o,e.y=i.y*r+s,e.width=i.width*a,e.height=i.height*r,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}oo.x=lo.x=i.x,oo.y=uo.y=i.y,so.x=uo.x=i.x+i.width,so.y=lo.y=i.y+i.height,oo.transform(n),uo.transform(n),so.transform(n),lo.transform(n),e.x=ao(oo.x,so.x,lo.x,uo.x),e.y=ao(oo.y,so.y,lo.y,uo.y);var l=ro(oo.x,so.x,lo.x,uo.x),u=ro(oo.y,so.y,lo.y,uo.y);e.width=l-e.x,e.height=u-e.y}else e!==i&&t.copy(e,i)},t}(),fo=po,go={},mo="12px sans-serif";function yo(t,e){return Zr||(Zr=rn().getContext("2d")),Kr!==e&&(Kr=Zr.font=e||mo),Zr.measureText(t)}var vo={measureText:yo};function _o(t,e){e=e||mo;var i=go[e];i||(i=go[e]=new yr(500));var n=i.get(t);return null==n&&(n=vo.measureText(t,e).width,i.put(t,n)),n}function xo(t,e,i,n){var a=_o(t,e),r=Co(e),o=So(0,a,i),s=wo(0,r,n),l=new fo(o,s,a,r);return l}function bo(t,e,i,n){var a=((t||"")+"").split("\n"),r=a.length;if(1===r)return xo(a[0],e,i,n);for(var o=new fo(0,0,0,0),s=0;s<a.length;s++){var l=xo(a[s],e,i,n);0===s?o.copy(l):o.union(l)}return o}function So(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function wo(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function Co(t){return _o("国",t)}function To(t,e){return"string"===typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function ko(t,e,i){var n=e.position||"inside",a=null!=e.distance?e.distance:5,r=i.height,o=i.width,s=r/2,l=i.x,u=i.y,c="left",h="top";if(n instanceof Array)l+=To(n[0],i.width),u+=To(n[1],i.height),c=null,h=null;else switch(n){case"left":l-=a,u+=s,c="right",h="middle";break;case"right":l+=a+o,u+=s,h="middle";break;case"top":l+=o/2,u-=a,c="center",h="bottom";break;case"bottom":l+=o/2,u+=r+a,c="center";break;case"inside":l+=o/2,u+=s,c="center",h="middle";break;case"insideLeft":l+=a,u+=s,h="middle";break;case"insideRight":l+=o-a,u+=s,c="right",h="middle";break;case"insideTop":l+=o/2,u+=a,c="center";break;case"insideBottom":l+=o/2,u+=r-a,c="center",h="bottom";break;case"insideTopLeft":l+=a,u+=a;break;case"insideTopRight":l+=o-a,u+=a,c="right";break;case"insideBottomLeft":l+=a,u+=r-a,h="bottom";break;case"insideBottomRight":l+=o-a,u+=r-a,c="right",h="bottom";break}return t=t||{},t.x=l,t.y=u,t.align=c,t.verticalAlign=h,t}var Io=1;"undefined"!==typeof window&&(Io=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var zo=Io,Mo=.4,Po="#333",Lo="#ccc",Do="#eee",Ro="__zr_normal__",Ao=["x","y","scaleX","scaleY","originX","originY","rotation","ignore"],Oo={x:!0,y:!0,scaleX:!0,scaleY:!0,originX:!0,originY:!0,rotation:!0,ignore:!1},Fo={},No=new fo(0,0,0,0),Eo=function(){function t(t){this.id=Qi(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,i){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,n=i.local,a=e.attachedTransform,r=void 0,o=void 0,s=!1;a.parent=n?this:null;var l=!1;if(a.x=e.x,a.y=e.y,a.originX=e.originX,a.originY=e.originY,a.rotation=e.rotation,a.scaleX=e.scaleX,a.scaleY=e.scaleY,null!=i.position){var u=No;i.layoutRect?u.copy(i.layoutRect):u.copy(this.getBoundingRect()),n||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Fo,i,u):ko(Fo,i,u),a.x=Fo.x,a.y=Fo.y,r=Fo.align,o=Fo.verticalAlign;var c=i.origin;if(c&&null!=i.rotation){var h=void 0,p=void 0;"center"===c?(h=.5*u.width,p=.5*u.height):(h=To(c[0],u.width),p=To(c[1],u.height)),l=!0,a.originX=-a.x+h+(n?0:u.x),a.originY=-a.y+p+(n?0:u.y)}}null!=i.rotation&&(a.rotation=i.rotation);var d=i.offset;d&&(a.x+=d[0],a.y+=d[1],l||(a.originX=-d[0],a.originY=-d[1]));var f=null==i.inside?"string"===typeof i.position&&i.position.indexOf("inside")>=0:i.inside,g=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,y=void 0,v=void 0;f&&this.canBeInsideText()?(m=i.insideFill,y=i.insideStroke,null!=m&&"auto"!==m||(m=this.getInsideTextFill()),null!=y&&"auto"!==y||(y=this.getInsideTextStroke(m),v=!0)):(m=i.outsideFill,y=i.outsideStroke,null!=m&&"auto"!==m||(m=this.getOutsideFill()),null!=y&&"auto"!==y||(y=this.getOutsideStroke(m),v=!0)),m=m||"#000",m===g.fill&&y===g.stroke&&v===g.autoStroke&&r===g.align&&o===g.verticalAlign||(s=!0,g.fill=m,g.stroke=y,g.autoStroke=v,g.align=r,g.verticalAlign=o,e.setDefaultTextStyle(g)),s&&e.dirtyStyle(),e.markRedraw()}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?Lo:Po},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),i="string"===typeof e&&Mr(e);i||(i=[255,255,255,1]);for(var n=i[3],a=this.__zr.isDarkMode(),r=0;r<3;r++)i[r]=i[r]*n+(a?0:255)*(1-n);return i[3]=1,Rr(i,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},nn(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"===typeof t)this.attrKV(t,e);else if(wn(t))for(var i=t,n=fn(i),a=0;a<n.length;a++){var r=n[a];this.attrKV(r,t[r])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,i=0;i<this.animators.length;i++){var n=this.animators[i],a=n.__fromStateTransition;if(!a||a===Ro){var r=n.targetName,o=r?e[r]:e;n.saveFinalToTarget(o)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,Ao)},t.prototype._savePrimaryToNormal=function(t,e,i){for(var n=0;n<i.length;n++){var a=i[n];null==t[a]||a in e||(e[a]=this[a])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(Ro,!1,t)},t.prototype.useState=function(e,i,n){var a=e===Ro,r=this.hasState();if(r||!a){var o=this.currentStates,s=this.stateTransition;if(!(on(o,e)>=0)||!i&&1!==o.length){var l;if(this.stateProxy&&!a&&(l=this.stateProxy(e)),l||(l=this.states&&this.states[e]),l||a){a||this.saveCurrentToNormalState(l);var u=!(!l||!l.hoverLayer);return u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,l,this._normalState,i,!n&&!this.__inHover&&s&&s.duration>0,s),this._textContent&&this._textContent.useState(e,i),this._textGuide&&this._textGuide.useState(e,i),a?(this.currentStates=[],this._normalState={}):i?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~t.REDARAW_BIT),l}Ji("State "+e+" not exists.")}}},t.prototype.useStates=function(e,i){if(e.length){var n=[],a=this.currentStates,r=e.length,o=r===a.length;if(o)for(var s=0;s<r;s++)if(e[s]!==a[s]){o=!1;break}if(o)return;for(s=0;s<r;s++){var l=e[s],u=void 0;this.stateProxy&&(u=this.stateProxy(l,e)),u||(u=this.states[l]),u&&n.push(u)}var c=!(!n[r-1]||!n[r-1].hoverLayer);c&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(n),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(e.join(","),h,this._normalState,!1,!i&&!this.__inHover&&p&&p.duration>0,p),this._textContent&&this._textContent.useStates(e),this._textGuide&&this._textGuide.useStates(e),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~t.REDARAW_BIT)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=on(this.currentStates,t);if(e>=0){var i=this.currentStates.slice();i.splice(e,1),this.useStates(i)}},t.prototype.replaceState=function(t,e,i){var n=this.currentStates.slice(),a=on(n,t),r=on(n,e)>=0;a>=0?r?n.splice(a,1):n[a]=e:i&&!r&&n.push(e),this.useStates(n)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,i={},n=0;n<t.length;n++){var a=t[n];nn(i,a),a.textConfig&&(e=e||{},nn(e,a.textConfig))}return e&&(i.textConfig=e),i},t.prototype._applyStateObj=function(t,e,i,n,a,r){var o=!(e&&n);e&&e.textConfig?(this.textConfig=nn({},n?this.textConfig:i.textConfig),nn(this.textConfig,e.textConfig)):o&&i.textConfig&&(this.textConfig=i.textConfig);for(var s={},l=!1,u=0;u<Ao.length;u++){var c=Ao[u],h=a&&Oo[c];e&&null!=e[c]?h?(l=!0,s[c]=e[c]):this[c]=e[c]:o&&null!=i[c]&&(h?(l=!0,s[c]=i[c]):this[c]=i[c])}if(!a)for(u=0;u<this.animators.length;u++){var p=this.animators[u],d=p.targetName;p.__changeFinalValue(d?(e||i)[d]:e||i)}l&&this._transitionState(t,s,r)},t.prototype._attachComponent=function(t){if(t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");if(t===this)throw new Error("Recursive component attachment.");var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;if(e!==t){if(e&&e!==t&&this.removeTextContent(),t.__zr&&!t.__hostTarget)throw new Error("Text element has been added to zrender.");t.attachedTransform=new ur,this._attachComponent(t),this._textContent=t,this.markRedraw()}},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),nn(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.attachedTransform=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=t.REDARAW_BIT;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,i=this._textGuide;e&&(e.__inHover=t),i&&(i.__inHover=t)},t.prototype.addSelfToZr=function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)},t.prototype.removeSelfFromZr=function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)},t.prototype.animate=function(t,e){var i=t?this[t]:this;if(i){var n=new eo(i,e);return this.addAnimator(n,t),n}Ji('Property "'+t+'" is not existed in element '+this.id)},t.prototype.addAnimator=function(t,e){var i=this.__zr,n=this;t.during((function(){n.updateDuringAnimation(e)})).done((function(){var e=n.animators,i=on(e,t);i>=0&&e.splice(i,1)})),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var i=this.animators,n=i.length,a=[],r=0;r<n;r++){var o=i[r];t&&t!==o.scope?a.push(o):o.stop(e)}return this.animators=a,this},t.prototype.animateTo=function(t,e,i){Bo(this,t,e,i)},t.prototype.animateFrom=function(t,e,i){Bo(this,t,e,i,!0)},t.prototype._transitionState=function(t,e,i,n){for(var a=Bo(this,e,i,n),r=0;r<a.length;r++)a[r].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.REDARAW_BIT=1,t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=!1,e.silent=!1,e.isGroup=!1,e.draggable=!1,e.dragging=!1,e.ignoreClip=!1,e.__inHover=!1,e.__dirty=t.REDARAW_BIT;var i={};function n(t,e,n){i[t+e+n]||(console.warn("DEPRECATED: '"+t+"' has been deprecated. use '"+e+"', '"+n+"' instead"),i[t+e+n]=!0)}function a(t,i,a,r){function o(t,e){Object.defineProperty(e,0,{get:function(){return t[a]},set:function(e){t[a]=e}}),Object.defineProperty(e,1,{get:function(){return t[r]},set:function(e){t[r]=e}})}Object.defineProperty(e,t,{get:function(){if(n(t,a,r),!this[i]){var e=this[i]=[];o(this,e)}return this[i]},set:function(e){n(t,a,r),this[a]=e[0],this[r]=e[1],this[i]=e,o(this,e)}})}Object.defineProperty&&(!Bi.browser.ie||Bi.browser.version>8)&&(a("position","_legacyPos","x","y"),a("scale","_legacyScale","scaleX","scaleY"),a("origin","_legacyOrigin","originX","originY"))}(),t}();function Bo(t,e,i,n,a){i=i||{};var r=[];Ho(t,"",t,e,i,n,r,a);var o=r.length,s=!1,l=i.done,u=i.aborted,c=function(){s=!0,o--,o<=0&&(s?l&&l():u&&u())},h=function(){o--,o<=0&&(s?l&&l():u&&u())};o||l&&l(),r.length>0&&i.during&&r[0].during((function(t,e){i.during(e)}));for(var p=0;p<r.length;p++){var d=r[p];c&&d.done(c),h&&d.aborted(h),d.start(i.easing,i.force)}return r}function Vo(t,e,i){for(var n=0;n<i;n++)t[n]=e[n]}function Go(t){return un(t[0])}function Wo(t,e,i){if(un(e[i]))if(un(t[i])||(t[i]=[]),Tn(e[i])){var n=e[i].length;t[i].length!==n&&(t[i]=new e[i].constructor(n),Vo(t[i],e[i],n))}else{var a=e[i],r=t[i],o=a.length;if(Go(a))for(var s=a[0].length,l=0;l<o;l++)r[l]?Vo(r[l],a[l],s):r[l]=Array.prototype.slice.call(a[l]);else Vo(r,a,o);r.length=a.length}else t[i]=e[i]}function Ho(t,e,i,n,a,r,o,s){for(var l=[],u=[],c=fn(n),h=a.duration,p=a.delay,d=a.additive,f=a.setToFinal,g=!wn(r),m=0;m<c.length;m++){var y=c[m];if(null!=i[y]&&null!=n[y]&&(g||r[y]))if(wn(n[y])&&!un(n[y])){if(e){s||(i[y]=n[y],t.updateDuringAnimation(e));continue}Ho(t,y,i[y],n[y],a,r&&r[y],o,s)}else l.push(y),u.push(y);else s||(i[y]=n[y],t.updateDuringAnimation(e),u.push(y))}var v=l.length;if(v>0||a.force&&!o.length){for(var _=t.animators,x=[],b=0;b<_.length;b++)_[b].targetName===e&&x.push(_[b]);if(!d&&x.length)for(b=0;b<x.length;b++){var S=x[b].stopTracks(u);if(S){var w=on(_,x[b]);_.splice(w,1)}}var C=void 0,T=void 0,k=void 0;if(s){T={},f&&(C={});for(b=0;b<v;b++){y=l[b];T[y]=i[y],f?C[y]=n[y]:i[y]=n[y]}}else if(f){k={};for(b=0;b<v;b++){y=l[b];k[y]=qr(i[y]),Wo(i,n,y)}}var I=new eo(i,!1,d?x:null);I.targetName=e,a.scope&&(I.scope=a.scope),f&&C&&I.whenWithKeys(0,C,l),k&&I.whenWithKeys(0,k,l),I.whenWithKeys(null==h?500:h,s?T:n,l).delay(p||0),t.addAnimator(I,e),o.push(I)}}ln(Eo,ha),ln(Eo,ur);var jo=Eo,$o=32,Uo=7;function qo(t){var e=0;while(t>=$o)e|=1&t,t>>=1;return t+e}function Xo(t,e,i,n){var a=e+1;if(a===i)return 1;if(n(t[a++],t[e])<0){while(a<i&&n(t[a],t[a-1])<0)a++;Yo(t,e,a)}else while(a<i&&n(t[a],t[a-1])>=0)a++;return a-e}function Yo(t,e,i){i--;while(e<i){var n=t[e];t[e++]=t[i],t[i--]=n}}function Zo(t,e,i,n,a){for(n===e&&n++;n<i;n++){var r,o=t[n],s=e,l=n;while(s<l)r=s+l>>>1,a(o,t[r])<0?l=r:s=r+1;var u=n-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:while(u>0)t[s+u]=t[s+u-1],u--}t[s]=o}}function Ko(t,e,i,n,a,r){var o=0,s=0,l=1;if(r(t,e[i+a])>0){s=n-a;while(l<s&&r(t,e[i+a+l])>0)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}else{s=a+1;while(l<s&&r(t,e[i+a-l])<=0)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}o++;while(o<l){var c=o+(l-o>>>1);r(t,e[i+c])>0?o=c+1:l=c}return l}function Qo(t,e,i,n,a,r){var o=0,s=0,l=1;if(r(t,e[i+a])<0){s=a+1;while(l<s&&r(t,e[i+a-l])<0)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s);var u=o;o=a-l,l=a-u}else{s=n-a;while(l<s&&r(t,e[i+a+l])>=0)o=l,l=1+(l<<1),l<=0&&(l=s);l>s&&(l=s),o+=a,l+=a}o++;while(o<l){var c=o+(l-o>>>1);r(t,e[i+c])<0?l=c:o=c+1}return l}function Jo(t,e){var i,n,a=Uo,r=0,o=0;r=t.length;var s=[];function l(t,e){i[o]=t,n[o]=e,o+=1}function u(){while(o>1){var t=o-2;if(t>=1&&n[t-1]<=n[t]+n[t+1]||t>=2&&n[t-2]<=n[t]+n[t-1])n[t-1]<n[t+1]&&t--;else if(n[t]>n[t+1])break;h(t)}}function c(){while(o>1){var t=o-2;t>0&&n[t-1]<n[t+1]&&t--,h(t)}}function h(a){var r=i[a],s=n[a],l=i[a+1],u=n[a+1];n[a]=s+u,a===o-3&&(i[a+1]=i[a+2],n[a+1]=n[a+2]),o--;var c=Qo(t[l],t,r,s,0,e);r+=c,s-=c,0!==s&&(u=Ko(t[r+s-1],t,l,u,u-1,e),0!==u&&(s<=u?p(r,s,l,u):d(r,s,l,u)))}function p(i,n,r,o){var l=0;for(l=0;l<n;l++)s[l]=t[i+l];var u=0,c=r,h=i;if(t[h++]=t[c++],0!==--o)if(1!==n){var p,d,f,g=a;while(1){p=0,d=0,f=!1;do{if(e(t[c],s[u])<0){if(t[h++]=t[c++],d++,p=0,0===--o){f=!0;break}}else if(t[h++]=s[u++],p++,d=0,1===--n){f=!0;break}}while((p|d)<g);if(f)break;do{if(p=Qo(t[c],s,u,n,0,e),0!==p){for(l=0;l<p;l++)t[h+l]=s[u+l];if(h+=p,u+=p,n-=p,n<=1){f=!0;break}}if(t[h++]=t[c++],0===--o){f=!0;break}if(d=Ko(s[u],t,c,o,0,e),0!==d){for(l=0;l<d;l++)t[h+l]=t[c+l];if(h+=d,c+=d,o-=d,0===o){f=!0;break}}if(t[h++]=s[u++],1===--n){f=!0;break}g--}while(p>=Uo||d>=Uo);if(f)break;g<0&&(g=0),g+=2}if(a=g,a<1&&(a=1),1===n){for(l=0;l<o;l++)t[h+l]=t[c+l];t[h+o]=s[u]}else{if(0===n)throw new Error;for(l=0;l<n;l++)t[h+l]=s[u+l]}}else{for(l=0;l<o;l++)t[h+l]=t[c+l];t[h+o]=s[u]}else for(l=0;l<n;l++)t[h+l]=s[u+l]}function d(i,n,r,o){var l=0;for(l=0;l<o;l++)s[l]=t[r+l];var u=i+n-1,c=o-1,h=r+o-1,p=0,d=0;if(t[h--]=t[u--],0!==--n)if(1!==o){var f=a;while(1){var g=0,m=0,y=!1;do{if(e(s[c],t[u])<0){if(t[h--]=t[u--],g++,m=0,0===--n){y=!0;break}}else if(t[h--]=s[c--],m++,g=0,1===--o){y=!0;break}}while((g|m)<f);if(y)break;do{if(g=n-Qo(s[c],t,i,n,n-1,e),0!==g){for(h-=g,u-=g,n-=g,d=h+1,p=u+1,l=g-1;l>=0;l--)t[d+l]=t[p+l];if(0===n){y=!0;break}}if(t[h--]=s[c--],1===--o){y=!0;break}if(m=o-Ko(t[u],s,0,o,o-1,e),0!==m){for(h-=m,c-=m,o-=m,d=h+1,p=c+1,l=0;l<m;l++)t[d+l]=s[p+l];if(o<=1){y=!0;break}}if(t[h--]=t[u--],0===--n){y=!0;break}f--}while(g>=Uo||m>=Uo);if(y)break;f<0&&(f=0),f+=2}if(a=f,a<1&&(a=1),1===o){for(h-=n,u-=n,d=h+1,p=u+1,l=n-1;l>=0;l--)t[d+l]=t[p+l];t[h]=s[c]}else{if(0===o)throw new Error;for(p=h-(o-1),l=0;l<o;l++)t[p+l]=s[l]}}else{for(h-=n,u-=n,d=h+1,p=u+1,l=n-1;l>=0;l--)t[d+l]=t[p+l];t[h]=s[c]}else for(p=h-(o-1),l=0;l<o;l++)t[p+l]=s[l]}return r<120?5:r<1542?10:r<119151?19:40,i=[],n=[],{mergeRuns:u,forceMergeRuns:c,pushRun:l}}function ts(t,e,i,n){i||(i=0),n||(n=t.length);var a=n-i;if(!(a<2)){var r=0;if(a<$o)return r=Xo(t,i,n,e),void Zo(t,i,n,i+r,e);var o=Jo(t,e),s=qo(a);do{if(r=Xo(t,i,n,e),r<s){var l=a;l>s&&(l=s),Zo(t,i,i+l,i+r,e),r=l}o.pushRun(i,r),o.mergeRuns(),a-=r,i+=r}while(0!==a);o.forceMergeRuns()}}var es=!1;function is(){es||(es=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function ns(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var as,rs=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=ns}return t.prototype.traverse=function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var i=this._displayList;return!t&&i.length||this.updateDisplayList(e),i},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,a=e.length;n<a;n++)this._updateAndAddDisplayable(e[n],null,t);i.length=this._displayListLen,Bi.canvasSupported&&ts(i,ns)},t.prototype._updateAndAddDisplayable=function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var n=t.getClipPath();if(t.ignoreClip)e=null;else if(n){e=e?e.slice():[];var a=n,r=t;while(a)a.parent=r,a.updateTransform(),e.push(a),r=a,a=a.getClipPath()}if(t.childrenRef){for(var o=t.childrenRef(),s=0;s<o.length;s++){var l=o[s];t.__dirty&&(l.__dirty|=jo.REDARAW_BIT),this._updateAndAddDisplayable(l,e,i)}t.__dirty=0}else{var u=t;e&&e.length?u.__clipPaths=e:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(is(),u.z=0),isNaN(u.z2)&&(is(),u.z2=0),isNaN(u.zlevel)&&(is(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var c=t.getDecalElement&&t.getDecalElement();c&&this._updateAndAddDisplayable(c,e,i);var h=t.getTextGuideLine();h&&this._updateAndAddDisplayable(h,e,i);var p=t.getTextContent();p&&this._updateAndAddDisplayable(p,e,i)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,i=t.length;e<i;e++)this.delRoot(t[e]);else{var n=on(this._roots,t);n>=0&&this._roots.splice(n,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),os=rs;as="undefined"!==typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var ss=as,ls=function(t){function e(e){var i=t.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,e=e||{},i.stage=e.stage||{},i.onframe=e.onframe||function(){},i}return Ri(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._clipsHead?(this._clipsTail.next=t,t.prev=this._clipsTail,t.next=null,this._clipsTail=t):this._clipsHead=this._clipsTail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,i=t.next;e?e.next=i:this._clipsHead=i,i?i.prev=e:this._clipsTail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){var e=(new Date).getTime()-this._pausedTime,i=e-this._time,n=this._clipsHead;while(n){var a=n.next,r=n.step(e,i);r?(n.ondestroy&&n.ondestroy(),this.removeClip(n),n=a):n=a}this._time=e,t||(this.onframe(i),this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;function e(){t._running&&(ss(e),!t._paused&&t.update())}this._running=!0,ss(e)},e.prototype.start=function(){this._running||(this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){var t=this._clipsHead;while(t){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._clipsHead=this._clipsTail=null},e.prototype.isFinished=function(){return null==this._clipsHead},e.prototype.animate=function(t,e){e=e||{},this.start();var i=new eo(t,e.loop);return this.addAnimator(i),i},e}(ha),us=ls,cs=300,hs=Bi.domSupported,ps=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],i={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=hn(t,(function(t){var e=t.replace("mouse","pointer");return i.hasOwnProperty(e)?e:t}));return{mouse:t,touch:e,pointer:n}}(),ds={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},fs=!1;function gs(t){var e=t.pointerType;return"pen"===e||"touch"===e}function ms(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}function ys(t){t&&(t.zrByTouch=!0)}function vs(t,e){return za(t.dom,new xs(t,e),!0)}function _s(t,e){var i=e,n=!1;while(i&&9!==i.nodeType&&!(n=i.domBelongToZr||i!==e&&i===t.painterRoot))i=i.parentNode;return n}var xs=function(){function t(t,e){this.stopPropagation=jn,this.stopImmediatePropagation=jn,this.preventDefault=jn,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return t}(),bs={mousedown:function(t){t=za(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=za(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=za(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=za(this.dom,t);var e=t.toElement||t.relatedTarget;_s(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){fs=!0,t=za(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){fs||(t=za(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=za(this.dom,t),ys(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),bs.mousemove.call(this,t),bs.mousedown.call(this,t)},touchmove:function(t){t=za(this.dom,t),ys(t),this.handler.processGesture(t,"change"),bs.mousemove.call(this,t)},touchend:function(t){t=za(this.dom,t),ys(t),this.handler.processGesture(t,"end"),bs.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<cs&&bs.click.call(this,t)},pointerdown:function(t){bs.mousedown.call(this,t)},pointermove:function(t){gs(t)||bs.mousemove.call(this,t)},pointerup:function(t){bs.mouseup.call(this,t)},pointerout:function(t){gs(t)||bs.mouseout.call(this,t)}};cn(["click","dblclick","contextmenu"],(function(t){bs[t]=function(e){e=za(this.dom,e),this.trigger(t,e)}}));var Ss={pointermove:function(t){gs(t)||Ss.mousemove.call(this,t)},pointerup:function(t){Ss.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function ws(t,e){var i=e.domHandlers;Bi.pointerEventsSupported?cn(ps.pointer,(function(n){Ts(e,n,(function(e){i[n].call(t,e)}))})):(Bi.touchEventsSupported&&cn(ps.touch,(function(n){Ts(e,n,(function(a){i[n].call(t,a),ms(e)}))})),cn(ps.mouse,(function(n){Ts(e,n,(function(a){a=Ia(a),e.touching||i[n].call(t,a)}))})))}function Cs(t,e){function i(i){function n(n){n=Ia(n),_s(t,n.target)||(n=vs(t,n),e.domHandlers[i].call(t,n))}Ts(e,i,n,{capture:!0})}Bi.pointerEventsSupported?cn(ds.pointer,i):Bi.touchEventsSupported||cn(ds.mouse,i)}function Ts(t,e,i,n){t.mounted[e]=i,t.listenerOpts[e]=n,Pa(t.domTarget,e,i,n)}function ks(t){var e=t.mounted;for(var i in e)e.hasOwnProperty(i)&&La(t.domTarget,i,e[i],t.listenerOpts[i]);t.mounted={}}var Is=function(){function t(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return t}(),zs=function(t){function e(e,i){var n=t.call(this)||this;return n.__pointerCapturing=!1,n.dom=e,n.painterRoot=i,n._localHandlerScope=new Is(e,bs),hs&&(n._globalHandlerScope=new Is(document,Ss)),ws(n,n._localHandlerScope),n}return Ri(e,t),e.prototype.dispose=function(){ks(this._localHandlerScope),hs&&ks(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,hs&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?Cs(this,e):ks(e)}},e}(ha),Ms=zs,Ps=function(t){function e(e){var i=t.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(e),i}return Ri(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){if(t&&(t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),t.__hostTarget))throw"This elemenet has been used as an attachment";return this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},e.prototype.replaceAt=function(t,e){var i=this._children,n=i[e];if(t&&t!==this&&t.parent!==this&&t!==n){i[e]=t,n.parent=null;var a=this.__zr;a&&n.removeSelfFromZr(a),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,i=this._children,n=on(i,t);return n<0||(i.splice(n,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,i=0;i<t.length;i++){var n=t[i];e&&n.removeSelfFromZr(e),n.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var i=this._children,n=0;n<i.length;n++){var a=i[n];t.call(e,a,n)}return this},e.prototype.traverse=function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i],a=t.call(e,n);n.isGroup&&!a&&n.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++){var n=this._children[i];n.addSelfToZr(e)}},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++){var n=this._children[i];n.removeSelfFromZr(e)}},e.prototype.getBoundingRect=function(t){for(var e=new fo(0,0,0,0),i=t||this._children,n=[],a=null,r=0;r<i.length;r++){var o=i[r];if(!o.ignore&&!o.invisible){var s=o.getBoundingRect(),l=o.getLocalTransform(n);l?(fo.applyTransform(e,s,l),a=a||e.clone(),a.union(e)):(a=a||s.clone(),a.union(s))}}return a||e},e}(jo);Ps.prototype.type="group";var Ls=Ps,Ds=!Bi.canvasSupported,Rs={},As={};
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/function Os(t){delete As[t]}function Fs(t){if(!t)return!1;if("string"===typeof t)return Ar(t,1)<Mo;if(t.colorStops){for(var e=t.colorStops,i=0,n=e.length,a=0;a<n;a++)i+=Ar(e[a].color,1);return i/=n,i<Mo}return!1}var Ns=function(){function t(t,e,i){var n=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=e,this.id=t;var a=new os,r=i.renderer||"canvas";if(Ds)throw new Error("IE8 support has been dropped since 5.0");if(Rs[r]||(r=fn(Rs)[0]),!Rs[r])throw new Error("Renderer '"+r+"' is not imported. Please import it first.");i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var o=new Rs[r](e,a,i,t);this.storage=a,this.painter=o;var s=Bi.node||Bi.worker?null:new Ms(o.getViewportRoot(),o.root);this.handler=new Ua(a,o,s,o.root),this.animation=new us({stage:{update:function(){return n._flush(!0)}}}),this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=Fs(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,i=(new Date).getTime();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var n=(new Date).getTime();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:n-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.addHover=function(t){},t.prototype.removeHover=function(t){},t.prototype.clearHover=function(){},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.pathToImage=function(t,e){if(this.painter.pathToImage)return this.painter.pathToImage(t,e)},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,i){return this.handler.on(t,e,i),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Ls&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,Os(this.id)},t}();function Es(t,e){var i=new Ns(Qi(),t,e);return As[i.id]=i,i}function Bs(t,e){Rs[t]=e}var Vs=1e-4;function Gs(t){return t.replace(/^\s+|\s+$/g,"")}function Ws(t,e,i,n){var a=e[1]-e[0],r=i[1]-i[0];if(0===a)return 0===r?i[0]:(i[0]+i[1])/2;if(n)if(a>0){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/a*r+i[0]}function Hs(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return"string"===typeof t?Gs(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function js(t,e,i){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t}function $s(t){var e=t.toString(),i=e.indexOf("e");if(i>0){var n=+e.slice(i+1);return n<0?-n:0}var a=e.indexOf(".");return a<0?0:e.length-1-a}function Us(t,e){var i=Math.log,n=Math.LN10,a=Math.floor(i(t[1]-t[0])/n),r=Math.round(i(Math.abs(e[1]-e[0]))/n),o=Math.min(Math.max(-a+r,0),20);return isFinite(o)?o:20}function qs(t){var e=2*Math.PI;return(t%e+e)%e}function Xs(t){return t>-Vs&&t<Vs}var Ys=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Zs(t){if(t instanceof Date)return t;if("string"===typeof t){var e=Ys.exec(t);if(!e)return new Date(NaN);if(e[8]){var i=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(i-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,i,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function Ks(t){return Math.pow(10,Qs(t))}function Qs(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Js(t,e){var i,n=Qs(t),a=Math.pow(10,n),r=t/a;return i=e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10,t=i*a,n>=-20?+t.toFixed(n<0?-n:0):t}function tl(t){var e=parseFloat(t);return e==t&&(0!==e||"string"!==typeof t||t.indexOf("x")<=0)?e:NaN}function el(t){return!isNaN(tl(t))}function il(){return Math.round(9*Math.random())}function nl(t,e){return 0===e?t:nl(e,t%e)}function al(t,e){return null==t?e:null==e?t:t*e/nl(t,e)}var rl="series\0",ol="\0_ec_\0";function sl(t){return t instanceof Array?t:null==t?[]:[t]}function ll(t,e,i){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,a=i.length;n<a;n++){var r=i[n];!t.emphasis[e].hasOwnProperty(r)&&t[e].hasOwnProperty(r)&&(t.emphasis[e][r]=t[e][r])}}}var ul=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function cl(t){return!wn(t)||vn(t)||t instanceof Date?t:t.value}function hl(t){return wn(t)&&!(t instanceof Array)}function pl(t,e,i){var n="normalMerge"===i,a="replaceMerge"===i,r="replaceAll"===i;t=t||[],e=(e||[]).slice();var o=Gn();cn(e,(function(t,i){wn(t)||(e[i]=null)}));var s=dl(t,o,i);return(n||a)&&fl(s,t,o,e),n&&gl(s,e),n||a?ml(s,e,a):r&&yl(s,e),vl(s),s}function dl(t,e,i){var n=[];if("replaceAll"===i)return n;for(var a=0;a<t.length;a++){var r=t[a];r&&null!=r.id&&e.set(r.id,a),n.push({existing:"replaceMerge"===i||wl(r)?null:r,newOption:null,keyInfo:null,brandNew:null})}return n}function fl(t,e,i,n){cn(n,(function(a,r){if(a&&null!=a.id){var o=xl(a.id),s=i.get(o);if(null!=s){var l=t[s];On(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=a,l.existing=e[s],n[r]=null}}}))}function gl(t,e){cn(e,(function(i,n){if(i&&null!=i.name)for(var a=0;a<t.length;a++){var r=t[a].existing;if(!t[a].newOption&&r&&(null==r.id||null==i.id)&&!wl(i)&&!wl(r)&&_l("name",r,i))return t[a].newOption=i,void(e[n]=null)}}))}function ml(t,e,i){cn(e,(function(e){if(e){var n,a=0;while((n=t[a])&&(n.newOption||wl(n.existing)||n.existing&&null!=e.id&&!_l("id",e,n.existing)))a++;n?(n.newOption=e,n.brandNew=i):t.push({newOption:e,brandNew:i,existing:null,keyInfo:null}),a++}}))}function yl(t,e){cn(e,(function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})}))}function vl(t){var e=Gn();cn(t,(function(t){var i=t.existing;i&&e.set(i.id,t)})),cn(t,(function(t){var i=t.newOption;On(!i||null==i.id||!e.get(i.id)||e.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&e.set(i.id,t),!t.keyInfo&&(t.keyInfo={})})),cn(t,(function(t,i){var n=t.existing,a=t.newOption,r=t.keyInfo;if(wn(a)){if(r.name=null!=a.name?xl(a.name):n?n.name:rl+i,n)r.id=xl(n.id);else if(null!=a.id)r.id=xl(a.id);else{var o=0;do{r.id="\0"+r.name+"\0"+o++}while(e.get(r.id))}e.set(r.id,t)}}))}function _l(t,e,i){var n=bl(e[t],null),a=bl(i[t],null);return null!=n&&null!=a&&n===a}function xl(t){return bl(t,"")}function bl(t,e){if(null==t)return e;var i=typeof t;return"string"===i?t:"number"===i||bn(t)?t+"":e}function Sl(t){var e=t.name;return!(!e||!e.indexOf(rl))}function wl(t){return t&&null!=t.id&&0===xl(t.id).indexOf(ol)}function Cl(t,e,i){cn(t,(function(t){var n=t.newOption;wn(n)&&(t.keyInfo.mainType=e,t.keyInfo.subType=Tl(e,n,t.existing,i))}))}function Tl(t,e,i,n){var a=e.type?e.type:i?i.subType:n.determineSubType(t,e);return a}function kl(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?vn(e.dataIndex)?hn(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?vn(e.name)?hn(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function Il(){var t="__ec_inner_"+zl++;return function(e){return e[t]||(e[t]={})}}var zl=il();function Ml(t,e,i){var n=Pl(e,i),a=n.mainTypeSpecified,r=n.queryOptionMap,o=n.others,s=o,l=i?i.defaultMainType:null;return!a&&l&&r.set(l,{}),r.each((function(e,n){var a=Dl(t,n,e,{useDefault:l===n,enableAll:!i||null==i.enableAll||i.enableAll,enableNone:!i||null==i.enableNone||i.enableNone});s[n+"Models"]=a.models,s[n+"Model"]=a.models[0]})),s}function Pl(t,e){var i;if(xn(t)){var n={};n[t+"Index"]=0,i=n}else i=t;var a=Gn(),r={},o=!1;return cn(i,(function(t,i){if("dataIndex"!==i&&"dataIndexInside"!==i){var n=i.match(/^(\w+)(Index|Id|Name)$/)||[],s=n[1],l=(n[2]||"").toLowerCase();if(s&&l&&!(e&&e.includeMainTypes&&on(e.includeMainTypes,s)<0)){o=o||!!s;var u=a.get(s)||a.set(s,{});u[l]=t}}else r[i]=t})),{mainTypeSpecified:o,queryOptionMap:a,others:r}}var Ll={useDefault:!0,enableAll:!1,enableNone:!1};function Dl(t,e,i,n){n=n||Ll;var a=i.index,r=i.id,o=i.name,s={models:null,specified:null!=a||null!=r||null!=o};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=t.getComponent(e))?[l]:[],s}return"none"===a||!1===a?(On(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===a&&(On(n.enableAll,'`"all"` is not a valid value on index option.'),a=r=o=null),s.models=t.queryComponents({mainType:e,index:a,id:r,name:o}),s)}function Rl(t,e,i){t.setAttribute?t.setAttribute(e,i):t[e]=i}function Al(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function Ol(t){return"auto"===t?Bi.domSupported?"html":"richText":t||"html"}function Fl(t,e,i,n,a){var r=null==e||"auto"===e;if(null==n)return n;if("number"===typeof n){var o=Fr(i||0,n,a);return js(o,r?Math.max($s(i||0),$s(n)):e)}if("string"===typeof n)return a<1?i:n;for(var s=[],l=i,u=n,c=Math.max(l?l.length:0,u.length),h=0;h<c;++h){var p=t.getDimensionInfo(h);if("ordinal"===p.type)s[h]=(a<1&&l?l:u)[h];else{var d=l&&l[h]?l[h]:0,f=u[h];o=Fr(d,f,a);s[h]=js(o,r?Math.max($s(d),$s(f)):e)}}return s}var Nl=".",El="___EC__COMPONENT__CONTAINER___",Bl="___EC__EXTENDED_CLASS___";function Vl(t){var e={main:"",sub:""};if(t){var i=t.split(Nl);e.main=i[0]||"",e.sub=i[1]||""}return e}function Gl(t){On(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function Wl(t){return!(!t||!t[Bl])}function Hl(t,e){t.$constructor=t,t.extend=function(t){var e=this;function i(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(t.$constructor)t.$constructor.apply(this,arguments);else{if(jl(e)){var r=Wn(i.prototype,new(e.bind.apply(e,Ai([void 0],n))));return r}e.apply(this,arguments)}}return i[Bl]=!0,nn(i.prototype,t),i.extend=this.extend,i.superCall=Xl,i.superApply=Yl,sn(i,this),i.superClass=e,i}}function jl(t){return"function"===typeof t&&/^class\s/.test(Function.prototype.toString.call(t))}function $l(t,e){t.extend=e.extend}var Ul=Math.round(10*Math.random());function ql(t){var e=["__\0is_clz",Ul++].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function Xl(t,e){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return this.superClass.prototype[e].apply(t,i)}function Yl(t,e,i){return this.superClass.prototype[e].apply(t,i)}function Zl(t){var e={};function i(t){var i=e[t.main];return i&&i[El]||(i=e[t.main]={},i[El]=!0),i}t.registerClass=function(t){var n=t.type||t.prototype.type;if(n){Gl(n),t.prototype.type=n;var a=Vl(n);if(a.sub){if(a.sub!==El){var r=i(a);r[a.sub]=t}}else e[a.main]=t}return t},t.getClass=function(t,i,n){var a=e[t];if(a&&a[El]&&(a=i?a[i]:null),n&&!a)throw new Error(i?"Component "+t+"."+(i||"")+" is used but not imported.":t+".type should be specified.");return a},t.getClassesByMainType=function(t){var i=Vl(t),n=[],a=e[i.main];return a&&a[El]?cn(a,(function(t,e){e!==El&&n.push(t)})):n.push(a),n},t.hasClass=function(t){var i=Vl(t);return!!e[i.main]},t.getAllClassMainTypes=function(){var t=[];return cn(e,(function(e,i){t.push(i)})),t},t.hasSubTypes=function(t){var i=Vl(t),n=e[i.main];return n&&n[El]}}function Kl(t,e){for(var i=0;i<t.length;i++)t[i][1]||(t[i][1]=t[i][0]);return e=e||!1,function(i,n,a){for(var r={},o=0;o<t.length;o++){var s=t[o][1];if(!(n&&on(n,s)>=0||a&&on(a,s)<0)){var l=i.getShallow(s,e);null!=l&&(r[t[o][0]]=l)}}return r}}var Ql=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],Jl=Kl(Ql),tu=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return Jl(this,t,e)},t}(),eu=new yr(50);function iu(t){if("string"===typeof t){var e=eu.get(t);return e&&e.image}return t}function nu(t,e,i,n,a){if(t){if("string"===typeof t){if(e&&e.__zrImageSrc===t||!i)return e;var r=eu.get(t),o={hostEl:i,cb:n,cbPayload:a};return r?(e=r.image,!ru(e)&&r.pending.push(o)):(e=new Image,e.onload=e.onerror=au,eu.put(t,e.__cachedImgObj={image:e,pending:[o]}),e.src=e.__zrImageSrc=t),e}return t}return e}function au(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function ru(t){return t&&t.width&&t.height}var ou=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function su(t,e,i,n,a){if(!e)return"";var r=(t+"").split("\n");a=lu(e,i,n,a);for(var o=0,s=r.length;o<s;o++)r[o]=uu(r[o],a);return r.join("\n")}function lu(t,e,i,n){n=n||{};var a=nn({},n);a.font=e,i=Ln(i,"..."),a.maxIterations=Ln(n.maxIterations,2);var r=a.minChar=Ln(n.minChar,0);a.cnCharWidth=_o("国",e);var o=a.ascCharWidth=_o("a",e);a.placeholder=Ln(n.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<r&&s>=o;l++)s-=o;var u=_o(i,e);return u>s&&(i="",u=0),s=t-u,a.ellipsis=i,a.ellipsisWidth=u,a.contentWidth=s,a.containerWidth=t,a}function uu(t,e){var i=e.containerWidth,n=e.font,a=e.contentWidth;if(!i)return"";var r=_o(t,n);if(r<=i)return t;for(var o=0;;o++){if(r<=a||o>=e.maxIterations){t+=e.ellipsis;break}var s=0===o?cu(t,a,e.ascCharWidth,e.cnCharWidth):r>0?Math.floor(t.length*a/r):0;t=t.substr(0,s),r=_o(t,n)}return""===t&&(t=e.placeholder),t}function cu(t,e,i,n){for(var a=0,r=0,o=t.length;r<o&&a<e;r++){var s=t.charCodeAt(r);a+=0<=s&&s<=127?i:n}return r}function hu(t,e){null!=t&&(t+="");var i,n=e.overflow,a=e.padding,r=e.font,o="truncate"===n,s=Co(r),l=Ln(e.lineHeight,s),u="truncate"===e.lineOverflow,c=e.width;i=null!=c&&"break"===n||"breakAll"===n?t?xu(t,e.font,c,"breakAll"===n,0).lines:[]:t?t.split("\n"):[];var h=i.length*l,p=Ln(e.height,h);if(h>p&&u){var d=Math.floor(p/l);i=i.slice(0,d)}var f=p,g=c;if(a&&(f+=a[0]+a[2],null!=g&&(g+=a[1]+a[3])),t&&o&&null!=g)for(var m=lu(c,r,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),y=0;y<i.length;y++)i[y]=uu(i[y],m);if(null==c){var v=0;for(y=0;y<i.length;y++)v=Math.max(_o(i[y],r),v);c=v}return{lines:i,height:p,outerHeight:f,lineHeight:l,calculatedLineHeight:s,contentHeight:h,width:c}}var pu=function(){function t(){}return t}(),du=function(){function t(t){this.tokens=[],t&&(this.tokens=t)}return t}(),fu=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function gu(t,e){var i=new fu;if(null!=t&&(t+=""),!t)return i;var n,a=e.width,r=e.height,o=e.overflow,s="break"!==o&&"breakAll"!==o||null==a?null:{width:a,accumWidth:0,breakAll:"breakAll"===o},l=ou.lastIndex=0;while(null!=(n=ou.exec(t))){var u=n.index;u>l&&mu(i,t.substring(l,u),e,s),mu(i,n[2],e,s,n[1]),l=ou.lastIndex}l<t.length&&mu(i,t.substring(l,t.length),e,s);var c=[],h=0,p=0,d=e.padding,f="truncate"===o,g="truncate"===e.lineOverflow;function m(t,e,i){t.width=e,t.lineHeight=i,h+=i,p=Math.max(p,e)}t:for(var y=0;y<i.lines.length;y++){for(var v=i.lines[y],_=0,x=0,b=0;b<v.tokens.length;b++){var S=v.tokens[b],w=S.styleName&&e.rich[S.styleName]||{},C=S.textPadding=w.padding,T=C?C[1]+C[3]:0,k=S.font=w.font||e.font;S.contentHeight=Co(k);var I=Ln(w.height,S.contentHeight);if(S.innerHeight=I,C&&(I+=C[0]+C[2]),S.height=I,S.lineHeight=Dn(w.lineHeight,e.lineHeight,I),S.align=w&&w.align||e.align,S.verticalAlign=w&&w.verticalAlign||"middle",g&&null!=r&&h+S.lineHeight>r){b>0?(v.tokens=v.tokens.slice(0,b),m(v,x,_),i.lines=i.lines.slice(0,y+1)):i.lines=i.lines.slice(0,y);break t}var z=w.width,M=null==z||"auto"===z;if("string"===typeof z&&"%"===z.charAt(z.length-1))S.percentWidth=z,c.push(S),S.contentWidth=_o(S.text,k);else{if(M){var P=w.backgroundColor,L=P&&P.image;L&&(L=iu(L),ru(L)&&(S.width=Math.max(S.width,L.width*I/L.height)))}var D=f&&null!=a?a-x:null;null!=D&&D<S.width?!M||D<T?(S.text="",S.width=S.contentWidth=0):(S.text=su(S.text,D-T,k,e.ellipsis,{minChar:e.truncateMinChar}),S.width=S.contentWidth=_o(S.text,k)):S.contentWidth=_o(S.text,k)}S.width+=T,x+=S.width,w&&(_=Math.max(_,S.lineHeight))}m(v,x,_)}i.outerWidth=i.width=Ln(a,p),i.outerHeight=i.height=Ln(r,h),i.contentHeight=h,i.contentWidth=p,d&&(i.outerWidth+=d[1]+d[3],i.outerHeight+=d[0]+d[2]);for(y=0;y<c.length;y++){S=c[y];var R=S.percentWidth;S.width=parseInt(R,10)/100*i.width}return i}function mu(t,e,i,n,a){var r,o,s=""===e,l=a&&i.rich[a]||{},u=t.lines,c=l.font||i.font,h=!1;if(n){var p=l.padding,d=p?p[1]+p[3]:0;if(null!=l.width&&"auto"!==l.width){var f=To(l.width,n.width)+d;u.length>0&&f+n.accumWidth>n.width&&(r=e.split("\n"),h=!0),n.accumWidth=f}else{var g=xu(e,c,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+d,o=g.linesWidths,r=g.lines}}else r=e.split("\n");for(var m=0;m<r.length;m++){var y=r[m],v=new pu;if(v.styleName=a,v.text=y,v.isLineHolder=!y&&!s,"number"===typeof l.width?v.width=l.width:v.width=o?o[m]:_o(y,c),m||h)u.push(new du([v]));else{var _=(u[u.length-1]||(u[0]=new du)).tokens,x=_.length;1===x&&_[0].isLineHolder?_[0]=v:(y||!x||s)&&_.push(v)}}}function yu(t){var e=t.charCodeAt(0);return e>=33&&e<=255}var vu=pn(",&?/;] ".split(""),(function(t,e){return t[e]=!0,t}),{});function _u(t){return!yu(t)||!!vu[t]}function xu(t,e,i,n,a){for(var r=[],o=[],s="",l="",u=0,c=0,h=0;h<t.length;h++){var p=t.charAt(h);if("\n"!==p){var d=_o(p,e),f=!n&&!_u(p);(r.length?c+d>i:a+c+d>i)?c?(s||l)&&(f?(s||(s=l,l="",u=0,c=u),r.push(s),o.push(c-u),l+=p,u+=d,s="",c=u):(l&&(s+=l,c+=u,l="",u=0),r.push(s),o.push(c),s=p,c=d)):f?(r.push(l),o.push(u),l=p,u=d):(r.push(p),o.push(d)):(c+=d,f?(l+=p,u+=d):(l&&(s+=l,l="",u=0),s+=p))}else l&&(s+=l,c+=u),r.push(s),o.push(c),s="",l="",u=0,c=0}return r.length||s||(s=t,l="",u=0),l&&(s+=l),s&&(r.push(s),o.push(c)),1===r.length&&(c+=a),{accumWidth:c,lines:r,linesWidths:o}}var bu="__zr_style_"+Math.round(10*Math.random()),Su={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},wu={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Su[bu]=!0;var Cu=["z","z2","invisible"],Tu=function(t){function e(e){return t.call(this,e)||this}return Ri(e,t),e.prototype._init=function(e){for(var i=fn(e),n=0;n<i.length;n++){var a=i[n];"style"===a?this.useStyle(e[a]):t.prototype.attrKV.call(this,a,e[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,i,n){var a=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&zu(this,t,e)||a&&!a[0]&&!a[3])return!1;if(i&&this.__clipPaths)for(var r=0;r<this.__clipPaths.length;++r)if(this.__clipPaths[r].isZeroArea())return!1;if(n&&this.parent){var o=this.parent;while(o){if(o.ignore)return!1;o=o.parent}}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();return n.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,i=this.getBoundingRect(),n=this.style,a=n.shadowBlur||0,r=n.shadowOffsetX||0,o=n.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new fo(0,0,0,0)),e?fo.applyTransform(t,i,e):t.copy(i),(a||r||o)&&(t.width+=2*a+Math.abs(r),t.height+=2*a+Math.abs(o),t.x=Math.min(t.x,t.x+r-a),t.y=Math.min(t.y,t.y+o-a));var s=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-s),t.y=Math.floor(t.y-s),t.width=Math.ceil(t.width+1+2*s),t.height=Math.ceil(t.height+1+2*s))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new fo(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,i){"style"!==e?t.prototype.attrKV.call(this,e,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(t,e){return"string"===typeof t?this.style[t]=e:nn(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(){this.markRedraw(),this.__dirty|=e.STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&e.STYLE_CHANGED_BIT)},e.prototype.styleUpdated=function(){this.__dirty&=~e.STYLE_CHANGED_BIT},e.prototype.createStyle=function(t){return Wn(Su,t)},e.prototype.useStyle=function(t){t[bu]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[bu]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,i,Cu)},e.prototype._applyStateObj=function(e,i,n,a,r,o){t.prototype._applyStateObj.call(this,e,i,n,a,r,o);var s,l=!(i&&a);if(i&&i.style?r?a?s=i.style:(s=this._mergeStyle(this.createStyle(),n.style),this._mergeStyle(s,i.style)):(s=this._mergeStyle(this.createStyle(),a?this.style:n.style),this._mergeStyle(s,i.style)):l&&(s=n.style),s)if(r){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var c=fn(u),h=0;h<c.length;h++){var p=c[h];p in s&&(s[p]=s[p],this.style[p]=u[p])}var d=fn(s);for(h=0;h<d.length;h++){p=d[h];this.style[p]=this.style[p]}this._transitionState(e,{style:s},o,this.getAnimationStyleProps())}else this.useStyle(s);for(h=0;h<Cu.length;h++){p=Cu[h];i&&null!=i[p]?this[p]=i[p]:l&&null!=n[p]&&(this[p]=n[p])}},e.prototype._mergeStates=function(e){for(var i,n=t.prototype._mergeStates.call(this,e),a=0;a<e.length;a++){var r=e[a];r.style&&(i=i||{},this._mergeStyle(i,r.style))}return i&&(n.style=i),n},e.prototype._mergeStyle=function(t,e){return nn(t,e),t},e.prototype.getAnimationStyleProps=function(){return wu},e.STYLE_CHANGED_BIT=2,e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=jo.REDARAW_BIT|e.STYLE_CHANGED_BIT}(),e}(jo),ku=new fo(0,0,0,0),Iu=new fo(0,0,0,0);function zu(t,e,i){return ku.copy(t.getBoundingRect()),t.transform&&ku.applyTransform(t.transform),Iu.width=e,Iu.height=i,!ku.intersect(Iu)}var Mu=Tu,Pu=Math.pow,Lu=Math.sqrt,Du=1e-8,Ru=1e-4,Au=Lu(3),Ou=1/3,Fu=$n(),Nu=$n(),Eu=$n();function Bu(t){return t>-Du&&t<Du}function Vu(t){return t>Du||t<-Du}function Gu(t,e,i,n,a){var r=1-a;return r*r*(r*t+3*a*e)+a*a*(a*n+3*r*i)}function Wu(t,e,i,n,a){var r=1-a;return 3*(((e-t)*r+2*(i-e)*a)*r+(n-i)*a*a)}function Hu(t,e,i,n,a,r){var o=n+3*(e-i)-t,s=3*(i-2*e+t),l=3*(e-t),u=t-a,c=s*s-3*o*l,h=s*l-9*o*u,p=l*l-3*s*u,d=0;if(Bu(c)&&Bu(h))if(Bu(s))r[0]=0;else{var f=-l/s;f>=0&&f<=1&&(r[d++]=f)}else{var g=h*h-4*c*p;if(Bu(g)){var m=h/c,y=(f=-s/o+m,-m/2);f>=0&&f<=1&&(r[d++]=f),y>=0&&y<=1&&(r[d++]=y)}else if(g>0){var v=Lu(g),_=c*s+1.5*o*(-h+v),x=c*s+1.5*o*(-h-v);_=_<0?-Pu(-_,Ou):Pu(_,Ou),x=x<0?-Pu(-x,Ou):Pu(x,Ou);f=(-s-(_+x))/(3*o);f>=0&&f<=1&&(r[d++]=f)}else{var b=(2*c*s-3*o*h)/(2*Lu(c*c*c)),S=Math.acos(b)/3,w=Lu(c),C=Math.cos(S),T=(f=(-s-2*w*C)/(3*o),y=(-s+w*(C+Au*Math.sin(S)))/(3*o),(-s+w*(C-Au*Math.sin(S)))/(3*o));f>=0&&f<=1&&(r[d++]=f),y>=0&&y<=1&&(r[d++]=y),T>=0&&T<=1&&(r[d++]=T)}}return d}function ju(t,e,i,n,a){var r=6*i-12*e+6*t,o=9*e+3*n-3*t-9*i,s=3*e-3*t,l=0;if(Bu(o)){if(Vu(r)){var u=-s/r;u>=0&&u<=1&&(a[l++]=u)}}else{var c=r*r-4*o*s;if(Bu(c))a[0]=-r/(2*o);else if(c>0){var h=Lu(c),p=(u=(-r+h)/(2*o),(-r-h)/(2*o));u>=0&&u<=1&&(a[l++]=u),p>=0&&p<=1&&(a[l++]=p)}}return l}function $u(t,e,i,n,a,r){var o=(e-t)*a+t,s=(i-e)*a+e,l=(n-i)*a+i,u=(s-o)*a+o,c=(l-s)*a+s,h=(c-u)*a+u;r[0]=t,r[1]=o,r[2]=u,r[3]=h,r[4]=h,r[5]=c,r[6]=l,r[7]=n}function Uu(t,e,i,n,a,r,o,s,l,u,c){var h,p,d,f,g,m=.005,y=1/0;Fu[0]=l,Fu[1]=u;for(var v=0;v<1;v+=.05)Nu[0]=Gu(t,i,a,o,v),Nu[1]=Gu(e,n,r,s,v),f=ia(Fu,Nu),f<y&&(h=v,y=f);y=1/0;for(var _=0;_<32;_++){if(m<Ru)break;p=h-m,d=h+m,Nu[0]=Gu(t,i,a,o,p),Nu[1]=Gu(e,n,r,s,p),f=ia(Nu,Fu),p>=0&&f<y?(h=p,y=f):(Eu[0]=Gu(t,i,a,o,d),Eu[1]=Gu(e,n,r,s,d),g=ia(Eu,Fu),d<=1&&g<y?(h=d,y=g):m*=.5)}return c&&(c[0]=Gu(t,i,a,o,h),c[1]=Gu(e,n,r,s,h)),Lu(y)}function qu(t,e,i,n,a,r,o,s,l){for(var u=t,c=e,h=0,p=1/l,d=1;d<=l;d++){var f=d*p,g=Gu(t,i,a,o,f),m=Gu(e,n,r,s,f),y=g-u,v=m-c;h+=Math.sqrt(y*y+v*v),u=g,c=m}return h}function Xu(t,e,i,n){var a=1-n;return a*(a*t+2*n*e)+n*n*i}function Yu(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function Zu(t,e,i,n,a){var r=t-2*e+i,o=2*(e-t),s=t-n,l=0;if(Bu(r)){if(Vu(o)){var u=-s/o;u>=0&&u<=1&&(a[l++]=u)}}else{var c=o*o-4*r*s;if(Bu(c)){u=-o/(2*r);u>=0&&u<=1&&(a[l++]=u)}else if(c>0){var h=Lu(c),p=(u=(-o+h)/(2*r),(-o-h)/(2*r));u>=0&&u<=1&&(a[l++]=u),p>=0&&p<=1&&(a[l++]=p)}}return l}function Ku(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function Qu(t,e,i,n,a){var r=(e-t)*n+t,o=(i-e)*n+e,s=(o-r)*n+r;a[0]=t,a[1]=r,a[2]=s,a[3]=s,a[4]=o,a[5]=i}function Ju(t,e,i,n,a,r,o,s,l){var u,c=.005,h=1/0;Fu[0]=o,Fu[1]=s;for(var p=0;p<1;p+=.05){Nu[0]=Xu(t,i,a,p),Nu[1]=Xu(e,n,r,p);var d=ia(Fu,Nu);d<h&&(u=p,h=d)}h=1/0;for(var f=0;f<32;f++){if(c<Ru)break;var g=u-c,m=u+c;Nu[0]=Xu(t,i,a,g),Nu[1]=Xu(e,n,r,g);d=ia(Nu,Fu);if(g>=0&&d<h)u=g,h=d;else{Eu[0]=Xu(t,i,a,m),Eu[1]=Xu(e,n,r,m);var y=ia(Eu,Fu);m<=1&&y<h?(u=m,h=y):c*=.5}}return l&&(l[0]=Xu(t,i,a,u),l[1]=Xu(e,n,r,u)),Lu(h)}function tc(t,e,i,n,a,r,o){for(var s=t,l=e,u=0,c=1/o,h=1;h<=o;h++){var p=h*c,d=Xu(t,i,a,p),f=Xu(e,n,r,p),g=d-s,m=f-l;u+=Math.sqrt(g*g+m*m),s=d,l=f}return u}var ec=Math.min,ic=Math.max,nc=Math.sin,ac=Math.cos,rc=2*Math.PI,oc=$n(),sc=$n(),lc=$n();function uc(t,e,i){if(0!==t.length){for(var n=t[0],a=n[0],r=n[0],o=n[1],s=n[1],l=1;l<t.length;l++)n=t[l],a=ec(a,n[0]),r=ic(r,n[0]),o=ec(o,n[1]),s=ic(s,n[1]);e[0]=a,e[1]=o,i[0]=r,i[1]=s}}function cc(t,e,i,n,a,r){a[0]=ec(t,i),a[1]=ec(e,n),r[0]=ic(t,i),r[1]=ic(e,n)}var hc=[],pc=[];function dc(t,e,i,n,a,r,o,s,l,u){var c=ju,h=Gu,p=c(t,i,a,o,hc);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<p;d++){var f=h(t,i,a,o,hc[d]);l[0]=ec(f,l[0]),u[0]=ic(f,u[0])}p=c(e,n,r,s,pc);for(d=0;d<p;d++){var g=h(e,n,r,s,pc[d]);l[1]=ec(g,l[1]),u[1]=ic(g,u[1])}l[0]=ec(t,l[0]),u[0]=ic(t,u[0]),l[0]=ec(o,l[0]),u[0]=ic(o,u[0]),l[1]=ec(e,l[1]),u[1]=ic(e,u[1]),l[1]=ec(s,l[1]),u[1]=ic(s,u[1])}function fc(t,e,i,n,a,r,o,s){var l=Ku,u=Xu,c=ic(ec(l(t,i,a),1),0),h=ic(ec(l(e,n,r),1),0),p=u(t,i,a,c),d=u(e,n,r,h);o[0]=ec(t,a,p),o[1]=ec(e,r,d),s[0]=ic(t,a,p),s[1]=ic(e,r,d)}function gc(t,e,i,n,a,r,o,s,l){var u=ra,c=oa,h=Math.abs(a-r);if(h%rc<1e-4&&h>1e-4)return s[0]=t-i,s[1]=e-n,l[0]=t+i,void(l[1]=e+n);if(oc[0]=ac(a)*i+t,oc[1]=nc(a)*n+e,sc[0]=ac(r)*i+t,sc[1]=nc(r)*n+e,u(s,oc,sc),c(l,oc,sc),a%=rc,a<0&&(a+=rc),r%=rc,r<0&&(r+=rc),a>r&&!o?r+=rc:a<r&&o&&(a+=rc),o){var p=r;r=a,a=p}for(var d=0;d<r;d+=Math.PI/2)d>a&&(lc[0]=ac(d)*i+t,lc[1]=nc(d)*n+e,u(s,lc,s),c(l,lc,l))}var mc={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},yc=[],vc=[],_c=[],xc=[],bc=[],Sc=[],wc=Math.min,Cc=Math.max,Tc=Math.cos,kc=Math.sin,Ic=Math.sqrt,zc=Math.abs,Mc=Math.PI,Pc=2*Mc,Lc="undefined"!==typeof Float32Array,Dc=[];function Rc(t){var e=Math.round(t/Mc*1e8)/1e8;return e%2*Mc}function Ac(t,e){var i=Rc(t[0]);i<0&&(i+=Pc);var n=i-t[0],a=t[1];a+=n,!e&&a-i>=Pc?a=i+Pc:e&&i-a>=Pc?a=i-Pc:!e&&i>a?a=i+(Pc-Rc(i-a)):e&&i<a&&(a=i-(Pc-Rc(a-i))),t[0]=i,t[1]=a}var Oc=function(){function t(t){this.dpr=1,this._version=0,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,i){i=i||0,i>0&&(this._ux=zc(i/zo/t)||0,this._uy=zc(i/zo/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this.addData(mc.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var i=zc(t-this._xi)>this._ux||zc(e-this._yi)>this._uy||this._len<5;return this.addData(mc.L,t,e),this._ctx&&i&&(this._needsDash?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},t.prototype.bezierCurveTo=function(t,e,i,n,a,r){return this.addData(mc.C,t,e,i,n,a,r),this._ctx&&(this._needsDash?this._dashedBezierTo(t,e,i,n,a,r):this._ctx.bezierCurveTo(t,e,i,n,a,r)),this._xi=a,this._yi=r,this},t.prototype.quadraticCurveTo=function(t,e,i,n){return this.addData(mc.Q,t,e,i,n),this._ctx&&(this._needsDash?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},t.prototype.arc=function(t,e,i,n,a,r){Dc[0]=n,Dc[1]=a,Ac(Dc,r),n=Dc[0],a=Dc[1];var o=a-n;return this.addData(mc.A,t,e,i,i,n,o,0,r?0:1),this._ctx&&this._ctx.arc(t,e,i,n,a,r),this._xi=Tc(a)*i+t,this._yi=kc(a)*i+e,this},t.prototype.arcTo=function(t,e,i,n,a){return this._ctx&&this._ctx.arcTo(t,e,i,n,a),this},t.prototype.rect=function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(mc.R,t,e,i,n),this},t.prototype.closePath=function(){this.addData(mc.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.setLineDash=function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e,this._needsDash=!0}else this._lineDash=null,this._needsDash=!1;return this},t.prototype.setLineDashOffset=function(t){return this._dashOffset=t,this},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!Lc||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,a=0;a<e;a++)i+=t[a].len();Lc&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(a=0;a<e;a++)for(var r=t[a].data,o=0;o<r.length;o++)this.data[n++]=r[o];this._len=n},t.prototype.addData=function(t,e,i,n,a,r,o,s,l){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var c=0;c<arguments.length;c++)u[this._len++]=arguments[c]}},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype._dashedLineTo=function(t,e){var i,n,a=this._dashSum,r=this._lineDash,o=this._ctx,s=this._dashOffset,l=this._xi,u=this._yi,c=t-l,h=e-u,p=Ic(c*c+h*h),d=l,f=u,g=r.length;c/=p,h/=p,s<0&&(s=a+s),s%=a,d-=s*c,f-=s*h;while(c>0&&d<=t||c<0&&d>=t||0===c&&(h>0&&f<=e||h<0&&f>=e))n=this._dashIdx,i=r[n],d+=c*i,f+=h*i,this._dashIdx=(n+1)%g,c>0&&d<l||c<0&&d>l||h>0&&f<u||h<0&&f>u||o[n%2?"moveTo":"lineTo"](c>=0?wc(d,t):Cc(d,t),h>=0?wc(f,e):Cc(f,e));c=d-t,h=f-e,this._dashOffset=-Ic(c*c+h*h)},t.prototype._dashedBezierTo=function(t,e,i,n,a,r){var o,s,l,u,c,h=this._ctx,p=this._dashSum,d=this._dashOffset,f=this._lineDash,g=this._xi,m=this._yi,y=0,v=this._dashIdx,_=f.length,x=0;for(d<0&&(d=p+d),d%=p,o=0;o<1;o+=.1)s=Gu(g,t,i,a,o+.1)-Gu(g,t,i,a,o),l=Gu(m,e,n,r,o+.1)-Gu(m,e,n,r,o),y+=Ic(s*s+l*l);for(;v<_;v++)if(x+=f[v],x>d)break;o=(x-d)/y;while(o<=1)u=Gu(g,t,i,a,o),c=Gu(m,e,n,r,o),v%2?h.moveTo(u,c):h.lineTo(u,c),o+=f[v]/y,v=(v+1)%_;v%2!==0&&h.lineTo(a,r),s=a-u,l=r-c,this._dashOffset=-Ic(s*s+l*l)},t.prototype._dashedQuadraticTo=function(t,e,i,n){var a=i,r=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,a,r)},t.prototype.toStatic=function(){if(this._saveData){var t=this.data;t instanceof Array&&(t.length=this._len,Lc&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){_c[0]=_c[1]=bc[0]=bc[1]=Number.MAX_VALUE,xc[0]=xc[1]=Sc[0]=Sc[1]=-Number.MAX_VALUE;var t,e=this.data,i=0,n=0,a=0,r=0;for(t=0;t<this._len;){var o=e[t++],s=1===t;switch(s&&(i=e[t],n=e[t+1],a=i,r=n),o){case mc.M:i=a=e[t++],n=r=e[t++],bc[0]=a,bc[1]=r,Sc[0]=a,Sc[1]=r;break;case mc.L:cc(i,n,e[t],e[t+1],bc,Sc),i=e[t++],n=e[t++];break;case mc.C:dc(i,n,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],bc,Sc),i=e[t++],n=e[t++];break;case mc.Q:fc(i,n,e[t++],e[t++],e[t],e[t+1],bc,Sc),i=e[t++],n=e[t++];break;case mc.A:var l=e[t++],u=e[t++],c=e[t++],h=e[t++],p=e[t++],d=e[t++]+p;t+=1;var f=!e[t++];s&&(a=Tc(p)*c+l,r=kc(p)*h+u),gc(l,u,c,h,p,d,f,bc,Sc),i=Tc(d)*c+l,n=kc(d)*h+u;break;case mc.R:a=i=e[t++],r=n=e[t++];var g=e[t++],m=e[t++];cc(a,r,a+g,r+m,bc,Sc);break;case mc.Z:i=a,n=r;break}ra(_c,_c,bc),oa(xc,xc,Sc)}return 0===t&&(_c[0]=_c[1]=xc[0]=xc[1]=0),new fo(_c[0],_c[1],xc[0]-_c[0],xc[1]-_c[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,i=this._ux,n=this._uy,a=0,r=0,o=0,s=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,u=0,c=0,h=0;h<e;){var p=t[h++],d=1===h;d&&(a=t[h],r=t[h+1],o=a,s=r);var f=-1;switch(p){case mc.M:a=o=t[h++],r=s=t[h++];break;case mc.L:var g=t[h++],m=t[h++],y=g-a,v=m-r;(zc(y)>i||zc(v)>n||h===e-1)&&(f=Math.sqrt(y*y+v*v),a=g,r=m);break;case mc.C:var _=t[h++],x=t[h++],b=(g=t[h++],m=t[h++],t[h++]),S=t[h++];f=qu(a,r,_,x,g,m,b,S,10),a=b,r=S;break;case mc.Q:_=t[h++],x=t[h++],g=t[h++],m=t[h++];f=tc(a,r,_,x,g,m,10),a=g,r=m;break;case mc.A:var w=t[h++],C=t[h++],T=t[h++],k=t[h++],I=t[h++],z=t[h++],M=z+I;h+=1;t[h++];d&&(o=Tc(I)*T+w,s=kc(I)*k+C),f=Cc(T,k)*wc(Pc,Math.abs(z)),a=Tc(M)*T+w,r=kc(M)*k+C;break;case mc.R:o=a=t[h++],s=r=t[h++];var P=t[h++],L=t[h++];f=2*P+2*L;break;case mc.Z:y=o-a,v=s-r;f=Math.sqrt(y*y+v*v),a=o,r=s;break}f>=0&&(l[c++]=f,u+=f)}return this._pathLen=u,u},t.prototype.rebuildPath=function(t,e){var i,n,a,r,o,s,l,u,c,h=this.data,p=this._ux,d=this._uy,f=this._len,g=e<1,m=0,y=0;if(!g||(this._pathSegLen||this._calculateLength(),l=this._pathSegLen,u=this._pathLen,c=e*u,c))t:for(var v=0;v<f;){var _=h[v++],x=1===v;switch(x&&(a=h[v],r=h[v+1],i=a,n=r),_){case mc.M:i=a=h[v++],n=r=h[v++],t.moveTo(a,r);break;case mc.L:if(o=h[v++],s=h[v++],zc(o-a)>p||zc(s-r)>d||v===f-1){if(g){var b=l[y++];if(m+b>c){var S=(c-m)/b;t.lineTo(a*(1-S)+o*S,r*(1-S)+s*S);break t}m+=b}t.lineTo(o,s),a=o,r=s}break;case mc.C:var w=h[v++],C=h[v++],T=h[v++],k=h[v++],I=h[v++],z=h[v++];if(g){b=l[y++];if(m+b>c){S=(c-m)/b;$u(a,w,T,I,S,yc),$u(r,C,k,z,S,vc),t.bezierCurveTo(yc[1],vc[1],yc[2],vc[2],yc[3],vc[3]);break t}m+=b}t.bezierCurveTo(w,C,T,k,I,z),a=I,r=z;break;case mc.Q:w=h[v++],C=h[v++],T=h[v++],k=h[v++];if(g){b=l[y++];if(m+b>c){S=(c-m)/b;Qu(a,w,T,S,yc),Qu(r,C,k,S,vc),t.quadraticCurveTo(yc[1],vc[1],yc[2],vc[2]);break t}m+=b}t.quadraticCurveTo(w,C,T,k),a=T,r=k;break;case mc.A:var M=h[v++],P=h[v++],L=h[v++],D=h[v++],R=h[v++],A=h[v++],O=h[v++],F=!h[v++],N=L>D?L:D,E=zc(L-D)>.001,B=R+A,V=!1;if(g){b=l[y++];m+b>c&&(B=R+A*(c-m)/b,V=!0),m+=b}if(E&&t.ellipse?t.ellipse(M,P,L,D,O,R,B,F):t.arc(M,P,N,R,B,F),V)break t;x&&(i=Tc(R)*L+M,n=kc(R)*D+P),a=Tc(B)*L+M,r=kc(B)*D+P;break;case mc.R:i=a=h[v],n=r=h[v+1],o=h[v++],s=h[v++];var G=h[v++],W=h[v++];if(g){b=l[y++];if(m+b>c){var H=c-m;t.moveTo(o,s),t.lineTo(o+wc(H,G),s),H-=G,H>0&&t.lineTo(o+G,s+wc(H,W)),H-=W,H>0&&t.lineTo(o+Cc(G-H,0),s+W),H-=G,H>0&&t.lineTo(o,s+Cc(W-H,0));break t}m+=b}t.rect(o,s,G,W);break;case mc.Z:if(g){b=l[y++];if(m+b>c){S=(c-m)/b;t.lineTo(a*(1-S)+i*S,r*(1-S)+n*S);break t}m+=b}t.closePath(),a=i,r=n}}},t.CMD=mc,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._needsDash=!1,e._dashOffset=0,e._dashIdx=0,e._dashSum=0,e._ux=0,e._uy=0}(),t}(),Fc=Oc;function Nc(t,e,i,n,a,r,o){if(0===a)return!1;var s=a,l=0,u=t;if(o>e+s&&o>n+s||o<e-s&&o<n-s||r>t+s&&r>i+s||r<t-s&&r<i-s)return!1;if(t===i)return Math.abs(r-t)<=s/2;l=(e-n)/(t-i),u=(t*n-i*e)/(t-i);var c=l*r-o+u,h=c*c/(l*l+1);return h<=s/2*s/2}function Ec(t,e,i,n,a,r,o,s,l,u,c){if(0===l)return!1;var h=l;if(c>e+h&&c>n+h&&c>r+h&&c>s+h||c<e-h&&c<n-h&&c<r-h&&c<s-h||u>t+h&&u>i+h&&u>a+h&&u>o+h||u<t-h&&u<i-h&&u<a-h&&u<o-h)return!1;var p=Uu(t,e,i,n,a,r,o,s,u,c,null);return p<=h/2}function Bc(t,e,i,n,a,r,o,s,l){if(0===o)return!1;var u=o;if(l>e+u&&l>n+u&&l>r+u||l<e-u&&l<n-u&&l<r-u||s>t+u&&s>i+u&&s>a+u||s<t-u&&s<i-u&&s<a-u)return!1;var c=Ju(t,e,i,n,a,r,s,l,null);return c<=u/2}var Vc=2*Math.PI;function Gc(t){return t%=Vc,t<0&&(t+=Vc),t}var Wc=2*Math.PI;function Hc(t,e,i,n,a,r,o,s,l){if(0===o)return!1;var u=o;s-=t,l-=e;var c=Math.sqrt(s*s+l*l);if(c-u>i||c+u<i)return!1;if(Math.abs(n-a)%Wc<1e-4)return!0;if(r){var h=n;n=Gc(a),a=Gc(h)}else n=Gc(n),a=Gc(a);n>a&&(a+=Wc);var p=Math.atan2(l,s);return p<0&&(p+=Wc),p>=n&&p<=a||p+Wc>=n&&p+Wc<=a}function jc(t,e,i,n,a,r){if(r>e&&r>n||r<e&&r<n)return 0;if(n===e)return 0;var o=(r-e)/(n-e),s=n<e?1:-1;1!==o&&0!==o||(s=n<e?.5:-.5);var l=o*(i-t)+t;return l===a?1/0:l>a?s:0}var $c=Fc.CMD,Uc=2*Math.PI,qc=1e-4;function Xc(t,e){return Math.abs(t-e)<qc}var Yc=[-1,-1,-1],Zc=[-1,-1];function Kc(){var t=Zc[0];Zc[0]=Zc[1],Zc[1]=t}function Qc(t,e,i,n,a,r,o,s,l,u){if(u>e&&u>n&&u>r&&u>s||u<e&&u<n&&u<r&&u<s)return 0;var c=Hu(e,n,r,s,u,Yc);if(0===c)return 0;for(var h=0,p=-1,d=void 0,f=void 0,g=0;g<c;g++){var m=Yc[g],y=0===m||1===m?.5:1,v=Gu(t,i,a,o,m);v<l||(p<0&&(p=ju(e,n,r,s,Zc),Zc[1]<Zc[0]&&p>1&&Kc(),d=Gu(e,n,r,s,Zc[0]),p>1&&(f=Gu(e,n,r,s,Zc[1]))),2===p?m<Zc[0]?h+=d<e?y:-y:m<Zc[1]?h+=f<d?y:-y:h+=s<f?y:-y:m<Zc[0]?h+=d<e?y:-y:h+=s<d?y:-y)}return h}function Jc(t,e,i,n,a,r,o,s){if(s>e&&s>n&&s>r||s<e&&s<n&&s<r)return 0;var l=Zu(e,n,r,s,Yc);if(0===l)return 0;var u=Ku(e,n,r);if(u>=0&&u<=1){for(var c=0,h=Xu(e,n,r,u),p=0;p<l;p++){var d=0===Yc[p]||1===Yc[p]?.5:1,f=Xu(t,i,a,Yc[p]);f<o||(Yc[p]<u?c+=h<e?d:-d:c+=r<h?d:-d)}return c}d=0===Yc[0]||1===Yc[0]?.5:1,f=Xu(t,i,a,Yc[0]);return f<o?0:r<e?d:-d}function th(t,e,i,n,a,r,o,s){if(s-=e,s>i||s<-i)return 0;var l=Math.sqrt(i*i-s*s);Yc[0]=-l,Yc[1]=l;var u=Math.abs(n-a);if(u<1e-4)return 0;if(u>=Uc-1e-4){n=0,a=Uc;var c=r?1:-1;return o>=Yc[0]+t&&o<=Yc[1]+t?c:0}if(n>a){var h=n;n=a,a=h}n<0&&(n+=Uc,a+=Uc);for(var p=0,d=0;d<2;d++){var f=Yc[d];if(f+t>o){var g=Math.atan2(s,f);c=r?1:-1;g<0&&(g=Uc+g),(g>=n&&g<=a||g+Uc>=n&&g+Uc<=a)&&(g>Math.PI/2&&g<1.5*Math.PI&&(c=-c),p+=c)}}return p}function eh(t,e,i,n,a){for(var r,o,s=t.data,l=t.len(),u=0,c=0,h=0,p=0,d=0,f=0;f<l;){var g=s[f++],m=1===f;switch(g===$c.M&&f>1&&(i||(u+=jc(c,h,p,d,n,a))),m&&(c=s[f],h=s[f+1],p=c,d=h),g){case $c.M:p=s[f++],d=s[f++],c=p,h=d;break;case $c.L:if(i){if(Nc(c,h,s[f],s[f+1],e,n,a))return!0}else u+=jc(c,h,s[f],s[f+1],n,a)||0;c=s[f++],h=s[f++];break;case $c.C:if(i){if(Ec(c,h,s[f++],s[f++],s[f++],s[f++],s[f],s[f+1],e,n,a))return!0}else u+=Qc(c,h,s[f++],s[f++],s[f++],s[f++],s[f],s[f+1],n,a)||0;c=s[f++],h=s[f++];break;case $c.Q:if(i){if(Bc(c,h,s[f++],s[f++],s[f],s[f+1],e,n,a))return!0}else u+=Jc(c,h,s[f++],s[f++],s[f],s[f+1],n,a)||0;c=s[f++],h=s[f++];break;case $c.A:var y=s[f++],v=s[f++],_=s[f++],x=s[f++],b=s[f++],S=s[f++];f+=1;var w=!!(1-s[f++]);r=Math.cos(b)*_+y,o=Math.sin(b)*x+v,m?(p=r,d=o):u+=jc(c,h,r,o,n,a);var C=(n-y)*x/_+y;if(i){if(Hc(y,v,x,b,b+S,w,e,C,a))return!0}else u+=th(y,v,x,b,b+S,w,C,a);c=Math.cos(b+S)*_+y,h=Math.sin(b+S)*x+v;break;case $c.R:p=c=s[f++],d=h=s[f++];var T=s[f++],k=s[f++];if(r=p+T,o=d+k,i){if(Nc(p,d,r,d,e,n,a)||Nc(r,d,r,o,e,n,a)||Nc(r,o,p,o,e,n,a)||Nc(p,o,p,d,e,n,a))return!0}else u+=jc(r,d,r,o,n,a),u+=jc(p,o,p,d,n,a);break;case $c.Z:if(i){if(Nc(c,h,p,d,e,n,a))return!0}else u+=jc(c,h,p,d,n,a);c=p,h=d;break}}return i||Xc(h,d)||(u+=jc(c,h,p,d,n,a)||0),0!==u}function ih(t,e,i){return eh(t,0,!1,e,i)}function nh(t,e,i,n){return eh(t,e,!0,i,n)}var ah=an({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Su),rh={style:an({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},wu.style)},oh=["x","y","rotation","scaleX","scaleY","originX","originY","invisible","culling","z","z2","zlevel","parent"],sh=function(t){function e(e){return t.call(this,e)||this}return Ri(e,t),e.prototype.update=function(){var i=this;t.prototype.update.call(this);var n=this.style;if(n.decal){var a=this._decalEl=this._decalEl||new e;a.buildPath===e.prototype.buildPath&&(a.buildPath=function(t){i.buildPath(t,i.shape)}),a.silent=!0;var r=a.style;for(var o in n)r[o]!==n[o]&&(r[o]=n[o]);r.fill=n.fill?n.decal:null,r.decal=null,r.shadowColor=null,n.strokeFirst&&(r.stroke=null);for(var s=0;s<oh.length;++s)a[oh[s]]=this[oh[s]];a.__dirty|=jo.REDARAW_BIT}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var i=fn(e);this.shape=this.getDefaultShape();var n=this.getDefaultStyle();n&&this.useStyle(n);for(var a=0;a<i.length;a++){var r=i[a],o=e[r];"style"===r?this.style?nn(this.style,o):this.useStyle(o):"shape"===r?nn(this.shape,o):t.prototype.attrKV.call(this,r,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(xn(t)){var e=Ar(t,0);return e>.5?Po:e>.2?Do:Lo}if(t)return Lo}return Po},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if(xn(e)){var i=this.__zr,n=!(!i||!i.isDarkMode()),a=Ar(t,0)<Mo;if(n===a)return e}},e.prototype.buildPath=function(t,e,i){},e.prototype.pathUpdated=function(){this.__dirty&=~e.SHAPE_CHANGED_BIT},e.prototype.createPathProxy=function(){this.path=new Fc(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,e=t.fill;return null!=e&&"none"!==e},e.prototype.getBoundingRect=function(){var t=this._rect,i=this.style,n=!t;if(n){var a=!1;this.path||(a=!0,this.createPathProxy());var r=this.path;(a||this.__dirty&e.SHAPE_CHANGED_BIT)&&(r.beginPath(),this.buildPath(r,this.shape,!1),this.pathUpdated()),t=r.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){o.copy(t);var s=i.strokeNoScale?this.getLineScale():1,l=i.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;l=Math.max(l,null==u?4:u)}s>1e-10&&(o.width+=l/s,o.height+=l/s,o.x-=l/s/2,o.y-=l/s/2)}return o}return t},e.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),a=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var r=this.path;if(this.hasStroke()){var o=a.lineWidth,s=a.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),nh(r,o/s,t,e)))return!0}if(this.hasFill())return ih(r,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=e.SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,i){"shape"===e?this.setShape(i):t.prototype.attrKV.call(this,e,i)},e.prototype.setShape=function(t,e){var i=this.shape;return i||(i=this.shape={}),"string"===typeof t?i[t]=e:nn(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&e.SHAPE_CHANGED_BIT)},e.prototype.createStyle=function(t){return Wn(ah,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var i=this._normalState;e.shape&&!i.shape&&(i.shape=nn({},this.shape))},e.prototype._applyStateObj=function(e,i,n,a,r,o){t.prototype._applyStateObj.call(this,e,i,n,a,r,o);var s,l=!(i&&a);if(i&&i.shape?r?a?s=i.shape:(s=nn({},n.shape),nn(s,i.shape)):(s=nn({},a?this.shape:n.shape),nn(s,i.shape)):l&&(s=n.shape),s)if(r){this.shape=nn({},this.shape);for(var u={},c=fn(s),h=0;h<c.length;h++){var p=c[h];"object"===typeof s[p]?this.shape[p]=s[p]:u[p]=s[p]}this._transitionState(e,{shape:u},o)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var i,n=t.prototype._mergeStates.call(this,e),a=0;a<e.length;a++){var r=e[a];r.shape&&(i=i||{},this._mergeStyle(i,r.shape))}return i&&(n.shape=i),n},e.prototype.getAnimationStyleProps=function(){return rh},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var i=function(e){function i(i){var n=e.call(this,i)||this;return t.init&&t.init.call(n,i),n}return Ri(i,e),i.prototype.getDefaultStyle=function(){return tn(t.style)},i.prototype.getDefaultShape=function(){return tn(t.shape)},i}(e);for(var n in t)"function"===typeof t[n]&&(i.prototype[n]=t[n]);return i},e.SHAPE_CHANGED_BIT=4,e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=jo.REDARAW_BIT|Mu.STYLE_CHANGED_BIT|e.SHAPE_CHANGED_BIT}(),e}(Mu),lh=sh,uh=an({strokeFirst:!0,font:mo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},ah),ch=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ri(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,e=t.fill;return null!=e&&"none"!==e},e.prototype.createStyle=function(t){return Wn(uh,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var i=bo(e,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var n=t.lineWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(Mu);ch.prototype.type="tspan";var hh=ch,ph=an({x:0,y:0},Su),dh={style:an({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},wu.style)};function fh(t){return!!(t&&"string"!==typeof t&&t.width&&t.height)}var gh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ri(e,t),e.prototype.createStyle=function(t){return Wn(ph,t)},e.prototype._getSize=function(t){var e=this.style,i=e[t];if(null!=i)return i;var n=fh(e.image)?e.image:this.__image;if(!n)return 0;var a="width"===t?"height":"width",r=e[a];return null==r?n[t]:n[t]/n[a]*r},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return dh},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new fo(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(Mu);gh.prototype.type="image";var mh=gh;function yh(t,e){var i,n,a,r,o,s=e.x,l=e.y,u=e.width,c=e.height,h=e.r;u<0&&(s+=u,u=-u),c<0&&(l+=c,c=-c),"number"===typeof h?i=n=a=r=h:h instanceof Array?1===h.length?i=n=a=r=h[0]:2===h.length?(i=a=h[0],n=r=h[1]):3===h.length?(i=h[0],n=r=h[1],a=h[2]):(i=h[0],n=h[1],a=h[2],r=h[3]):i=n=a=r=0,i+n>u&&(o=i+n,i*=u/o,n*=u/o),a+r>u&&(o=a+r,a*=u/o,r*=u/o),n+a>c&&(o=n+a,n*=c/o,a*=c/o),i+r>c&&(o=i+r,i*=c/o,r*=c/o),t.moveTo(s+i,l),t.lineTo(s+u-n,l),0!==n&&t.arc(s+u-n,l+n,n,-Math.PI/2,0),t.lineTo(s+u,l+c-a),0!==a&&t.arc(s+u-a,l+c-a,a,0,Math.PI/2),t.lineTo(s+r,l+c),0!==r&&t.arc(s+r,l+c-r,r,Math.PI/2,Math.PI),t.lineTo(s,l+i),0!==i&&t.arc(s+i,l+i,i,Math.PI,1.5*Math.PI)}var vh=Math.round;function _h(t,e,i){if(e){var n=e.x1,a=e.x2,r=e.y1,o=e.y2;t.x1=n,t.x2=a,t.y1=r,t.y2=o;var s=i&&i.lineWidth;return s?(vh(2*n)===vh(2*a)&&(t.x1=t.x2=bh(n,s,!0)),vh(2*r)===vh(2*o)&&(t.y1=t.y2=bh(r,s,!0)),t):t}}function xh(t,e,i){if(e){var n=e.x,a=e.y,r=e.width,o=e.height;t.x=n,t.y=a,t.width=r,t.height=o;var s=i&&i.lineWidth;return s?(t.x=bh(n,s,!0),t.y=bh(a,s,!0),t.width=Math.max(bh(n+r,s,!1)-t.x,0===r?0:1),t.height=Math.max(bh(a+o,s,!1)-t.y,0===o?0:1),t):t}}function bh(t,e,i){if(!e)return t;var n=vh(2*t);return(n+vh(e))%2===0?n/2:(n+(i?1:-1))/2}var Sh=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),wh={},Ch=function(t){function e(e){return t.call(this,e)||this}return Ri(e,t),e.prototype.getDefaultShape=function(){return new Sh},e.prototype.buildPath=function(t,e){var i,n,a,r;if(this.subPixelOptimize){var o=xh(wh,e,this.style);i=o.x,n=o.y,a=o.width,r=o.height,o.r=e.r,e=o}else i=e.x,n=e.y,a=e.width,r=e.height;e.r?yh(t,e):t.rect(i,n,a,r)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(lh);Ch.prototype.type="rect";var Th=Ch,kh={fill:"#000"},Ih=2,zh={style:an({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},wu.style)},Mh=function(t){function e(e){var i=t.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=kh,i.attr(e),i}return Ri(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var i=this._children[e];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}var n=this.attachedTransform;if(n){n.updateTransform();var a=n.transform;a?(this.transform=this.transform||[],Ya(this.transform,a)):this.transform=null}else t.prototype.update.call(this)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),this.attachedTransform?this.attachedTransform.getComputedTransform():t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,Dh(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new fo(0,0,0,0),e=this._children,i=[],n=null,a=0;a<e.length;a++){var r=e[a],o=r.getBoundingRect(),s=r.getLocalTransform(i);s?(t.copy(o),t.applyTransform(s),n=n||t.clone(),n.union(t)):(n=n||o.clone(),n.union(o))}this._rect=n||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||kh},e.prototype.setTextContent=function(t){throw new Error("Can't attach text on another text")},e.prototype._mergeStyle=function(t,e){if(!e)return t;var i=e.rich,n=t.rich||i&&{};return nn(t,e),i&&n?(this._mergeRich(n,i),t.rich=n):n&&(t.rich=n),t},e.prototype._mergeRich=function(t,e){for(var i=fn(e),n=0;n<i.length;n++){var a=i[n];t[a]=t[a]||{},nn(t[a],e[a])}},e.prototype.getAnimationStyleProps=function(){return zh},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||mo,i=t.padding,n=Nh(t),a=hu(n,t),r=Eh(t),o=!!t.backgroundColor,s=a.outerHeight,l=a.lines,u=a.lineHeight,c=this._defaultStyle,h=t.x||0,p=t.y||0,d=t.align||c.align||"left",f=t.verticalAlign||c.verticalAlign||"top",g=h,m=wo(p,a.contentHeight,f);if(r||i){var y=a.width;i&&(y+=i[1]+i[3]);var v=So(h,y,d),_=wo(p,s,f);r&&this._renderBackground(t,t,v,_,y,s)}m+=u/2,i&&(g=Fh(h,d,i),"top"===f?m+=i[0]:"bottom"===f&&(m-=i[2]));for(var x=0,b=!1,S=(Oh("fill"in t?t.fill:(b=!0,c.fill))),w=(Ah("stroke"in t?t.stroke:o||c.autoStroke&&!b?null:(x=Ih,c.stroke))),C=t.textShadowBlur>0,T=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),k=a.calculatedLineHeight,I=0;I<l.length;I++){var z=this._getOrCreateChild(hh),M=z.createStyle();z.useStyle(M),M.text=l[I],M.x=g,M.y=m,d&&(M.textAlign=d),M.textBaseline="middle",M.opacity=t.opacity,M.strokeFirst=!0,C&&(M.shadowBlur=t.textShadowBlur||0,M.shadowColor=t.textShadowColor||"transparent",M.shadowOffsetX=t.textShadowOffsetX||0,M.shadowOffsetY=t.textShadowOffsetY||0),w&&(M.stroke=w,M.lineWidth=t.lineWidth||x,M.lineDash=t.lineDash,M.lineDashOffset=t.lineDashOffset||0),S&&(M.fill=S),M.font=e,m+=u,T&&z.setBoundingRect(new fo(So(M.x,t.width,M.textAlign),wo(M.y,k,M.textBaseline),t.width,k))}},e.prototype._updateRichTexts=function(){var t=this.style,e=Nh(t),i=gu(e,t),n=i.width,a=i.outerWidth,r=i.outerHeight,o=t.padding,s=t.x||0,l=t.y||0,u=this._defaultStyle,c=t.align||u.align,h=t.verticalAlign||u.verticalAlign,p=So(s,a,c),d=wo(l,r,h),f=p,g=d;o&&(f+=o[3],g+=o[0]);var m=f+n;Eh(t)&&this._renderBackground(t,t,p,d,a,r);for(var y=!!t.backgroundColor,v=0;v<i.lines.length;v++){var _=i.lines[v],x=_.tokens,b=x.length,S=_.lineHeight,w=_.width,C=0,T=f,k=m,I=b-1,z=void 0;while(C<b&&(z=x[C],!z.align||"left"===z.align))this._placeToken(z,t,S,g,T,"left",y),w-=z.width,T+=z.width,C++;while(I>=0&&(z=x[I],"right"===z.align))this._placeToken(z,t,S,g,k,"right",y),w-=z.width,k-=z.width,I--;T+=(n-(T-f)-(m-k)-w)/2;while(C<=I)z=x[C],this._placeToken(z,t,S,g,T+z.width/2,"center",y),T+=z.width,C++;g+=S}},e.prototype._placeToken=function(t,e,i,n,a,r,o){var s=e.rich[t.styleName]||{};s.text=t.text;var l=t.verticalAlign,u=n+i/2;"top"===l?u=n+t.height/2:"bottom"===l&&(u=n+i-t.height/2);var c=!t.isLineHolder&&Eh(s);c&&this._renderBackground(s,e,"right"===r?a-t.width:"center"===r?a-t.width/2:a,u-t.height/2,t.width,t.height);var h=!!s.backgroundColor,p=t.textPadding;p&&(a=Fh(a,r,p),u-=t.height/2-p[0]-t.innerHeight/2);var d=this._getOrCreateChild(hh),f=d.createStyle();d.useStyle(f);var g=this._defaultStyle,m=!1,y=0,v=Ah("fill"in s?s.fill:"fill"in e?e.fill:(m=!0,g.fill)),_=Ah("stroke"in s?s.stroke:"stroke"in e?e.stroke:h||o||g.autoStroke&&!m?null:(y=Ih,g.stroke)),x=s.textShadowBlur>0||e.textShadowBlur>0;f.text=t.text,f.x=a,f.y=u,x&&(f.shadowBlur=s.textShadowBlur||e.textShadowBlur||0,f.shadowColor=s.textShadowColor||e.textShadowColor||"transparent",f.shadowOffsetX=s.textShadowOffsetX||e.textShadowOffsetX||0,f.shadowOffsetY=s.textShadowOffsetY||e.textShadowOffsetY||0),f.textAlign=r,f.textBaseline="middle",f.font=t.font||mo,f.opacity=Dn(s.opacity,e.opacity,1),_&&(f.lineWidth=Dn(s.lineWidth,e.lineWidth,y),f.lineDash=Ln(s.lineDash,e.lineDash),f.lineDashOffset=e.lineDashOffset||0,f.stroke=_),v&&(f.fill=v);var b=t.contentWidth,S=t.contentHeight;d.setBoundingRect(new fo(So(f.x,b,f.textAlign),wo(f.y,S,f.textBaseline),b,S))},e.prototype._renderBackground=function(t,e,i,n,a,r){var o,s,l=t.backgroundColor,u=t.borderWidth,c=t.borderColor,h=xn(l),p=t.borderRadius,d=this;if(h||u&&c){o=this._getOrCreateChild(Th),o.useStyle(o.createStyle()),o.style.fill=null;var f=o.shape;f.x=i,f.y=n,f.width=a,f.height=r,f.r=p,o.dirtyShape()}if(h){var g=o.style;g.fill=l||null,g.fillOpacity=Ln(t.fillOpacity,1)}else if(l&&l.image){s=this._getOrCreateChild(mh),s.onload=function(){d.dirtyStyle()};var m=s.style;m.image=l.image,m.x=i,m.y=n,m.width=a,m.height=r}if(u&&c){g=o.style;g.lineWidth=u,g.stroke=c,g.strokeOpacity=Ln(t.strokeOpacity,1),g.lineDash=t.borderDash,g.lineDashOffset=t.borderDashOffset||0,o.strokeContainThreshold=0,o.hasFill()&&o.hasStroke()&&(g.strokeFirst=!0,g.lineWidth*=2)}var y=(o||s).style;y.shadowBlur=t.shadowBlur||0,y.shadowColor=t.shadowColor||"transparent",y.shadowOffsetX=t.shadowOffsetX||0,y.shadowOffsetY=t.shadowOffsetY||0,y.opacity=Dn(t.opacity,e.opacity,1)},e.makeFont=function(t){var e="";if(t.fontSize||t.fontFamily||t.fontWeight){var i="";i="string"!==typeof t.fontSize||-1===t.fontSize.indexOf("px")&&-1===t.fontSize.indexOf("rem")&&-1===t.fontSize.indexOf("em")?isNaN(+t.fontSize)?"12px":t.fontSize+"px":t.fontSize,e=[t.fontStyle,t.fontWeight,i,t.fontFamily||"sans-serif"].join(" ")}return e&&Fn(e)||t.textFont||t.font},e}(Mu),Ph={left:!0,right:1,center:1},Lh={top:1,bottom:1,middle:1};function Dh(t){return Rh(t),cn(t.rich,Rh),t}function Rh(t){if(t){t.font=Mh.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||Ph[e]?e:"left";var i=t.verticalAlign;"center"===i&&(i="middle"),t.verticalAlign=null==i||Lh[i]?i:"top";var n=t.padding;n&&(t.padding=An(t.padding))}}function Ah(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function Oh(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Fh(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function Nh(t){var e=t.text;return null!=e&&(e+=""),e}function Eh(t){return!!(t.backgroundColor||t.borderWidth&&t.borderColor)}var Bh=Mh,Vh=Il(),Gh=1,Wh={},Hh=Il(),jh=0,$h=1,Uh=2,qh=["emphasis","blur","select"],Xh=["normal","emphasis","blur","select"],Yh=10,Zh=9,Kh="highlight",Qh="downplay",Jh="select",tp="unselect",ep="toggleSelect";function ip(t){return null!=t&&"none"!==t}var np=new yr(100);function ap(t){if("string"!==typeof t)return t;var e=np.get(t);return e||(e=Lr(t,-.1),np.put(t,e)),e}function rp(t,e,i){t.onHoverStateChange&&(t.hoverState||0)!==i&&t.onHoverStateChange(e),t.hoverState=i}function op(t){rp(t,"emphasis",Uh)}function sp(t){t.hoverState===Uh&&rp(t,"normal",jh)}function lp(t){rp(t,"blur",$h)}function up(t){t.hoverState===$h&&rp(t,"normal",jh)}function cp(t){t.selected=!0}function hp(t){t.selected=!1}function pp(t,e,i){e(t,i)}function dp(t,e,i){pp(t,e,i),t.isGroup&&t.traverse((function(t){pp(t,e,i)}))}function fp(t,e,i,n){for(var a=t.style,r={},o=0;o<e.length;o++){var s=e[o],l=a[s];r[s]=null==l?n&&n[s]:l}for(o=0;o<t.animators.length;o++){var u=t.animators[o];u.__fromStateTransition&&u.__fromStateTransition.indexOf(i)<0&&"style"===u.targetName&&u.saveFinalToTarget(r,e)}return r}function gp(t,e,i,n){var a=i&&on(i,"select")>=0,r=!1;if(t instanceof lh){var o=Hh(t),s=a&&o.selectFill||o.normalFill,l=a&&o.selectStroke||o.normalStroke;if(ip(s)||ip(l)){n=n||{};var u=n.style||{};!ip(u.fill)&&ip(s)?(r=!0,n=nn({},n),u=nn({},u),u.fill=ap(s)):!ip(u.stroke)&&ip(l)&&(r||(n=nn({},n),u=nn({},u)),u.stroke=ap(l)),n.style=u}}if(n&&null==n.z2){r||(n=nn({},n));var c=t.z2EmphasisLift;n.z2=t.z2+(null!=c?c:Yh)}return n}function mp(t,e,i){if(i&&null==i.z2){i=nn({},i);var n=t.z2SelectLift;i.z2=t.z2+(null!=n?n:Zh)}return i}function yp(t,e,i){var n=on(t.currentStates,e)>=0,a=t.style.opacity,r=n?null:fp(t,["opacity"],e,{opacity:1});i=i||{};var o=i.style||{};return null==o.opacity&&(i=nn({},i),o=nn({opacity:n?a:.1*r.opacity},o),i.style=o),i}function vp(t,e){var i=this.states[t];if(this.style){if("emphasis"===t)return gp(this,t,e,i);if("blur"===t)return yp(this,t,i);if("select"===t)return mp(this,t,i)}return i}function _p(t){t.stateProxy=vp;var e=t.getTextContent(),i=t.getTextGuideLine();e&&(e.stateProxy=vp),i&&(i.stateProxy=vp)}function xp(t,e){!zp(t,e)&&!t.__highByOuter&&dp(t,op)}function bp(t,e){!zp(t,e)&&!t.__highByOuter&&dp(t,sp)}function Sp(t,e){t.__highByOuter|=1<<(e||0),dp(t,op)}function wp(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&dp(t,sp)}function Cp(t){dp(t,lp)}function Tp(t){dp(t,up)}function kp(t){dp(t,cp)}function Ip(t){dp(t,hp)}function zp(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Mp(t){var e=t.getModel();e.eachComponent((function(e,i){var n="series"===e?t.getViewOfSeriesModel(i):t.getViewOfComponentModel(i);n.group.traverse((function(t){up(t)}))}))}function Pp(t,e,i,n){var a=n.getModel();function r(t,e){for(var i=0;i<e.length;i++){var n=t.getItemGraphicEl(e[i]);n&&Tp(n)}}if(i=i||"coordinateSystem",null!=t&&e&&"none"!==e){var o=a.getSeriesByIndex(t),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];a.eachSeries((function(t){var a=o===t,u=t.coordinateSystem;u&&u.master&&(u=u.master);var c=u&&s?u===s:a;if(!("series"===i&&!a||"coordinateSystem"===i&&!c||"series"===e&&a)){var h=n.getViewOfSeriesModel(t);if(h.group.traverse((function(t){lp(t)})),un(e))r(t.getData(),e);else if(wn(e))for(var p=fn(e),d=0;d<p.length;d++)r(t.getData(p[d]),e[p[d]]);l.push(t)}})),a.eachComponent((function(t,e){if("series"!==t){var i=n.getViewOfComponentModel(e);i&&i.blurSeries&&i.blurSeries(l,a)}}))}}function Lp(t,e,i){if(null!=t&&null!=e){var n=i.getModel().getComponent(t,e);if(n){var a=i.getViewOfComponentModel(n);a&&a.focusBlurEnabled&&a.group.traverse((function(t){lp(t)}))}}}function Dp(t,e,i){var n=t.seriesIndex,a=t.getData(e.dataType),r=kl(a,e);r=(vn(r)?r[0]:r)||0;var o=a.getItemGraphicEl(r);if(!o){var s=a.count(),l=0;while(!o&&l<s)o=a.getItemGraphicEl(l++)}if(o){var u=Vh(o);Pp(n,u.focus,u.blurScope,i)}else{var c=t.get(["emphasis","focus"]),h=t.get(["emphasis","blurScope"]);null!=c&&Pp(n,c,h,i)}}function Rp(t,e,i,n){var a={focusSelf:!1,dispatchers:null};if(null==t||"series"===t||null==e||null==i)return a;var r=n.getModel().getComponent(t,e);if(!r)return a;var o=n.getViewOfComponentModel(r);if(!o||!o.findHighDownDispatchers)return a;for(var s,l=o.findHighDownDispatchers(i),u=0;u<l.length;u++)if("self"===Vh(l[u]).focus){s=!0;break}return{focusSelf:s,dispatchers:l}}function Ap(t,e,i){var n=Vh(t),a=Rp(n.componentMainType,n.componentIndex,n.componentHighDownName,i),r=a.dispatchers,o=a.focusSelf;r?(o&&Lp(n.componentMainType,n.componentIndex,i),cn(r,(function(t){return xp(t,e)}))):(Pp(n.seriesIndex,n.focus,n.blurScope,i),"self"===n.focus&&Lp(n.componentMainType,n.componentIndex,i),xp(t,e))}function Op(t,e,i){Mp(i);var n=Vh(t),a=Rp(n.componentMainType,n.componentIndex,n.componentHighDownName,i).dispatchers;a?cn(a,(function(t){return bp(t,e)})):bp(t,e)}function Fp(t,e,i){if(qp(e)){var n=e.dataType,a=t.getData(n),r=kl(a,e);vn(r)||(r=[r]),t[e.type===ep?"toggleSelect":e.type===Jh?"select":"unselect"](r,n)}}function Np(t){var e=t.getAllData();cn(e,(function(e){var i=e.data,n=e.type;i.eachItemGraphicEl((function(e,i){t.isSelected(i,n)?kp(e):Ip(e)}))}))}function Ep(t){var e=[];return t.eachSeries((function(t){var i=t.getAllData();cn(i,(function(i){i.data;var n=i.type,a=t.getSelectedDataIndices();if(a.length>0){var r={dataIndex:a,seriesIndex:t.seriesIndex};null!=n&&(r.dataType=n),e.push(r)}}))})),e}function Bp(t,e,i){jp(t,!0),dp(t,_p),Vp(t,e,i)}function Vp(t,e,i){var n=Vh(t);null!=e?(n.focus=e,n.blurScope=i):n.focus&&(n.focus=null)}var Gp=["emphasis","blur","select"],Wp={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Hp(t,e,i,n){i=i||"itemStyle";for(var a=0;a<Gp.length;a++){var r=Gp[a],o=e.getModel([r,i]),s=t.ensureState(r);s.style=n?n(o):o[Wp[i]]()}}function jp(t,e){var i=!1===e,n=t;t.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=t.highDownSilentOnTouch),i&&!n.__highDownDispatcher||(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!i)}function $p(t){return!(!t||!t.__highDownDispatcher)}function Up(t){var e=Wh[t];return null==e&&Gh<=32&&(e=Wh[t]=Gh++),e}function qp(t){var e=t.type;return e===Jh||e===tp||e===ep}function Xp(t){var e=t.type;return e===Kh||e===Qh}function Yp(t){var e=Hh(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var i=t.states.select||{};e.selectFill=i.style&&i.style.fill||null,e.selectStroke=i.style&&i.style.stroke||null}var Zp=Fc.CMD,Kp=[[],[],[]],Qp=Math.sqrt,Jp=Math.atan2;function td(t,e){var i,n,a,r,o,s,l=t.data,u=t.len(),c=Zp.M,h=Zp.C,p=Zp.L,d=Zp.R,f=Zp.A,g=Zp.Q;for(a=0,r=0;a<u;){switch(i=l[a++],r=a,n=0,i){case c:n=1;break;case p:n=1;break;case h:n=3;break;case g:n=2;break;case f:var m=e[4],y=e[5],v=Qp(e[0]*e[0]+e[1]*e[1]),_=Qp(e[2]*e[2]+e[3]*e[3]),x=Jp(-e[1]/_,e[0]/v);l[a]*=v,l[a++]+=m,l[a]*=_,l[a++]+=y,l[a++]*=v,l[a++]*=_,l[a++]+=x,l[a++]+=x,a+=2,r=a;break;case d:s[0]=l[a++],s[1]=l[a++],aa(s,s,e),l[r++]=s[0],l[r++]=s[1],s[0]+=l[a++],s[1]+=l[a++],aa(s,s,e),l[r++]=s[0],l[r++]=s[1]}for(o=0;o<n;o++){var b=Kp[o];b[0]=l[a++],b[1]=l[a++],aa(b,b,e),l[r++]=b[0],l[r++]=b[1]}}t.increaseVersion()}var ed=Math.sqrt,id=Math.sin,nd=Math.cos,ad=Math.PI;function rd(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function od(t,e){return(t[0]*e[0]+t[1]*e[1])/(rd(t)*rd(e))}function sd(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(od(t,e))}function ld(t,e,i,n,a,r,o,s,l,u,c){var h=l*(ad/180),p=nd(h)*(t-i)/2+id(h)*(e-n)/2,d=-1*id(h)*(t-i)/2+nd(h)*(e-n)/2,f=p*p/(o*o)+d*d/(s*s);f>1&&(o*=ed(f),s*=ed(f));var g=(a===r?-1:1)*ed((o*o*(s*s)-o*o*(d*d)-s*s*(p*p))/(o*o*(d*d)+s*s*(p*p)))||0,m=g*o*d/s,y=g*-s*p/o,v=(t+i)/2+nd(h)*m-id(h)*y,_=(e+n)/2+id(h)*m+nd(h)*y,x=sd([1,0],[(p-m)/o,(d-y)/s]),b=[(p-m)/o,(d-y)/s],S=[(-1*p-m)/o,(-1*d-y)/s],w=sd(b,S);if(od(b,S)<=-1&&(w=ad),od(b,S)>=1&&(w=0),w<0){var C=Math.round(w/ad*1e6)/1e6;w=2*ad+C%2*ad}c.addData(u,v,_,o,s,x,w,h,r)}var ud=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,cd=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function hd(t){var e=new Fc;if(!t)return e;var i,n=0,a=0,r=n,o=a,s=Fc.CMD,l=t.match(ud);if(!l)return e;for(var u=0;u<l.length;u++){for(var c=l[u],h=c.charAt(0),p=void 0,d=c.match(cd)||[],f=d.length,g=0;g<f;g++)d[g]=parseFloat(d[g]);var m=0;while(m<f){var y=void 0,v=void 0,_=void 0,x=void 0,b=void 0,S=void 0,w=void 0,C=n,T=a,k=void 0,I=void 0;switch(h){case"l":n+=d[m++],a+=d[m++],p=s.L,e.addData(p,n,a);break;case"L":n=d[m++],a=d[m++],p=s.L,e.addData(p,n,a);break;case"m":n+=d[m++],a+=d[m++],p=s.M,e.addData(p,n,a),r=n,o=a,h="l";break;case"M":n=d[m++],a=d[m++],p=s.M,e.addData(p,n,a),r=n,o=a,h="L";break;case"h":n+=d[m++],p=s.L,e.addData(p,n,a);break;case"H":n=d[m++],p=s.L,e.addData(p,n,a);break;case"v":a+=d[m++],p=s.L,e.addData(p,n,a);break;case"V":a=d[m++],p=s.L,e.addData(p,n,a);break;case"C":p=s.C,e.addData(p,d[m++],d[m++],d[m++],d[m++],d[m++],d[m++]),n=d[m-2],a=d[m-1];break;case"c":p=s.C,e.addData(p,d[m++]+n,d[m++]+a,d[m++]+n,d[m++]+a,d[m++]+n,d[m++]+a),n+=d[m-2],a+=d[m-1];break;case"S":y=n,v=a,k=e.len(),I=e.data,i===s.C&&(y+=n-I[k-4],v+=a-I[k-3]),p=s.C,C=d[m++],T=d[m++],n=d[m++],a=d[m++],e.addData(p,y,v,C,T,n,a);break;case"s":y=n,v=a,k=e.len(),I=e.data,i===s.C&&(y+=n-I[k-4],v+=a-I[k-3]),p=s.C,C=n+d[m++],T=a+d[m++],n+=d[m++],a+=d[m++],e.addData(p,y,v,C,T,n,a);break;case"Q":C=d[m++],T=d[m++],n=d[m++],a=d[m++],p=s.Q,e.addData(p,C,T,n,a);break;case"q":C=d[m++]+n,T=d[m++]+a,n+=d[m++],a+=d[m++],p=s.Q,e.addData(p,C,T,n,a);break;case"T":y=n,v=a,k=e.len(),I=e.data,i===s.Q&&(y+=n-I[k-4],v+=a-I[k-3]),n=d[m++],a=d[m++],p=s.Q,e.addData(p,y,v,n,a);break;case"t":y=n,v=a,k=e.len(),I=e.data,i===s.Q&&(y+=n-I[k-4],v+=a-I[k-3]),n+=d[m++],a+=d[m++],p=s.Q,e.addData(p,y,v,n,a);break;case"A":_=d[m++],x=d[m++],b=d[m++],S=d[m++],w=d[m++],C=n,T=a,n=d[m++],a=d[m++],p=s.A,ld(C,T,n,a,S,w,_,x,b,p,e);break;case"a":_=d[m++],x=d[m++],b=d[m++],S=d[m++],w=d[m++],C=n,T=a,n+=d[m++],a+=d[m++],p=s.A,ld(C,T,n,a,S,w,_,x,b,p,e);break}}"z"!==h&&"Z"!==h||(p=s.Z,e.addData(p),n=r,a=o),i=p}return e.toStatic(),e}var pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ri(e,t),e.prototype.applyTransform=function(t){},e}(lh);function dd(t){return null!=t.setData}function fd(t,e){var i=hd(t),n=nn({},e);return n.buildPath=function(t){if(dd(t)){t.setData(i.data);var e=t.getContext();e&&t.rebuildPath(e,1)}else{e=t;i.rebuildPath(e,1)}},n.applyTransform=function(t){td(i,t),this.dirtyShape()},n}function gd(t,e){return new pd(fd(t,e))}function md(t,e){var i=fd(t,e),n=function(t){function e(e){var n=t.call(this,e)||this;return n.applyTransform=i.applyTransform,n.buildPath=i.buildPath,n}return Ri(e,t),e}(pd);return n}function yd(t,e){for(var i=[],n=t.length,a=0;a<n;a++){var r=t[a];r.path||r.createPathProxy(),r.shapeChanged()&&r.buildPath(r.path,r.shape,!0),i.push(r.path)}var o=new lh(e);return o.createPathProxy(),o.buildPath=function(t){if(dd(t)){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e,1)}},o}var vd=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),_d=function(t){function e(e){return t.call(this,e)||this}return Ri(e,t),e.prototype.getDefaultShape=function(){return new vd},e.prototype.buildPath=function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(lh);_d.prototype.type="circle";var xd=_d,bd=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),Sd=function(t){function e(e){return t.call(this,e)||this}return Ri(e,t),e.prototype.getDefaultShape=function(){return new bd},e.prototype.buildPath=function(t,e){var i=.5522848,n=e.cx,a=e.cy,r=e.rx,o=e.ry,s=r*i,l=o*i;t.moveTo(n-r,a),t.bezierCurveTo(n-r,a-l,n-s,a-o,n,a-o),t.bezierCurveTo(n+s,a-o,n+r,a-l,n+r,a),t.bezierCurveTo(n+r,a+l,n+s,a+o,n,a+o),t.bezierCurveTo(n-s,a+o,n-r,a+l,n-r,a),t.closePath()},e}(lh);Sd.prototype.type="ellipse";var wd=Sd,Cd=Math.PI,Td=2*Cd,kd=Math.sin,Id=Math.cos,zd=Math.acos,Md=Math.atan2,Pd=Math.abs,Ld=Math.sqrt,Dd=Math.max,Rd=Math.min,Ad=1e-4;function Od(t,e,i,n,a,r,o,s){var l=i-t,u=n-e,c=o-a,h=s-r,p=h*l-c*u;if(!(p*p<Ad))return p=(c*(e-r)-h*(t-a))/p,[t+p*l,e+p*u]}function Fd(t,e,i,n,a,r,o){var s=t-i,l=e-n,u=(o?r:-r)/Ld(s*s+l*l),c=u*l,h=-u*s,p=t+c,d=e+h,f=i+c,g=n+h,m=(p+f)/2,y=(d+g)/2,v=f-p,_=g-d,x=v*v+_*_,b=a-r,S=p*g-f*d,w=(_<0?-1:1)*Ld(Dd(0,b*b*x-S*S)),C=(S*_-v*w)/x,T=(-S*v-_*w)/x,k=(S*_+v*w)/x,I=(-S*v+_*w)/x,z=C-m,M=T-y,P=k-m,L=I-y;return z*z+M*M>P*P+L*L&&(C=k,T=I),{cx:C,cy:T,x01:-c,y01:-h,x11:C*(a/b-1),y11:T*(a/b-1)}}function Nd(t,e){var i=Dd(e.r,0),n=Dd(e.r0||0,0),a=i>0,r=n>0;if(a||r){if(a||(i=n,n=0),n>i){var o=i;i=n,n=o}var s,l=!!e.clockwise,u=e.startAngle,c=e.endAngle;if(u===c)s=0;else{var h=[u,c];Ac(h,!l),s=Pd(h[0]-h[1])}var p=e.cx,d=e.cy,f=e.cornerRadius||0,g=e.innerCornerRadius||0;if(i>Ad)if(s>Td-Ad)t.moveTo(p+i*Id(u),d+i*kd(u)),t.arc(p,d,i,u,c,!l),n>Ad&&(t.moveTo(p+n*Id(c),d+n*kd(c)),t.arc(p,d,n,c,u,l));else{var m=Pd(i-n)/2,y=Rd(m,f),v=Rd(m,g),_=v,x=y,b=i*Id(u),S=i*kd(u),w=n*Id(c),C=n*kd(c),T=void 0,k=void 0,I=void 0,z=void 0;if((y>Ad||v>Ad)&&(T=i*Id(c),k=i*kd(c),I=n*Id(u),z=n*kd(u),s<Cd)){var M=Od(b,S,I,z,T,k,w,C);if(M){var P=b-M[0],L=S-M[1],D=T-M[0],R=k-M[1],A=1/kd(zd((P*D+L*R)/(Ld(P*P+L*L)*Ld(D*D+R*R)))/2),O=Ld(M[0]*M[0]+M[1]*M[1]);_=Rd(v,(n-O)/(A-1)),x=Rd(y,(i-O)/(A+1))}}if(s>Ad)if(x>Ad){var F=Fd(I,z,b,S,i,x,l),N=Fd(T,k,w,C,i,x,l);t.moveTo(p+F.cx+F.x01,d+F.cy+F.y01),x<y?t.arc(p+F.cx,d+F.cy,x,Md(F.y01,F.x01),Md(N.y01,N.x01),!l):(t.arc(p+F.cx,d+F.cy,x,Md(F.y01,F.x01),Md(F.y11,F.x11),!l),t.arc(p,d,i,Md(F.cy+F.y11,F.cx+F.x11),Md(N.cy+N.y11,N.cx+N.x11),!l),t.arc(p+N.cx,d+N.cy,x,Md(N.y11,N.x11),Md(N.y01,N.x01),!l))}else t.moveTo(p+b,d+S),t.arc(p,d,i,u,c,!l);else t.moveTo(p+b,d+S);if(n>Ad&&s>Ad)if(_>Ad){F=Fd(w,C,T,k,n,-_,l),N=Fd(b,S,I,z,n,-_,l);t.lineTo(p+F.cx+F.x01,d+F.cy+F.y01),_<v?t.arc(p+F.cx,d+F.cy,_,Md(F.y01,F.x01),Md(N.y01,N.x01),!l):(t.arc(p+F.cx,d+F.cy,_,Md(F.y01,F.x01),Md(F.y11,F.x11),!l),t.arc(p,d,n,Md(F.cy+F.y11,F.cx+F.x11),Md(N.cy+N.y11,N.cx+N.x11),l),t.arc(p+N.cx,d+N.cy,_,Md(N.y11,N.x11),Md(N.y01,N.x01),!l))}else t.lineTo(p+w,d+C),t.arc(p,d,n,c,u,l);else t.lineTo(p+w,d+C)}else t.moveTo(p,d);t.closePath()}}var Ed=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0,this.innerCornerRadius=0}return t}(),Bd=function(t){function e(e){return t.call(this,e)||this}return Ri(e,t),e.prototype.getDefaultShape=function(){return new Ed},e.prototype.buildPath=function(t,e){Nd(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(lh);Bd.prototype.type="sector";var Vd=Bd,Gd=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),Wd=function(t){function e(e){return t.call(this,e)||this}return Ri(e,t),e.prototype.getDefaultShape=function(){return new Gd},e.prototype.buildPath=function(t,e){var i=e.cx,n=e.cy,a=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,a,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,a,!0)},e}(lh);Wd.prototype.type="ring";var Hd=Wd;function jd(t,e,i,n,a,r,o){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*o+(-3*(e-i)-2*s-l)*r+s*a+e}function $d(t,e){for(var i=t.length,n=[],a=0,r=1;r<i;r++)a+=Jn(t[r-1],t[r]);var o=a/2;o=o<i?i:o;for(r=0;r<o;r++){var s=r/(o-1)*(e?i:i-1),l=Math.floor(s),u=s-l,c=void 0,h=t[l%i],p=void 0,d=void 0;e?(c=t[(l-1+i)%i],p=t[(l+1)%i],d=t[(l+2)%i]):(c=t[0===l?l:l-1],p=t[l>i-2?i-1:l+1],d=t[l>i-3?i-1:l+2]);var f=u*u,g=u*f;n.push([jd(c[0],h[0],p[0],d[0],u,f,g),jd(c[1],h[1],p[1],d[1],u,f,g)])}return n}function Ud(t,e,i,n){var a,r,o,s,l=[],u=[],c=[],h=[];if(n){o=[1/0,1/0],s=[-1/0,-1/0];for(var p=0,d=t.length;p<d;p++)ra(o,o,t[p]),oa(s,s,t[p]);ra(o,o,n[0]),oa(s,s,n[1])}for(p=0,d=t.length;p<d;p++){var f=t[p];if(i)a=t[p?p-1:d-1],r=t[(p+1)%d];else{if(0===p||p===d-1){l.push(Un(t[p]));continue}a=t[p-1],r=t[p+1]}Xn(u,r,a),Kn(u,u,e);var g=Jn(f,a),m=Jn(f,r),y=g+m;0!==y&&(g/=y,m/=y),Kn(c,u,-g),Kn(h,u,m);var v=qn([],f,c),_=qn([],f,h);n&&(oa(v,v,o),ra(v,v,s),oa(_,_,o),ra(_,_,s)),l.push(v),l.push(_)}return i&&l.push(l.shift()),l}function qd(t,e,i){var n=e.smooth,a=e.points;if(a&&a.length>=2){if(n&&"spline"!==n){var r=Ud(a,n,i,e.smoothConstraint);t.moveTo(a[0][0],a[0][1]);for(var o=a.length,s=0;s<(i?o:o-1);s++){var l=r[2*s],u=r[2*s+1],c=a[(s+1)%o];t.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{"spline"===n&&(a=$d(a,i)),t.moveTo(a[0][0],a[0][1]);s=1;for(var h=a.length;s<h;s++)t.lineTo(a[s][0],a[s][1])}i&&t.closePath()}}var Xd=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),Yd=function(t){function e(e){return t.call(this,e)||this}return Ri(e,t),e.prototype.getDefaultShape=function(){return new Xd},e.prototype.buildPath=function(t,e){qd(t,e,!0)},e}(lh);Yd.prototype.type="polygon";var Zd=Yd,Kd=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),Qd=function(t){function e(e){return t.call(this,e)||this}return Ri(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Kd},e.prototype.buildPath=function(t,e){qd(t,e,!1)},e}(lh);Qd.prototype.type="polyline";var Jd=Qd,tf={},ef=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),nf=function(t){function e(e){return t.call(this,e)||this}return Ri(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ef},e.prototype.buildPath=function(t,e){var i,n,a,r;if(this.subPixelOptimize){var o=_h(tf,e,this.style);i=o.x1,n=o.y1,a=o.x2,r=o.y2}else i=e.x1,n=e.y1,a=e.x2,r=e.y2;var s=e.percent;0!==s&&(t.moveTo(i,n),s<1&&(a=i*(1-s)+a*s,r=n*(1-s)+r*s),t.lineTo(a,r))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(lh);nf.prototype.type="line";var af=nf,rf=[],of=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function sf(t,e,i){var n=t.cpx2,a=t.cpy2;return null===n||null===a?[(i?Wu:Gu)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?Wu:Gu)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?Yu:Xu)(t.x1,t.cpx1,t.x2,e),(i?Yu:Xu)(t.y1,t.cpy1,t.y2,e)]}var lf=function(t){function e(e){return t.call(this,e)||this}return Ri(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new of},e.prototype.buildPath=function(t,e){var i=e.x1,n=e.y1,a=e.x2,r=e.y2,o=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,c=e.percent;0!==c&&(t.moveTo(i,n),null==l||null==u?(c<1&&(Qu(i,o,a,c,rf),o=rf[1],a=rf[2],Qu(n,s,r,c,rf),s=rf[1],r=rf[2]),t.quadraticCurveTo(o,s,a,r)):(c<1&&($u(i,o,l,a,c,rf),o=rf[1],l=rf[2],a=rf[3],$u(n,s,u,r,c,rf),s=rf[1],u=rf[2],r=rf[3]),t.bezierCurveTo(o,s,l,u,a,r)))},e.prototype.pointAt=function(t){return sf(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=sf(this.shape,t,!0);return Qn(e,e)},e}(lh);lf.prototype.type="bezier-curve";var uf=lf,cf=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return t}(),hf=function(t){function e(e){return t.call(this,e)||this}return Ri(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new cf},e.prototype.buildPath=function(t,e){var i=e.cx,n=e.cy,a=Math.max(e.r,0),r=e.startAngle,o=e.endAngle,s=e.clockwise,l=Math.cos(r),u=Math.sin(r);t.moveTo(l*a+i,u*a+n),t.arc(i,n,a,r,o,!s)},e}(lh);hf.prototype.type="arc";var pf=hf,df=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="compound",e}return Ri(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),i=0;i<t.length;i++)e=e||t[i].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),lh.prototype.getBoundingRect.call(this)},e}(lh),ff=df,gf=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}(),mf=gf,yf=function(t){function e(e,i,n,a,r,o){var s=t.call(this,r)||this;return s.x=null==e?0:e,s.y=null==i?0:i,s.x2=null==n?1:n,s.y2=null==a?0:a,s.type="linear",s.global=o||!1,s}return Ri(e,t),e}(mf),vf=yf,_f=function(t){function e(e,i,n,a,r){var o=t.call(this,a)||this;return o.x=null==e?.5:e,o.y=null==i?.5:i,o.r=null==n?.5:n,o.type="radial",o.global=r||!1,o}return Ri(e,t),e}(mf),xf=_f,bf=[0,0],Sf=[0,0],wf=new no,Cf=new no,Tf=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new no;for(i=0;i<2;i++)this._axes[i]=new no;t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var i=this._corners,n=this._axes,a=t.x,r=t.y,o=a+t.width,s=r+t.height;if(i[0].set(a,r),i[1].set(o,r),i[2].set(o,s),i[3].set(a,s),e)for(var l=0;l<4;l++)i[l].transform(e);no.sub(n[0],i[1],i[0]),no.sub(n[1],i[3],i[0]),n[0].normalize(),n[1].normalize();for(l=0;l<2;l++)this._origin[l]=n[l].dot(i[0])},t.prototype.intersect=function(t,e){var i=!0,n=!e;return wf.set(1/0,1/0),Cf.set(0,0),!this._intersectCheckOneSide(this,t,wf,Cf,n,1)&&(i=!1,n)||!this._intersectCheckOneSide(t,this,wf,Cf,n,-1)&&(i=!1,n)||n||no.copy(e,i?wf:Cf),i},t.prototype._intersectCheckOneSide=function(t,e,i,n,a,r){for(var o=!0,s=0;s<2;s++){var l=this._axes[s];if(this._getProjMinMaxOnAxis(s,t._corners,bf),this._getProjMinMaxOnAxis(s,e._corners,Sf),bf[1]<Sf[0]||bf[0]>Sf[1]){if(o=!1,a)return o;var u=Math.abs(Sf[0]-bf[1]),c=Math.abs(bf[0]-Sf[1]);Math.min(u,c)>n.len()&&(u<c?no.scale(n,l,-u*r):no.scale(n,l,c*r))}else if(i){u=Math.abs(Sf[0]-bf[1]),c=Math.abs(bf[0]-Sf[1]);Math.min(u,c)<i.len()&&(u<c?no.scale(i,l,u*r):no.scale(i,l,-c*r))}}return o},t.prototype._getProjMinMaxOnAxis=function(t,e,i){for(var n=this._axes[t],a=this._origin,r=e[0].dot(n)+a[t],o=r,s=r,l=1;l<e.length;l++){var u=e[l].dot(n)+a[t];o=Math.min(u,o),s=Math.max(u,s)}i[0]=o,i[1]=s},t}(),kf=Tf,If=[],zf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return Ri(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this,e.update(),e.parent=null}for(t=0;t<this._temporaryDisplayables.length;t++){e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new fo(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform(If)),t.union(n)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect();if(n.contain(i[0],i[1]))for(var a=0;a<this._displayables.length;a++){var r=this._displayables[a];if(r.contain(t,e))return!0}return!1},e}(Mu),Mf=zf,Pf=Math.max,Lf=Math.min,Df={};function Rf(t){return lh.extend(t)}var Af=md;function Of(t,e){return Af(t,e)}function Ff(t,e){Df[t]=e}function Nf(t){if(Df.hasOwnProperty(t))return Df[t]}function Ef(t,e,i,n){var a=gd(t,e);return i&&("center"===n&&(i=Vf(i,a.getBoundingRect())),Wf(a,i)),a}function Bf(t,e,i){var n=new mh({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===i){var a={width:t.width,height:t.height};n.setStyle(Vf(e,a))}}});return n}function Vf(t,e){var i,n=e.width/e.height,a=t.height*n;a<=t.width?i=t.height:(a=t.width,i=a/n);var r=t.x+t.width/2,o=t.y+t.height/2;return{x:r-a/2,y:o-i/2,width:a,height:i}}var Gf=yd;function Wf(t,e){if(t.applyTransform){var i=t.getBoundingRect(),n=i.calculateTransform(e);t.applyTransform(n)}}function Hf(t){return _h(t.shape,t.shape,t.style),t}function jf(t){return xh(t.shape,t.shape,t.style),t}var $f=bh;function Uf(t,e,i,n,a,r,o){var s,l=!1;"function"===typeof a?(o=r,r=a,a=null):wn(a)&&(r=a.cb,o=a.during,l=a.isFrom,s=a.removeOpt,a=a.dataIndex);var u,c="update"===t,h="remove"===t;if(n&&n.ecModel){var p=n.ecModel.getUpdatePayload();u=p&&p.animation}var d=n&&n.isAnimationEnabled();if(h||e.stopAnimation("remove"),d){var f=void 0,g=void 0,m=void 0;u?(f=u.duration||0,g=u.easing||"cubicOut",m=u.delay||0):h?(s=s||{},f=Ln(s.duration,200),g=Ln(s.easing,"cubicOut"),m=0):(f=n.getShallow(c?"animationDurationUpdate":"animationDuration"),g=n.getShallow(c?"animationEasingUpdate":"animationEasing"),m=n.getShallow(c?"animationDelayUpdate":"animationDelay")),"function"===typeof m&&(m=m(a,n.getAnimationDelayParams?n.getAnimationDelayParams(e,a):null)),"function"===typeof f&&(f=f(a)),f>0?l?e.animateFrom(i,{duration:f,delay:m||0,easing:g,done:r,force:!!r||!!o,scope:t,during:o}):e.animateTo(i,{duration:f,delay:m||0,easing:g,done:r,force:!!r||!!o,setToFinal:!0,scope:t,during:o}):(e.stopAnimation(),!l&&e.attr(i),r&&r())}else e.stopAnimation(),!l&&e.attr(i),o&&o(1),r&&r()}function qf(t,e,i,n,a,r){Uf("update",t,e,i,n,a,r)}function Xf(t,e,i,n,a,r){Uf("init",t,e,i,n,a,r)}function Yf(t,e,i,n,a,r){Qf(t)||Uf("remove",t,e,i,n,a,r)}function Zf(t,e,i,n){t.removeTextContent(),t.removeTextGuideLine(),Yf(t,{style:{opacity:0}},e,i,n)}function Kf(t,e,i){function n(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse((function(t){t.isGroup||Zf(t,e,i,n)})):Zf(t,e,i,n)}function Qf(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var i=t.animators[e];if("remove"===i.scope)return!0}return!1}function Jf(t,e){var i=Xa([]);while(t&&t!==e)Za(i,t.getLocalTransform(),i),t=t.parent;return i}function tg(t,e,i){return e&&!un(e)&&(e=ur.getLocalTransform(e)),i&&(e=tr([],e)),aa([],t,e)}function eg(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),a=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),r=["left"===t?-n:"right"===t?n:0,"top"===t?-a:"bottom"===t?a:0];return r=tg(r,e,i),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"}function ig(t){return!t.isGroup}function ng(t){return null!=t.shape}function ag(t,e,i){if(t&&e){var n=a(t);e.traverse((function(t){if(ig(t)&&t.anid){var e=n[t.anid];if(e){var a=r(t);t.attr(r(e)),qf(t,a,i,Vh(t).dataIndex)}}}))}function a(t){var e={};return t.traverse((function(t){ig(t)&&t.anid&&(e[t.anid]=t)})),e}function r(t){var e={x:t.x,y:t.y,rotation:t.rotation};return ng(t)&&(e.shape=nn({},t.shape)),e}}function rg(t,e){return hn(t,(function(t){var i=t[0];i=Pf(i,e.x),i=Lf(i,e.x+e.width);var n=t[1];return n=Pf(n,e.y),n=Lf(n,e.y+e.height),[i,n]}))}function og(t,e){var i=Pf(t.x,e.x),n=Lf(t.x+t.width,e.x+e.width),a=Pf(t.y,e.y),r=Lf(t.y+t.height,e.y+e.height);if(n>=i&&r>=a)return{x:i,y:a,width:n-i,height:r-a}}function sg(t,e,i){var n=nn({rectHover:!0},e),a=n.style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(a.image=t.slice(8),an(a,i),new mh(n)):Ef(t.replace("path://",""),n,i,"center")}function lg(t,e,i,n,a){for(var r=0,o=a[a.length-1];r<a.length;r++){var s=a[r];if(ug(t,e,i,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function ug(t,e,i,n,a,r,o,s){var l=i-t,u=n-e,c=o-a,h=s-r,p=cg(c,h,l,u);if(hg(p))return!1;var d=t-a,f=e-r,g=cg(d,f,l,u)/p;if(g<0||g>1)return!1;var m=cg(d,f,c,h)/p;return!(m<0||m>1)}function cg(t,e,i,n){return t*n-i*e}function hg(t){return t<=1e-6&&t>=-1e-6}function pg(t){var e=t.itemTooltipOption,i=t.componentModel,n=t.itemName,a=xn(e)?{formatter:e}:e,r=i.mainType,o=i.componentIndex,s={componentType:r,name:n,$vars:["name"]};s[r+"Index"]=o;var l=t.formatterParamsExtra;l&&cn(fn(l),(function(t){Hn(s,t)||(s[t]=l[t],s.$vars.push(t))}));var u=Vh(t.el);u.componentMainType=r,u.componentIndex=o,u.tooltipConfig={name:n,option:an({content:n,formatterParams:s},a)}}Ff("circle",xd),Ff("ellipse",wd),Ff("sector",Vd),Ff("ring",Hd),Ff("polygon",Zd),Ff("polyline",Jd),Ff("rect",Th),Ff("line",af),Ff("bezierCurve",uf),Ff("arc",pf);var dg={};function fg(t,e){for(var i=0;i<qh.length;i++){var n=qh[i],a=e[n],r=t.ensureState(n);r.style=r.style||{},r.style.text=a}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(o,!0)}function gg(t,e,i){var n,a=t.labelFetcher,r=t.labelDataIndex,o=t.labelDimIndex,s=e.normal;a&&(n=a.getFormattedLabel(r,"normal",null,o,s&&s.get("formatter"),null!=i?{interpolatedValue:i}:null)),null==n&&(n=_n(t.defaultText)?t.defaultText(r,t,i):t.defaultText);for(var l={normal:n},u=0;u<qh.length;u++){var c=qh[u],h=e[c];l[c]=Ln(a?a.getFormattedLabel(r,c,null,o,h&&h.get("formatter")):null,n)}return l}function mg(t,e,i,n){i=i||dg;for(var a=t instanceof Bh,r=!1,o=0;o<Xh.length;o++){var s=e[Xh[o]];if(s&&s.getShallow("show")){r=!0;break}}var l=a?t:t.getTextContent();if(r){a||(l||(l=new Bh,t.setTextContent(l)),t.stateProxy&&(l.stateProxy=t.stateProxy));var u=gg(i,e),c=e.normal,h=!!c.getShallow("show"),p=vg(c,n&&n.normal,i,!1,!a);p.text=u.normal,a||t.setTextConfig(_g(c,i,!1));for(o=0;o<qh.length;o++){var d=qh[o];s=e[d];if(s){var f=l.ensureState(d),g=!!Ln(s.getShallow("show"),h);if(g!==h&&(f.ignore=!g),f.style=vg(s,n&&n[d],i,!0,!a),f.style.text=u[d],!a){var m=t.ensureState(d);m.textConfig=_g(s,i,!0)}}}l.silent=!!c.getShallow("silent"),null!=l.style.x&&(p.x=l.style.x),null!=l.style.y&&(p.y=l.style.y),l.ignore=!h,l.useStyle(p),l.dirty(),i.enableTextSetter&&(Ig(l).setLabelText=function(t){var n=gg(i,e,t);fg(l,n)})}else l&&(l.ignore=!0);t.dirty()}function yg(t,e){e=e||"label";for(var i={normal:t.getModel(e)},n=0;n<qh.length;n++){var a=qh[n];i[a]=t.getModel([a,e])}return i}function vg(t,e,i,n,a){var r={};return xg(r,t,i,n,a),e&&nn(r,e),r}function _g(t,e,i){e=e||{};var n,a={},r=t.getShallow("rotate"),o=Ln(t.getShallow("distance"),i?null:5),s=t.getShallow("offset");return n=t.getShallow("position")||(i?null:"inside"),"outside"===n&&(n=e.defaultOutsidePosition||"top"),null!=n&&(a.position=n),null!=s&&(a.offset=s),null!=r&&(r*=Math.PI/180,a.rotation=r),null!=o&&(a.distance=o),a.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",a}function xg(t,e,i,n,a){i=i||dg;var r,o=e.ecModel,s=o&&o.option.textStyle,l=bg(e);if(l)for(var u in r={},l)if(l.hasOwnProperty(u)){var c=e.getModel(["rich",u]);Tg(r[u]={},c,s,i,n,a,!1,!0)}r&&(t.rich=r);var h=e.get("overflow");h&&(t.overflow=h);var p=e.get("minMargin");null!=p&&(t.margin=p),Tg(t,e,s,i,n,a,!0,!1)}function bg(t){var e;while(t&&t!==t.ecModel){var i=(t.option||dg).rich;if(i){e=e||{};for(var n=fn(i),a=0;a<n.length;a++){var r=n[a];e[r]=1}}t=t.parentModel}return e}var Sg=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],wg=["align","lineHeight","width","height","tag","verticalAlign"],Cg=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Tg(t,e,i,n,a,r,o,s){i=!a&&i||dg;var l=n&&n.inheritColor,u=e.getShallow("color"),c=e.getShallow("textBorderColor"),h=Ln(e.getShallow("opacity"),i.opacity);"inherit"!==u&&"auto"!==u||(u=l||null),"inherit"!==c&&"auto"!==c||(c=l||null),r||(u=u||i.color,c=c||i.textBorderColor),null!=u&&(t.fill=u),null!=c&&(t.stroke=c);var p=Ln(e.getShallow("textBorderWidth"),i.textBorderWidth);null!=p&&(t.lineWidth=p);var d=Ln(e.getShallow("textBorderType"),i.textBorderType);null!=d&&(t.lineDash=d);var f=Ln(e.getShallow("textBorderDashOffset"),i.textBorderDashOffset);null!=f&&(t.lineDashOffset=f),a||null!=h||s||(h=n&&n.defaultOpacity),null!=h&&(t.opacity=h),a||r||null==t.fill&&n.inheritColor&&(t.fill=n.inheritColor);for(var g=0;g<Sg.length;g++){var m=Sg[g],y=Ln(e.getShallow(m),i[m]);null!=y&&(t[m]=y)}for(g=0;g<wg.length;g++){m=wg[g],y=e.getShallow(m);null!=y&&(t[m]=y)}if(null==t.verticalAlign){var v=e.getShallow("baseline");null!=v&&(t.verticalAlign=v)}if(!o||!n.disableBox){for(g=0;g<Cg.length;g++){m=Cg[g],y=e.getShallow(m);null!=y&&(t[m]=y)}var _=e.getShallow("borderType");null!=_&&(t.borderDash=_),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!l||(t.backgroundColor=l),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!l||(t.borderColor=l)}}function kg(t,e){var i=e&&e.getModel("textStyle");return Fn([t.fontStyle||i&&i.getShallow("fontStyle")||"",t.fontWeight||i&&i.getShallow("fontWeight")||"",(t.fontSize||i&&i.getShallow("fontSize")||12)+"px",t.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}var Ig=Il();function zg(t,e,i,n){if(t){var a=Ig(t);a.prevValue=a.value,a.value=i;var r=e.normal;a.valueAnimation=r.get("valueAnimation"),a.valueAnimation&&(a.precision=r.get("precision"),a.defaultInterpolatedText=n,a.statesModels=e)}}function Mg(t,e,i,n,a){var r=Ig(t);if(r.valueAnimation){var o=r.defaultInterpolatedText,s=Ln(r.interpolatedValue,r.prevValue),l=r.value;(null==s?Xf:qf)(t,{},n,e,null,u)}function u(n){var u=Fl(i,r.precision,s,l,n);r.interpolatedValue=1===n?null:u;var c=gg({labelDataIndex:e,labelFetcher:a,defaultText:o?o(u):u+""},r.statesModels,u);fg(t,c)}}var Pg=["textStyle","color"],Lg=new Bh,Dg=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Pg):null)},t.prototype.getFont=function(){return kg({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){return Lg.useStyle({text:t,fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily"),verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline"),padding:this.getShallow("padding"),lineHeight:this.getShallow("lineHeight"),rich:this.getShallow("rich")}),Lg.update(),Lg.getBoundingRect()},t}(),Rg=Dg,Ag=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],Og=Kl(Ag),Fg=function(){function t(){}return t.prototype.getLineStyle=function(t){return Og(this,t)},t}(),Ng=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],Eg=Kl(Ng),Bg=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return Eg(this,t,e)},t}(),Vg=function(){function t(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}return t.prototype.init=function(t,e,i){for(var n=[],a=3;a<arguments.length;a++)n[a-3]=arguments[a]},t.prototype.mergeOption=function(t,e){en(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var i=this.option,n=null==i?i:i[t];if(null==n&&!e){var a=this.parentModel;a&&(n=a.getShallow(t))}return n},t.prototype.getModel=function(e,i){var n=null!=e,a=n?this.parsePath(e):null,r=n?this._doGet(a):this.option;return i=i||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new t(r,i,this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){var t=this.constructor;return new t(tn(this.option))},t.prototype.parsePath=function(t){return"string"===typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!Bi.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var i=this.option;if(!t)return i;for(var n=0;n<t.length;n++)if(t[n]&&(i=i&&"object"===typeof i?i[t[n]]:null,null==i))break;return null==i&&e&&(i=e._doGet(this.resolveParentPath(t),e.parentModel)),i},t}();Hl(Vg),ql(Vg),ln(Vg,Fg),ln(Vg,Bg),ln(Vg,tu),ln(Vg,Rg);var Gg=Vg,Wg=Math.round(10*Math.random());function Hg(t){return[t||"",Wg++].join("_")}function jg(t){var e={};t.registerSubTypeDefaulter=function(t,i){var n=Vl(t);e[n.main]=i},t.determineSubType=function(i,n){var a=n.type;if(!a){var r=Vl(i).main;t.hasSubTypes(i)&&e[r]&&(a=e[r](n))}return a}}function $g(t,e){function i(t){var i={},r=[];return cn(t,(function(o){var s=n(i,o),l=s.originalDeps=e(o),u=a(l,t);s.entryCount=u.length,0===s.entryCount&&r.push(o),cn(u,(function(t){on(s.predecessor,t)<0&&s.predecessor.push(t);var e=n(i,t);on(e.successor,t)<0&&e.successor.push(o)}))})),{graph:i,noEntryList:r}}function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function a(t,e){var i=[];return cn(t,(function(t){on(e,t)>=0&&i.push(t)})),i}t.topologicalTravel=function(t,e,n,a){if(t.length){var r=i(e),o=r.graph,s=r.noEntryList,l={};cn(t,(function(t){l[t]=!0}));while(s.length){var u=s.pop(),c=o[u],h=!!l[u];h&&(n.call(a,u,c.originalDeps.slice()),delete l[u]),cn(c.successor,h?d:p)}cn(l,(function(){var t="";throw new Error(t)}))}function p(t){o[t].entryCount--,0===o[t].entryCount&&s.push(t)}function d(t){l[t]=!0,p(t)}}}function Ug(t,e){return en(en({},t,!0),e,!0)}var qg={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Guage",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Xg={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},Yg="ZH",Zg="EN",Kg=Zg,Qg={},Jg={},tm=Bi.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return t.indexOf(Yg)>-1?Yg:Kg}():Kg;function em(t,e){t=t.toUpperCase(),Jg[t]=new Gg(e),Qg[t]=e}function im(t){if(xn(t)){var e=Qg[t.toUpperCase()]||{};return t===Yg||t===Zg?tn(e):en(tn(e),tn(Qg[Kg]),!1)}return en(tn(t),tn(Qg[Kg]),!1)}function nm(t){return Jg[t]}function am(){return Jg[Kg]}em(Zg,qg),em(Yg,Xg);var rm=1e3,om=60*rm,sm=60*om,lm=24*sm,um=365*lm,cm={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{hh}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {hh}:{mm}:{ss} {SSS}"},hm="{yyyy}-{MM}-{dd}",pm={year:"{yyyy}",month:"{yyyy}-{MM}",day:hm,hour:hm+" "+cm.hour,minute:hm+" "+cm.minute,second:hm+" "+cm.second,millisecond:cm.none},dm=["year","month","day","hour","minute","second","millisecond"],fm=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function gm(t,e){return t+="","0000".substr(0,e-t.length)+t}function mm(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function ym(t){return t===mm(t)}function vm(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function _m(t,e,i,n){var a=Zs(t),r=a[wm(i)](),o=a[Cm(i)]()+1,s=Math.floor((o-1)/4)+1,l=a[Tm(i)](),u=a["get"+(i?"UTC":"")+"Day"](),c=a[km(i)](),h=(c-1)%12+1,p=a[Im(i)](),d=a[zm(i)](),f=a[Mm(i)](),g=n instanceof Gg?n:nm(n||tm)||am(),m=g.getModel("time"),y=m.get("month"),v=m.get("monthAbbr"),_=m.get("dayOfWeek"),x=m.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,r+"").replace(/{yy}/g,r%100+"").replace(/{Q}/g,s+"").replace(/{MMMM}/g,y[o-1]).replace(/{MMM}/g,v[o-1]).replace(/{MM}/g,gm(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,gm(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,_[u]).replace(/{ee}/g,x[u]).replace(/{e}/g,u+"").replace(/{HH}/g,gm(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,gm(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,gm(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,gm(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,gm(f,3)).replace(/{S}/g,f+"")}function xm(t,e,i,n,a){var r=null;if("string"===typeof i)r=i;else if("function"===typeof i)r=i(t.value,e,{level:t.level});else{var o=nn({},cm);if(t.level>0)for(var s=0;s<dm.length;++s)o[dm[s]]="{primary|"+o[dm[s]]+"}";var l=i?!1===i.inherit?i:an(i,o):o,u=bm(t.value,a);if(l[u])r=l[u];else if(l.inherit){var c=fm.indexOf(u);for(s=c-1;s>=0;--s)if(l[u]){r=l[u];break}r=r||o.none}if(vn(r)){var h=null==t.level?0:t.level>=0?t.level:r.length+t.level;h=Math.min(h,r.length-1),r=r[h]}}return _m(new Date(t.value),r,a,n)}function bm(t,e){var i=Zs(t),n=i[Cm(e)]()+1,a=i[Tm(e)](),r=i[km(e)](),o=i[Im(e)](),s=i[zm(e)](),l=i[Mm(e)](),u=0===l,c=u&&0===s,h=c&&0===o,p=h&&0===r,d=p&&1===a,f=d&&1===n;return f?"year":d?"month":p?"day":h?"hour":c?"minute":u?"second":"millisecond"}function Sm(t,e,i){var n="number"===typeof t?Zs(t):t;switch(e=e||bm(t,i),e){case"year":return n[wm(i)]();case"half-year":return n[Cm(i)]()>=6?1:0;case"quarter":return Math.floor((n[Cm(i)]()+1)/4);case"month":return n[Cm(i)]();case"day":return n[Tm(i)]();case"half-day":return n[km(i)]()/24;case"hour":return n[km(i)]();case"minute":return n[Im(i)]();case"second":return n[zm(i)]();case"millisecond":return n[Mm(i)]()}}function wm(t){return t?"getUTCFullYear":"getFullYear"}function Cm(t){return t?"getUTCMonth":"getMonth"}function Tm(t){return t?"getUTCDate":"getDate"}function km(t){return t?"getUTCHours":"getHours"}function Im(t){return t?"getUTCMinutes":"getMinutes"}function zm(t){return t?"getUTCSeconds":"getSeconds"}function Mm(t){return t?"getUTCSeconds":"getSeconds"}function Pm(t){return t?"setUTCFullYear":"setFullYear"}function Lm(t){return t?"setUTCMonth":"setMonth"}function Dm(t){return t?"setUTCDate":"setDate"}function Rm(t){return t?"setUTCHours":"setHours"}function Am(t){return t?"setUTCMinutes":"setMinutes"}function Om(t){return t?"setUTCSeconds":"setSeconds"}function Fm(t){return t?"setUTCSeconds":"setSeconds"}function Nm(t){if(!el(t))return xn(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Em(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var Bm=An,Vm=/([&<>"'])/g,Gm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Wm(t){return null==t?"":(t+"").replace(Vm,(function(t,e){return Gm[e]}))}function Hm(t,e,i){var n="{yyyy}-{MM}-{dd} {hh}:{mm}:{ss}";function a(t){return t&&Fn(t)?t:"-"}function r(t){return!(null==t||isNaN(t)||!isFinite(t))}var o="time"===e,s=t instanceof Date;if(o||s){var l=o?Zs(t):t;if(!isNaN(+l))return _m(l,n,i);if(s)return"-"}if("ordinal"===e)return bn(t)?a(t):Sn(t)&&r(t)?t+"":"-";var u=tl(t);return r(u)?Nm(u):bn(t)?a(t):"-"}var jm=["a","b","c","d","e","f","g"],$m=function(t,e){return"{"+t+(null==e?"":e)+"}"};function Um(t,e,i){vn(e)||(e=[e]);var n=e.length;if(!n)return"";for(var a=e[0].$vars||[],r=0;r<a.length;r++){var o=jm[r];t=t.replace($m(o),$m(o,0))}for(var s=0;s<n;s++)for(var l=0;l<a.length;l++){var u=e[s][a[l]];t=t.replace($m(jm[l],s),i?Wm(u):u)}return t}function qm(t,e){var i=xn(t)?{color:t,extraCssText:e}:t||{},n=i.color,a=i.type;e=i.extraCssText;var r=i.renderMode||"html";if(!n)return"";if("html"===r)return"subItem"===a?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Wm(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Wm(n)+";"+(e||"")+'"></span>';var o=i.markerId||"markerX";return{renderMode:r,content:"{"+o+"|}  ",style:"subItem"===a?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function Xm(t,e){return e=e||"transparent",xn(t)?t:wn(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function Ym(t,e){if("_blank"===e||"blank"===e){var i=window.open();i.opener=null,i.location.href=t}else window.open(t,e)}var Zm=cn,Km=["left","right","top","bottom","width","height"],Qm=[["width","left","right"],["height","top","bottom"]];function Jm(t,e,i,n,a){var r=0,o=0;null==n&&(n=1/0),null==a&&(a=1/0);var s=0;e.eachChild((function(l,u){var c,h,p=l.getBoundingRect(),d=e.childAt(u+1),f=d&&d.getBoundingRect();if("horizontal"===t){var g=p.width+(f?-f.x+p.x:0);c=r+g,c>n||l.newline?(r=0,c=g,o+=s+i,s=p.height):s=Math.max(s,p.height)}else{var m=p.height+(f?-f.y+p.y:0);h=o+m,h>a||l.newline?(r+=s+i,o=0,h=m,s=p.width):s=Math.max(s,p.width)}l.newline||(l.x=r,l.y=o,l.markRedraw(),"horizontal"===t?r=c+i:o=h+i)}))}var ty=Jm;yn(Jm,"vertical"),yn(Jm,"horizontal");function ey(t,e,i){i=Bm(i||0);var n=e.width,a=e.height,r=Hs(t.left,n),o=Hs(t.top,a),s=Hs(t.right,n),l=Hs(t.bottom,a),u=Hs(t.width,n),c=Hs(t.height,a),h=i[2]+i[0],p=i[1]+i[3],d=t.aspect;switch(isNaN(u)&&(u=n-s-p-r),isNaN(c)&&(c=a-l-h-o),null!=d&&(isNaN(u)&&isNaN(c)&&(d>n/a?u=.8*n:c=.8*a),isNaN(u)&&(u=d*c),isNaN(c)&&(c=u/d)),isNaN(r)&&(r=n-s-u-p),isNaN(o)&&(o=a-l-c-h),t.left||t.right){case"center":r=n/2-u/2-i[3];break;case"right":r=n-u-p;break}switch(t.top||t.bottom){case"middle":case"center":o=a/2-c/2-i[0];break;case"bottom":o=a-c-h;break}r=r||0,o=o||0,isNaN(u)&&(u=n-p-r-(s||0)),isNaN(c)&&(c=a-h-o-(l||0));var f=new fo(r+i[3],o+i[0],u,c);return f.margin=i,f}function iy(t){var e=t.layoutMode||t.constructor.layoutMode;return wn(e)?e:e?{type:e}:null}function ny(t,e,i){var n=i&&i.ignoreSize;!vn(n)&&(n=[n,n]);var a=o(Qm[0],0),r=o(Qm[1],1);function o(i,a){var r={},o=0,u={},c=0,h=2;if(Zm(i,(function(e){u[e]=t[e]})),Zm(i,(function(t){s(e,t)&&(r[t]=u[t]=e[t]),l(r,t)&&o++,l(u,t)&&c++})),n[a])return l(e,i[1])?u[i[2]]=null:l(e,i[2])&&(u[i[1]]=null),u;if(c!==h&&o){if(o>=h)return r;for(var p=0;p<i.length;p++){var d=i[p];if(!s(r,d)&&s(t,d)){r[d]=t[d];break}}return r}return u}function s(t,e){return t.hasOwnProperty(e)}function l(t,e){return null!=t[e]&&"auto"!==t[e]}function u(t,e,i){Zm(t,(function(t){e[t]=i[t]}))}u(Qm[0],t,a),u(Qm[1],t,r)}function ay(t){return ry({},t)}function ry(t,e){return e&&t&&Zm(Km,(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t}var oy=Il(),sy=function(t){function e(e,i,n){var a=t.call(this,e,i,n)||this;return a.uid=Hg("ec_cpt_model"),a}return Ri(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,e){var i=iy(this),n=i?ay(t):{},a=e.getTheme();en(t,a.get(this.mainType)),en(t,this.getDefaultOption()),i&&ny(t,n,i)},e.prototype.mergeOption=function(t,e){en(this.option,t,!0);var i=iy(this);i&&ny(this.option,t,i)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!Wl(t))return t.defaultOption;var e=oy(this);if(!e.defaultOption){var i=[],n=t;while(n){var a=n.prototype.defaultOption;a&&i.push(a),n=n.superClass}for(var r={},o=i.length-1;o>=0;o--)r=en(r,i[o],!0);e.defaultOption=r}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var i=t+"Index",n=t+"Id";return Dl(this.ecModel,t,{index:this.get(i,!0),id:this.get(n,!0)},e)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(Gg);function ly(t){var e=[];return cn(sy.getClassesByMainType(t),(function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])})),e=hn(e,(function(t){return Vl(t).main})),"dataset"!==t&&on(e,"dataset")<=0&&e.unshift("dataset"),e}$l(sy,Gg),Zl(sy),jg(sy),$g(sy,ly);var uy=sy,cy="";"undefined"!==typeof navigator&&(cy=navigator.platform||"");var hy="rgba(0, 0, 0, 0.2)",py={darkMode:"auto",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:hy,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:hy,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:hy,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:hy,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:hy,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:hy,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:cy.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},dy=Gn(["tooltip","label","itemName","itemId","seriesName"]),fy="original",gy="arrayRows",my="objectRows",yy="keyedColumns",vy="typedArray",_y="unknown",xy="column",by="row",Sy={Must:1,Might:2,Not:3},wy=Il();function Cy(t){wy(t).datasetMap=Gn()}function Ty(t,e,i){var n={},a=ky(e);if(!a||!t)return n;var r,o,s=[],l=[],u=e.ecModel,c=wy(u).datasetMap,h=a.uid+"_"+i.seriesLayoutBy;t=t.slice(),cn(t,(function(e,i){var a=wn(e)?e:t[i]={name:e};"ordinal"===a.type&&null==r&&(r=i,o=f(a)),n[a.name]=[]}));var p=c.get(h)||c.set(h,{categoryWayDim:o,valueWayDim:0});function d(t,e,i){for(var n=0;n<i;n++)t.push(e+n)}function f(t){var e=t.dimsDef;return e?e.length:1}return cn(t,(function(t,e){var i=t.name,a=f(t);if(null==r){var o=p.valueWayDim;d(n[i],o,a),d(l,o,a),p.valueWayDim+=a}else if(r===e)d(n[i],0,a),d(s,0,a);else{o=p.categoryWayDim;d(n[i],o,a),d(l,o,a),p.categoryWayDim+=a}})),s.length&&(n.itemName=s),l.length&&(n.seriesName=l),n}function ky(t){var e=t.get("data",!0);if(!e)return Dl(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},Ll).models[0]}function Iy(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?Dl(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},Ll).models:[]}function zy(t,e){return My(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function My(t,e,i,n,a,r){var o,s,l,u=5;if(Tn(t))return Sy.Not;if(n){var c=n[r];wn(c)?(s=c.name,l=c.type):xn(c)&&(s=c)}if(null!=l)return"ordinal"===l?Sy.Must:Sy.Not;if(e===gy){var h=t;if(i===by){for(var p=h[r],d=0;d<(p||[]).length&&d<u;d++)if(null!=(o=x(p[a+d])))return o}else for(d=0;d<h.length&&d<u;d++){var f=h[a+d];if(f&&null!=(o=x(f[r])))return o}}else if(e===my){var g=t;if(!s)return Sy.Not;for(d=0;d<g.length&&d<u;d++){var m=g[d];if(m&&null!=(o=x(m[s])))return o}}else if(e===yy){var y=t;if(!s)return Sy.Not;p=y[s];if(!p||Tn(p))return Sy.Not;for(d=0;d<p.length&&d<u;d++)if(null!=(o=x(p[d])))return o}else if(e===fy){var v=t;for(d=0;d<v.length&&d<u;d++){m=v[d];var _=cl(m);if(!vn(_))return Sy.Not;if(null!=(o=x(_[r])))return o}}function x(t){var e=xn(t);return null!=t&&isFinite(t)&&""!==t?e?Sy.Might:Sy.Not:e&&"-"!==t?Sy.Must:void 0}return Sy.Not}var Py=Gn();function Ly(t,e,i){var n=Py.get(e);if(!n)return i;var a=n(t);return a?i.concat(a):i}var Dy,Ry,Ay,Oy=Il(),Fy=(Il(),function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,i){var n=sl(this.get("color",!0)),a=this.get("colorLayer",!0);return Ey(this,Oy,n,a,t,e,i)},t.prototype.clearColorPalette=function(){By(this,Oy)},t}());function Ny(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n].length>e)return t[n];return t[i-1]}function Ey(t,e,i,n,a,r,o){r=r||t;var s=e(r),l=s.paletteIdx||0,u=s.paletteNameMap=s.paletteNameMap||{};if(u.hasOwnProperty(a))return u[a];var c=null!=o&&n?Ny(n,o):i;if(c=c||i,c&&c.length){var h=c[l];return a&&(u[a]=h),s.paletteIdx=(l+1)%c.length,h}}function By(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var Vy="\0_ec_inner",Gy=1,Wy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ri(e,t),e.prototype.init=function(t,e,i,n,a,r){n=n||{},this.option=null,this._theme=new Gg(n),this._locale=new Gg(a),this._optionManager=r},e.prototype.setOption=function(t,e,i){var n=qy(e);this._optionManager.setOption(t,i,n),this._resetOption(null,n)},e.prototype.resetOption=function(t,e){return this._resetOption(t,qy(e))},e.prototype._resetOption=function(t,e){var i=!1,n=this._optionManager;if(!t||"recreate"===t){var a=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(a,e)):Ay(this,a),i=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var r=n.getTimelineOption(this);r&&(i=!0,this._mergeOption(r,e))}if(!t||"recreate"===t||"media"===t){var o=n.getMediaOption(this);o.length&&cn(o,(function(t){i=!0,this._mergeOption(t,e)}),this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var i=this.option,n=this._componentsMap,a=this._componentsCount,r=[],o=Gn(),s=e&&e.replaceMergeMainTypeMap;function l(e){var r=Ly(this,e,sl(t[e])),o=n.get(e),l=o?s&&s.get(e)?"replaceMerge":"normalMerge":"replaceAll",u=pl(o,r,l);Cl(u,e,uy),i[e]=null,n.set(e,null),a.set(e,0);var c=[],h=[],p=0;cn(u,(function(t,i){var n=t.existing,a=t.newOption;if(a){var r="series"===e,o=uy.getClass(e,t.keyInfo.subType,!r);if(!o)return;if(n&&n.constructor===o)n.name=t.keyInfo.name,n.mergeOption(a,this),n.optionUpdated(a,!1);else{var s=nn({componentIndex:i},t.keyInfo);n=new o(a,this,this,s),nn(n,s),t.brandNew&&(n.__requireNewView=!0),n.init(a,this,this),n.optionUpdated(null,!0)}}else n&&(n.mergeOption({},this),n.optionUpdated({},!1));n?(c.push(n.option),h.push(n),p++):(c.push(void 0),h.push(void 0))}),this),i[e]=c,n.set(e,h),a.set(e,p),"series"===e&&Dy(this)}Cy(this),cn(t,(function(t,e){null!=t&&(uy.hasClass(e)?e&&(r.push(e),o.set(e,!0)):i[e]=null==i[e]?tn(t):en(i[e],t,!0))})),s&&s.each((function(t,e){uy.hasClass(e)&&!o.get(e)&&(r.push(e),o.set(e,!0))})),uy.topologicalTravel(r,uy.getAllClassMainTypes(),l,this),this._seriesIndices||Dy(this)},e.prototype.getOption=function(){var t=tn(this.option);return cn(t,(function(e,i){if(uy.hasClass(i)){for(var n=sl(e),a=n.length,r=!1,o=a-1;o>=0;o--)n[o]&&!wl(n[o])?r=!0:(n[o]=null,!r&&a--);n.length=a,t[i]=n}})),delete t[Vy],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.getLocale=function(t){var e=this.getLocaleModel();return e.get(t)},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var i=this._componentsMap.get(t);if(i){var n=i[e||0];if(n)return n;if(null==e)for(var a=0;a<i.length;a++)if(i[a])return i[a]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var i,n=t.index,a=t.id,r=t.name,o=this._componentsMap.get(e);return o&&o.length?(null!=n?(i=[],cn(sl(n),(function(t){o[t]&&i.push(o[t])}))):i=null!=a?$y("id",a,o):null!=r?$y("name",r,o):dn(o,(function(t){return!!t})),Uy(i,t)):[]},e.prototype.findComponents=function(t){var e=t.query,i=t.mainType,n=r(e),a=n?this.queryComponents(n):dn(this._componentsMap.get(i),(function(t){return!!t}));return o(Uy(a,t));function r(t){var e=i+"Index",n=i+"Id",a=i+"Name";return!t||null==t[e]&&null==t[n]&&null==t[a]?null:{mainType:i,index:t[e],id:t[n],name:t[a]}}function o(e){return t.filter?dn(e,t.filter):e}},e.prototype.eachComponent=function(t,e,i){var n=this._componentsMap;if(_n(t)){var a=e,r=t;n.each((function(t,e){for(var i=0;t&&i<t.length;i++){var n=t[i];n&&r.call(a,e,n,n.componentIndex)}}))}else for(var o=xn(t)?n.get(t):wn(t)?this.findComponents(t):null,s=0;o&&s<o.length;s++){var l=o[s];l&&e.call(i,l,l.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=bl(t,null);return dn(this._componentsMap.get("series"),(function(t){return!!t&&null!=e&&t.name===e}))},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return dn(this._componentsMap.get("series"),(function(e){return!!e&&e.subType===t}))},e.prototype.getSeries=function(){return dn(this._componentsMap.get("series").slice(),(function(t){return!!t}))},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,e){Ry(this),cn(this._seriesIndices,(function(i){var n=this._componentsMap.get("series")[i];t.call(e,n,i)}),this)},e.prototype.eachRawSeries=function(t,e){cn(this._componentsMap.get("series"),(function(i){i&&t.call(e,i,i.componentIndex)}))},e.prototype.eachSeriesByType=function(t,e,i){Ry(this),cn(this._seriesIndices,(function(n){var a=this._componentsMap.get("series")[n];a.subType===t&&e.call(i,a,n)}),this)},e.prototype.eachRawSeriesByType=function(t,e,i){return cn(this.getSeriesByType(t),e,i)},e.prototype.isSeriesFiltered=function(t){return Ry(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){Ry(this);var i=[];cn(this._seriesIndices,(function(n){var a=this._componentsMap.get("series")[n];t.call(e,a,n)&&i.push(n)}),this),this._seriesIndices=i,this._seriesIndicesMap=Gn(i)},e.prototype.restoreData=function(t){Dy(this);var e=this._componentsMap,i=[];e.each((function(t,e){uy.hasClass(e)&&i.push(e)})),uy.topologicalTravel(i,uy.getAllClassMainTypes(),(function(i){cn(e.get(i),(function(e){!e||"series"===i&&Hy(e,t)||e.restoreData()}))}))},e.internalField=function(){Dy=function(t){var e=t._seriesIndices=[];cn(t._componentsMap.get("series"),(function(t){t&&e.push(t.componentIndex)})),t._seriesIndicesMap=Gn(e)},Ry=function(t){0},Ay=function(t,e){t.option={},t.option[Vy]=Gy,t._componentsMap=Gn({series:[]}),t._componentsCount=Gn();var i=e.aria;wn(i)&&null==i.enabled&&(i.enabled=!0),jy(e,t._theme.option),en(e,py,!1),t._mergeOption(e,null)}}(),e}(Gg);function Hy(t,e){if(e){var i=e.seriesIndex,n=e.seriesId,a=e.seriesName;return null!=i&&t.componentIndex!==i||null!=n&&t.id!==n||null!=a&&t.name!==a}}function jy(t,e){var i=t.color&&!t.colorLayer;cn(e,(function(e,n){"colorLayer"===n&&i||uy.hasClass(n)||("object"===typeof e?t[n]=t[n]?en(t[n],e,!1):tn(e):null==t[n]&&(t[n]=e))}))}function $y(t,e,i){if(vn(e)){var n=Gn();return cn(e,(function(t){if(null!=t){var e=bl(t,null);null!=e&&n.set(t,!0)}})),dn(i,(function(e){return e&&n.get(e[t])}))}var a=bl(e,null);return dn(i,(function(e){return e&&null!=a&&e[t]===a}))}function Uy(t,e){return e.hasOwnProperty("subType")?dn(t,(function(t){return t&&t.subType===e.subType})):t}function qy(t){var e=Gn();return t&&cn(sl(t.replaceMerge),(function(t){e.set(t,!0)})),{replaceMergeMainTypeMap:e}}ln(Wy,Fy);var Xy=Wy,Yy=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Zy=function(){function t(t){cn(Yy,(function(e){this[e]=mn(t[e],t)}),this)}return t}(),Ky=Zy,Qy={},Jy=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var i=[];cn(Qy,(function(n,a){var r=n.create(t,e);i=i.concat(r||[])})),this._coordinateSystems=i},t.prototype.update=function(t,e){cn(this._coordinateSystems,(function(i){i.update&&i.update(t,e)}))},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){Qy[t]=e},t.get=function(t){return Qy[t]},t}(),tv=Jy,ev=/^(min|max)?(.+)$/,iv=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,i){t&&(cn(sl(t.series),(function(t){t&&t.data&&Tn(t.data)&&En(t.data)})),cn(sl(t.dataset),(function(t){t&&t.source&&Tn(t.source)&&En(t.source)}))),t=tn(t);var n=this._optionBackup,a=nv(t,e,!n);this._newBaseOption=a.baseOption,n?(a.timelineOptions.length&&(n.timelineOptions=a.timelineOptions),a.mediaList.length&&(n.mediaList=a.mediaList),a.mediaDefault&&(n.mediaDefault=a.mediaDefault)):this._optionBackup=a},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],tn(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=tn(i[n.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,a=this._mediaDefault,r=[],o=[];if(!n.length&&!a)return o;for(var s=0,l=n.length;s<l;s++)av(n[s].query,e,i)&&r.push(s);return!r.length&&a&&(r=[-1]),r.length&&!ov(r,this._currentMediaIndices)&&(o=hn(r,(function(t){return tn(-1===t?a.option:n[t].option)}))),this._currentMediaIndices=r,o},t}();function nv(t,e,i){var n,a,r=[],o=t.baseOption,s=t.timeline,l=t.options,u=t.media,c=!!t.media,h=!!(l||s||o&&o.timeline);function p(t){cn(e,(function(e){e(t,i)}))}return o?(a=o,a.timeline||(a.timeline=s)):((h||c)&&(t.options=t.media=null),a=t),c&&vn(u)&&cn(u,(function(t){t&&t.option&&(t.query?r.push(t):n||(n=t))})),p(a),cn(l,(function(t){return p(t)})),cn(r,(function(t){return p(t.option)})),{baseOption:a,timelineOptions:l||[],mediaDefault:n,mediaList:r}}function av(t,e,i){var n={width:e,height:i,aspectratio:e/i},a=!0;return cn(t,(function(t,e){var i=e.match(ev);if(i&&i[1]&&i[2]){var r=i[1],o=i[2].toLowerCase();rv(n[o],t,r)||(a=!1)}})),a}function rv(t,e,i){return"min"===i?t>=e:"max"===i?t<=e:t===e}function ov(t,e){return t.join(",")===e.join(",")}var sv=iv,lv=cn,uv=wn,cv=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function hv(t){var e=t&&t.itemStyle;if(e)for(var i=0,n=cv.length;i<n;i++){var a=cv[i],r=e.normal,o=e.emphasis;r&&r[a]&&(t[a]=t[a]||{},t[a].normal?en(t[a].normal,r[a]):t[a].normal=r[a],r[a]=null),o&&o[a]&&(t[a]=t[a]||{},t[a].emphasis?en(t[a].emphasis,o[a]):t[a].emphasis=o[a],o[a]=null)}}function pv(t,e,i){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,a=t[e].emphasis;n&&(i?(t[e].normal=t[e].emphasis=null,an(t[e],n)):t[e]=n),a&&(t.emphasis=t.emphasis||{},t.emphasis[e]=a,a.focus&&(t.emphasis.focus=a.focus),a.blurScope&&(t.emphasis.blurScope=a.blurScope))}}function dv(t){pv(t,"itemStyle"),pv(t,"lineStyle"),pv(t,"areaStyle"),pv(t,"label"),pv(t,"labelLine"),pv(t,"upperLabel"),pv(t,"edgeLabel")}function fv(t,e){var i=uv(t)&&t[e],n=uv(i)&&i.textStyle;if(n){0;for(var a=0,r=ul.length;a<r;a++){var o=ul[a];n.hasOwnProperty(o)&&(i[o]=n[o])}}}function gv(t){t&&(dv(t),fv(t,"label"),t.emphasis&&fv(t.emphasis,"label"))}function mv(t){if(uv(t)){hv(t),dv(t),fv(t,"label"),fv(t,"upperLabel"),fv(t,"edgeLabel"),t.emphasis&&(fv(t.emphasis,"label"),fv(t.emphasis,"upperLabel"),fv(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(hv(e),gv(e));var i=t.markLine;i&&(hv(i),gv(i));var n=t.markArea;n&&gv(n);var a=t.data;if("graph"===t.type){a=a||t.nodes;var r=t.links||t.edges;if(r&&!Tn(r))for(var o=0;o<r.length;o++)gv(r[o]);cn(t.categories,(function(t){dv(t)}))}if(a&&!Tn(a))for(o=0;o<a.length;o++)gv(a[o]);if(e=t.markPoint,e&&e.data){var s=e.data;for(o=0;o<s.length;o++)gv(s[o])}if(i=t.markLine,i&&i.data){var l=i.data;for(o=0;o<l.length;o++)vn(l[o])?(gv(l[o][0]),gv(l[o][1])):gv(l[o])}"gauge"===t.type?(fv(t,"axisLabel"),fv(t,"title"),fv(t,"detail")):"treemap"===t.type?(pv(t.breadcrumb,"itemStyle"),cn(t.levels,(function(t){dv(t)}))):"tree"===t.type&&dv(t.leaves)}}function yv(t){return vn(t)?t:t?[t]:[]}function vv(t){return(vn(t)?t[0]:t)||{}}function _v(t,e){lv(yv(t.series),(function(t){uv(t)&&mv(t)}));var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),lv(i,(function(e){lv(yv(t[e]),(function(t){t&&(fv(t,"axisLabel"),fv(t.axisPointer,"label"))}))})),lv(yv(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;fv(e,"axisLabel"),fv(e&&e.axisPointer,"label")})),lv(yv(t.calendar),(function(t){pv(t,"itemStyle"),fv(t,"dayLabel"),fv(t,"monthLabel"),fv(t,"yearLabel")})),lv(yv(t.radar),(function(t){fv(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)})),lv(yv(t.geo),(function(t){uv(t)&&(gv(t),lv(yv(t.regions),(function(t){gv(t)})))})),lv(yv(t.timeline),(function(t){gv(t),pv(t,"label"),pv(t,"itemStyle"),pv(t,"controlStyle",!0);var e=t.data;vn(e)&&cn(e,(function(t){wn(t)&&(pv(t,"label"),pv(t,"itemStyle"))}))})),lv(yv(t.toolbox),(function(t){pv(t,"iconStyle"),lv(t.feature,(function(t){pv(t,"iconStyle")}))})),fv(vv(t.axisPointer),"label"),fv(vv(t.tooltip).axisPointer,"label")}function xv(t,e){for(var i=e.split(","),n=t,a=0;a<i.length;a++)if(n=n&&n[i[a]],null==n)break;return n}function bv(t,e,i,n){for(var a,r=e.split(","),o=t,s=0;s<r.length-1;s++)a=r[s],null==o[a]&&(o[a]={}),o=o[a];(n||null==o[r[s]])&&(o[r[s]]=i)}function Sv(t){t&&cn(wv,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var wv=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Cv=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Tv=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function kv(t){var e=t&&t.itemStyle;if(e)for(var i=0;i<Tv.length;i++){var n=Tv[i][1],a=Tv[i][0];null!=e[n]&&(e[a]=e[n])}}function Iv(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function zv(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function Mv(t){t&&null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus="adjacency"))}function Pv(t,e){if(t)for(var i=0;i<t.length;i++)e(t[i]),t[i]&&Pv(t[i].children,e)}function Lv(t,e){_v(t,e),t.series=sl(t.series),cn(t.series,(function(t){if(wn(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e){null!=t.clockWise&&(t.clockwise=t.clockWise),Iv(t.label);var i=t.data;if(i&&!Tn(i))for(var n=0;n<i.length;n++)Iv(i[n]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===e){var a=xv(t,"pointer.color");null!=a&&bv(t,"itemStyle.color",a)}else if("bar"===e){kv(t),kv(t.backgroundStyle),kv(t.emphasis);i=t.data;if(i&&!Tn(i))for(n=0;n<i.length;n++)"object"===typeof i[n]&&(kv(i[n]),kv(i[n]&&i[n].emphasis))}else if("sunburst"===e){var r=t.highlightPolicy;r&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=r)),zv(t),Pv(t.data,zv)}else"graph"===e||"sankey"===e?Mv(t):"map"===e&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&an(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),Sv(t)}})),t.dataRange&&(t.visualMap=t.dataRange),cn(Cv,(function(e){var i=t[e];i&&(vn(i)||(i=[i]),cn(i,(function(t){Sv(t)})))}))}function Dv(t){var e=Gn();t.eachSeries((function(t){var i=t.get("stack");if(i){var n=e.get(i)||e.set(i,[]),a=t.getData(),r={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;n.length&&a.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel),n.push(r)}})),e.each(Rv)}function Rv(t){cn(t,(function(e,i){var n=[],a=[NaN,NaN],r=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=o.map(r,(function(r,l,u){var c,h,p=o.get(e.stackedDimension,u);if(isNaN(p))return a;s?h=o.getRawIndex(u):c=o.get(e.stackedByDimension,u);for(var d=NaN,f=i-1;f>=0;f--){var g=t[f];if(s||(h=g.data.rawIndexOf(g.stackedByDimension,c)),h>=0){var m=g.data.getByRawIndex(g.stackResultDimension,h);if(p>=0&&m>0||p<=0&&m<0){p+=m,d=m;break}}}return n[0]=p,n[1]=d,n}));o.hostModel.setData(l),e.data=l}))}var Av,Ov,Fv,Nv,Ev,Bv=function(){function t(t){this.data=t.data||(t.sourceFormat===yy?{}:[]),this.sourceFormat=t.sourceFormat||_y,this.seriesLayoutBy=t.seriesLayoutBy||xy,this.startIndex=t.startIndex||0,this.dimensionsDefine=t.dimensionsDefine,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.encodeDefine=t.encodeDefine,this.metaRawOption=t.metaRawOption}return t}();function Vv(t){return t instanceof Bv}function Gv(t,e,i,n){i=i||$v(t);var a=e.seriesLayoutBy,r=Uv(t,i,a,e.sourceHeader,e.dimensions),o=new Bv({data:t,sourceFormat:i,seriesLayoutBy:a,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,encodeDefine:jv(n),metaRawOption:tn(e)});return o}function Wv(t){return new Bv({data:t,sourceFormat:Tn(t)?vy:fy})}function Hv(t){return new Bv({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:tn(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount,encodeDefine:jv(t.encodeDefine)})}function jv(t){return t?Gn(t):null}function $v(t){var e=_y;if(Tn(t))e=vy;else if(vn(t)){0===t.length&&(e=gy);for(var i=0,n=t.length;i<n;i++){var a=t[i];if(null!=a){if(vn(a)){e=gy;break}if(wn(a)){e=my;break}}}}else if(wn(t))for(var r in t)if(Hn(t,r)&&un(t[r])){e=yy;break}return e}function Uv(t,e,i,n,a){var r,o;if(!t)return{dimensionsDefine:Xv(a),startIndex:o,dimensionsDetectedCount:r};if(e===gy){var s=t;"auto"===n||null==n?Yv((function(t){null!=t&&"-"!==t&&(xn(t)?null==o&&(o=1):o=0)}),i,s,10):o=Sn(n)?n:n?1:0,a||1!==o||(a=[],Yv((function(t,e){a[e]=null!=t?t+"":""}),i,s,1/0)),r=a?a.length:i===by?s.length:s[0]?s[0].length:null}else if(e===my)a||(a=qv(t));else if(e===yy)a||(a=[],cn(t,(function(t,e){a.push(e)})));else if(e===fy){var l=cl(t[0]);r=vn(l)&&l.length||1}return{startIndex:o,dimensionsDefine:Xv(a),dimensionsDetectedCount:r}}function qv(t){var e,i=0;while(i<t.length&&!(e=t[i++]));if(e){var n=[];return cn(e,(function(t,e){n.push(e)})),n}}function Xv(t){if(t){var e=Gn();return hn(t,(function(t,i){t=wn(t)?t:{name:t};var n={name:t.name,displayName:t.displayName,type:t.type};if(null==n.name)return n;n.name+="",null==n.displayName&&(n.displayName=n.name);var a=e.get(n.name);return a?n.name+="-"+a.count++:e.set(n.name,{count:1}),n}))}}function Yv(t,e,i,n){if(e===by)for(var a=0;a<i.length&&a<n;a++)t(i[a]?i[a][0]:null,a);else{var r=i[0]||[];for(a=0;a<r.length&&a<n;a++)t(r[a],a)}}var Zv=function(){function t(t,e){var i=Vv(t)?t:Wv(t);this._source=i;var n=this._data=i.data;i.sourceFormat===vy&&(this._offset=0,this._dimSize=e,this._data=n),Ev(this,n,i)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var t;Ev=function(t,a,r){var o=r.sourceFormat,s=r.seriesLayoutBy,l=r.startIndex,u=r.dimensionsDefine,c=Nv[o_(o,s)];if(nn(t,c),o===vy)t.getItem=e,t.count=n,t.fillStorage=i;else{var h=Jv(o,s);t.getItem=mn(h,null,a,l,u);var p=i_(o,s);t.count=mn(p,null,a,l,u)}};var e=function(t,e){t-=this._offset,e=e||[];for(var i=this._data,n=this._dimSize,a=n*t,r=0;r<n;r++)e[r]=i[a+r];return e},i=function(t,e,i,n){for(var a=this._data,r=this._dimSize,o=0;o<r;o++){for(var s=n[o],l=null==s[0]?1/0:s[0],u=null==s[1]?-1/0:s[1],c=e-t,h=i[o],p=0;p<c;p++){var d=a[p*r+o];h[t+p]=d,d<l&&(l=d),d>u&&(u=d)}s[0]=l,s[1]=u}},n=function(){return this._data?this._data.length/this._dimSize:0};function a(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}t={},t[gy+"_"+xy]={pure:!0,appendData:a},t[gy+"_"+by]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[my]={pure:!0,appendData:a},t[yy]={pure:!0,appendData:function(t){var e=this._data;cn(t,(function(t,i){for(var n=e[i]||(e[i]=[]),a=0;a<(t||[]).length;a++)n.push(t[a])}))}},t[fy]={appendData:a},t[vy]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},Nv=t}(),t}(),Kv=function(t,e,i,n){return t[n]},Qv=(Av={},Av[gy+"_"+xy]=function(t,e,i,n){return t[n+e]},Av[gy+"_"+by]=function(t,e,i,n){n+=e;for(var a=[],r=t,o=0;o<r.length;o++){var s=r[o];a.push(s?s[n]:null)}return a},Av[my]=Kv,Av[yy]=function(t,e,i,n){for(var a=[],r=0;r<i.length;r++){var o=i[r].name;0;var s=t[o];a.push(s?s[n]:null)}return a},Av[fy]=Kv,Av);function Jv(t,e){var i=Qv[o_(t,e)];return i}var t_=function(t,e,i){return t.length},e_=(Ov={},Ov[gy+"_"+xy]=function(t,e,i){return Math.max(0,t.length-e)},Ov[gy+"_"+by]=function(t,e,i){var n=t[0];return n?Math.max(0,n.length-e):0},Ov[my]=t_,Ov[yy]=function(t,e,i){var n=i[0].name;var a=t[n];return a?a.length:0},Ov[fy]=t_,Ov);function i_(t,e){var i=e_[o_(t,e)];return i}var n_=function(t,e,i){return null!=e?t[e]:t},a_=(Fv={},Fv[gy]=n_,Fv[my]=function(t,e,i){return null!=e?t[i]:t},Fv[yy]=n_,Fv[fy]=function(t,e,i){var n=cl(t);return null!=e&&n instanceof Array?n[e]:n},Fv[vy]=n_,Fv);function r_(t){var e=a_[t];return e}function o_(t,e){return t===gy?t+"_"+e:t}function s_(t,e,i){if(t){var n=t.getRawDataItem(e);if(null!=n){var a,r,o=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(i);return s&&(a=s.name,r=s.index),r_(o)(n,r,a)}}}var l_=/\{@(.+?)\}/g,u_=function(){function t(){}return t.prototype.getDataParams=function(t,e){var i=this.getData(e),n=this.getRawValue(t,e),a=i.getRawIndex(t),r=i.getName(t),o=i.getRawDataItem(t),s=i.getItemVisual(t,"style"),l=s&&s[i.getItemVisual(t,"drawType")||"fill"],u=s&&s.stroke,c=this.mainType,h="series"===c,p=i.userOutput;return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:r,dataIndex:a,data:o,dataType:e,value:n,color:l,borderColor:u,dimensionNames:p?p.dimensionNames:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,e,i,n,a,r){e=e||"normal";var o=this.getData(i),s=this.getDataParams(t,i);if(r&&(s.value=r.interpolatedValue),null!=n&&vn(s.value)&&(s.value=s.value[n]),!a){var l=o.getItemModel(t);a=l.get("normal"===e?["label","formatter"]:[e,"label","formatter"])}if("function"===typeof a)return s.status=e,s.dimensionIndex=n,a(s);if("string"===typeof a){var u=Um(a,s);return u.replace(l_,(function(e,i){var n=i.length,a="["===i.charAt(0)&&"]"===i.charAt(n-1)?+i.slice(1,n-1):i,s=s_(o,t,a);if(r&&vn(r.interpolatedValue)){var l=o.getDimensionInfo(a);l&&(s=r.interpolatedValue[l.index])}return null!=s?s+"":""}))}},t.prototype.getRawValue=function(t,e){return s_(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,i){},t}();function c_(t){var e,i;return wn(t)?t.type&&(i=t):e=t,{markupText:e,markupFragment:i}}function h_(t){return new p_(t)}var p_=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,i=this._upstream,n=t&&t.skip;if(this._dirty&&i){var a=this.context;a.data=a.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!n&&(e=this._plan(this.context));var r,o=c(this._modBy),s=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;function c(t){return!(t>=1)&&(t=1),t}o===l&&s===u||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,r=this._doReset(n)),this._modBy=l,this._modDataCount=u;var h=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,d=Math.min(null!=h?this._dueIndex+h:1/0,this._dueEnd);if(!n&&(r||p<d)){var f=this._progress;if(vn(f))for(var g=0;g<f.length;g++)this._doProgress(f[g],p,d,l,u);else this._doProgress(f,p,d,l,u)}this._dueIndex=d;var m=null!=this._settedOutputEnd?this._settedOutputEnd:d;0,this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,i,n,a){d_.reset(e,i,n,a),this._callingProgress=t,this._callingProgress({start:e,end:i,count:i-e,next:d_.next},this.context)},t.prototype._doReset=function(t){var e,i;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(i=e.forceFirstProgress,e=e.progress),vn(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var n=this._downstream;return n&&n.dirty(),i},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),d_=function(){var t,e,i,n,a,r={reset:function(l,u,c,h){e=l,t=u,i=c,n=h,a=Math.ceil(n/i),r.next=i>1&&n>0?s:o}};return r;function o(){return e<t?e++:null}function s(){var r=e%a*i+Math.ceil(e/a),o=e>=t?null:r<n?r:e;return e++,o}}();"undefined"!==typeof console&&console.warn&&console.log;function f_(t){0}function g_(t){throw new Error(t)}function m_(t,e){var i=e&&e.type;if("ordinal"===i){var n=e&&e.ordinalMeta;return n?n.parseAndCollect(t):t}return"time"===i&&"number"!==typeof t&&null!=t&&"-"!==t&&(t=+Zs(t)),null==t||""===t?NaN:+t}Gn({number:function(t){return parseFloat(t)},time:function(t){return+Zs(t)},trim:function(t){return"string"===typeof t?Fn(t):t}});var y_={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},v_=(function(){function t(t,e){if("number"!==typeof e){var i="";0,g_(i)}this._opFn=y_[t],this._rvalFloat=tl(e)}t.prototype.evaluate=function(t){return"number"===typeof t?this._opFn(t,this._rvalFloat):this._opFn(tl(t),this._rvalFloat)}}(),function(){function t(t,e){var i="desc"===t;this._resultLT=i?1:-1,null==e&&(e=i?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var i=typeof t,n=typeof e,a="number"===i?t:tl(t),r="number"===n?e:tl(e),o=isNaN(a),s=isNaN(r);if(o&&(a=this._incomparable),s&&(r=this._incomparable),o&&s){var l="string"===i,u="string"===n;l&&(a=u?t:0),u&&(r=l?e:0)}return a<r?this._resultLT:a>r?-this._resultLT:0},t}());(function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=tl(e)}t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var i=typeof t;i===this._rvalTypeof||"number"!==i&&"number"!==this._rvalTypeof||(e=tl(t)===this._rvalFloat)}return this._isEQ?e:!e}})();var __=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return m_(t,e)},t}();function x_(t,e){var i=new __,n=t.data,a=i.sourceFormat=t.sourceFormat,r=t.startIndex,o="";t.seriesLayoutBy!==xy&&g_(o);var s=[],l={},u=t.dimensionsDefine;if(u)cn(u,(function(t,e){var i=t.name,n={index:e,name:i,displayName:t.displayName};if(s.push(n),null!=i){var a="";Hn(l,i)&&g_(a),l[i]=n}}));else for(var c=0;c<t.dimensionsDetectedCount;c++)s.push({index:c});var h=Jv(a,xy);e.__isBuiltIn&&(i.getRawDataItem=function(t){return h(n,r,s,t)},i.getRawData=mn(b_,null,t)),i.cloneRawData=mn(S_,null,t);var p=i_(a,xy);i.count=mn(p,null,n,r,s);var d=r_(a);i.retrieveValue=function(t,e){var i=h(n,r,s,t);return f(i,e)};var f=i.retrieveValueFromItem=function(t,e){if(null!=t){var i=s[e];return i?d(t,e,i.name):void 0}};return i.getDimensionInfo=mn(w_,null,s,l),i.cloneAllDimensionInfo=mn(C_,null,s),i}function b_(t){var e=t.sourceFormat;if(!M_(e)){var i="";0,g_(i)}return t.data}function S_(t){var e=t.sourceFormat,i=t.data;if(!M_(e)){var n="";0,g_(n)}if(e===gy){for(var a=[],r=0,o=i.length;r<o;r++)a.push(i[r].slice());return a}if(e===my){for(a=[],r=0,o=i.length;r<o;r++)a.push(nn({},i[r]));return a}}function w_(t,e,i){if(null!=i)return"number"===typeof i||!isNaN(i)&&!Hn(e,i)?t[i]:Hn(e,i)?e[i]:void 0}function C_(t){return tn(t)}var T_=Gn();function k_(t){t=tn(t);var e=t.type,i="";e||g_(i);var n=e.split(":");2!==n.length&&g_(i);var a=!1;"echarts"===n[0]&&(e=n[1],a=!0),t.__isBuiltIn=a,T_.set(e,t)}function I_(t,e,i){var n=sl(t),a=n.length,r="";a||g_(r);for(var o=0,s=a;o<s;o++){var l=n[o];e=z_(l,e,i,1===a?null:o),o!==s-1&&(e.length=Math.max(e.length,1))}return e}function z_(t,e,i,n){var a="";e.length||g_(a),wn(t)||g_(a);var r=t.type,o=T_.get(r);o||g_(a);var s=hn(e,(function(t){return x_(t,o)})),l=sl(o.transform({upstream:s[0],upstreamList:s,config:tn(t.config)}));return hn(l,(function(t,i){var n="";wn(t)||g_(n),t.data||g_(n);var a,r=$v(t.data);M_(r)||g_(n);var o=e[0];if(o&&0===i&&!t.dimensions){var s=o.startIndex;s&&(t.data=o.data.slice(0,s).concat(t.data)),a={seriesLayoutBy:xy,sourceHeader:s,dimensions:o.metaRawOption.dimensions}}else a={seriesLayoutBy:xy,sourceHeader:0,dimensions:t.dimensions};return Gv(t.data,a,null,null)}))}function M_(t){return t===gy||t===my}var P_=function(){function t(t){this._sourceList=[],this._upstreamSignList=[],this._versionSignBase=0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[])},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&this._createSource()},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,i=this._sourceHost,n=this._getUpstreamSourceManagers(),a=!!n.length;if(L_(i)){var r=i,o=void 0,s=void 0,l=void 0;if(a){var u=n[0];u.prepareSource(),l=u.getSource(),o=l.data,s=l.sourceFormat,e=[u._getVersionSign()]}else o=r.get("data",!0),s=Tn(o)?vy:fy,e=[];var c=this._getSourceMetaRawOption(),h=l?l.metaRawOption:null,p=Ln(c.seriesLayoutBy,h?h.seriesLayoutBy:null),d=Ln(c.sourceHeader,h?h.sourceHeader:null),f=Ln(c.dimensions,h?h.dimensions:null);t=[Gv(o,{seriesLayoutBy:p,sourceHeader:d,dimensions:f},s,r.get("encode",!0))]}else{var g=i;if(a){var m=this._applyTransform(n);t=m.sourceList,e=m.upstreamSignList}else{var y=g.get("source",!0);t=[Gv(y,this._getSourceMetaRawOption(),null,null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,i=this._sourceHost,n=i.get("transform",!0),a=i.get("fromTransformResult",!0);if(null!=a){var r="";1!==t.length&&D_(r)}var o=[],s=[];return cn(t,(function(t){t.prepareSource();var e=t.getSource(a||0),i="";null==a||e||D_(i),o.push(e),s.push(t._getVersionSign())})),n?e=I_(n,o,{datasetIndex:i.componentIndex}):null!=a&&(e=[Hv(o[0])]),{sourceList:e,upstreamSignList:s}},t.prototype._isDirty=function(){var t=this._sourceList;if(!t.length)return!0;for(var e=this._getUpstreamSourceManagers(),i=0;i<e.length;i++){var n=e[i];if(n._isDirty()||this._upstreamSignList[i]!==n._getVersionSign())return!0}},t.prototype.getSource=function(t){return this._sourceList[t||0]},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(L_(t)){var e=ky(t);return e?[e.getSourceManager()]:[]}return hn(Iy(t),(function(t){return t.getSourceManager()}))},t.prototype._getSourceMetaRawOption=function(){var t,e,i,n=this._sourceHost;if(L_(n))t=n.get("seriesLayoutBy",!0),e=n.get("sourceHeader",!0),i=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=n;t=a.get("seriesLayoutBy",!0),e=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:i}},t}();function L_(t){return"series"===t.mainType}function D_(t){throw new Error(t)}var R_="line-height:1";function A_(t,e){var i=t.color||"#6e7079",n=t.fontSize||12,a=t.fontWeight||"400",r=t.color||"#464646",o=t.fontSize||14,s=t.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+Wm(n+"")+"px;color:"+Wm(i)+";font-weight:"+Wm(a+""),valueStyle:"font-size:"+Wm(o+"")+"px;color:"+Wm(r)+";font-weight:"+Wm(s+"")}:{nameStyle:{fontSize:n,fill:i,fontWeight:a},valueStyle:{fontSize:o,fill:r,fontWeight:s}}}var O_=[0,10,20,30],F_=["","\n","\n\n","\n\n\n"];function N_(t,e){return e.type=t,e}function E_(t){return Hn(B_,t.type)&&B_[t.type]}var B_={section:{planLayout:function(t){var e=t.blocks.length,i=e>1||e>0&&!t.noHeader,n=0;cn(t.blocks,(function(t){E_(t).planLayout(t);var e=t.__gapLevelBetweenSubBlocks;e>=n&&(n=e+(!i||e&&("section"!==t.type||t.noHeader)?0:1))})),t.__gapLevelBetweenSubBlocks=n},build:function(t,e,i,n){var a=e.noHeader,r=W_(e),o=V_(t,e,a?i:r.html,n);if(a)return o;var s=Hm(e.header,"ordinal",t.useUTC),l=A_(n,t.renderMode).nameStyle;return"richText"===t.renderMode?U_(t,s,l)+r.richText+o:H_('<div style="'+l+";"+R_+';">'+Wm(s)+"</div>"+o,i)}},nameValue:{planLayout:function(t){t.__gapLevelBetweenSubBlocks=0},build:function(t,e,i,n){var a=t.renderMode,r=e.noName,o=e.noValue,s=!e.markerType,l=e.name,u=e.value,c=t.useUTC;if(!r||!o){var h=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",a),p=r?"":Hm(l,"ordinal",c),d=e.valueType,f=o?[]:vn(u)?hn(u,(function(t,e){return Hm(t,vn(d)?d[e]:d,c)})):[Hm(u,vn(d)?d[0]:d,c)],g=!s||!r,m=!s&&r,y=A_(n,a),v=y.nameStyle,_=y.valueStyle;return"richText"===a?(s?"":h)+(r?"":U_(t,p,v))+(o?"":q_(t,f,g,m,_)):H_((s?"":h)+(r?"":j_(p,!s,v))+(o?"":$_(f,g,m,_)),i)}}}};function V_(t,e,i,n){var a=[],r=e.blocks||[];On(!r||vn(r)),r=r||[];var o=t.orderMode;if(e.sortBlocks&&o){r=r.slice();var s={valueAsc:"asc",valueDesc:"desc"};if(Hn(s,o)){var l=new v_(s[o],null);r.sort((function(t,e){return l.evaluate(t.sortParam,e.sortParam)}))}else"seriesDesc"===o&&r.reverse()}var u=W_(e);if(cn(r,(function(e,i){var r=E_(e).build(t,e,i>0?u.html:0,n);null!=r&&a.push(r)})),a.length)return"richText"===t.renderMode?a.join(u.richText):H_(a.join(""),i)}function G_(t,e,i,n,a,r){if(t){var o=E_(t);o.planLayout(t);var s={useUTC:a,renderMode:i,orderMode:n,markupStyleCreator:e};return o.build(s,t,0,r)}}function W_(t){var e=t.__gapLevelBetweenSubBlocks;return{html:O_[e],richText:F_[e]}}function H_(t,e){var i='<div style="clear:both"></div>',n="margin: "+e+"px 0 0";return'<div style="'+n+";"+R_+';">'+t+i+"</div>"}function j_(t,e,i){var n=e?"margin-left:2px":"";return'<span style="'+i+";"+n+'">'+Wm(t)+"</span>"}function $_(t,e,i,n){var a=i?"10px":"20px",r=e?"float:right;margin-left:"+a:"";return'<span style="'+r+";"+n+'">'+hn(t,(function(t){return Wm(t)})).join("&nbsp;&nbsp;")+"</span>"}function U_(t,e,i){return t.markupStyleCreator.wrapRichTextStyle(e,i)}function q_(t,e,i,n,a){var r=[a],o=n?10:20;return i&&r.push({padding:[0,0,0,o],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(e.join("  "),r)}function X_(t,e){var i=t.getData().getItemVisual(e,"style"),n=i[t.visualDrawType];return Xm(n)}function Y_(t,e){var i=t.get("padding");return null!=i?i:"richText"===e?[8,10]:10}var Z_=function(){function t(){this.richTextStyles={},this._nextStyleNameId=il()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,i){var n="richText"===i?this._generateStyleName():null,a=qm({color:e,type:t,renderMode:i,markerId:n});return xn(a)?a:(this.richTextStyles[n]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(t,e){var i={};vn(e)?cn(e,(function(t){return nn(i,t)})):nn(i,e);var n=this._generateStyleName();return this.richTextStyles[n]=i,"{"+n+"|"+t+"}"},t}();function K_(t){var e,i,n,a,r=t.series,o=t.dataIndex,s=t.multipleSeries,l=r.getData(),u=l.mapDimensionsAll("defaultedTooltip"),c=u.length,h=r.getRawValue(o),p=vn(h),d=X_(r,o);if(c>1||p&&!c){var f=Q_(h,r,o,u,d);e=f.inlineValues,i=f.inlineValueTypes,n=f.blocks,a=f.inlineValues[0]}else if(c){var g=l.getDimensionInfo(u[0]);a=e=s_(l,o,u[0]),i=g.type}else a=e=p?h[0]:h;var m=Sl(r),y=m&&r.name||"",v=l.getName(o),_=s?y:v;return N_("section",{header:y,noHeader:s||!m,sortParam:a,blocks:[N_("nameValue",{markerType:"item",markerColor:d,name:_,noName:!Fn(_),value:e,valueType:i})].concat(n||[])})}function Q_(t,e,i,n,a){var r=e.getData(),o=pn(t,(function(t,e,i){var n=r.getDimensionInfo(i);return t||n&&!1!==n.tooltip&&null!=n.displayName}),!1),s=[],l=[],u=[];function c(t,e){var i=r.getDimensionInfo(e);i&&!1!==i.otherDims.tooltip&&(o?u.push(N_("nameValue",{markerType:"subItem",markerColor:a,name:i.displayName,value:t,valueType:i.type})):(s.push(t),l.push(i.type)))}return n.length?cn(n,(function(t){c(s_(r,i,t),t)})):cn(t,c),{inlineValues:s,inlineValueTypes:l,blocks:u}}var J_=Il();function tx(t,e){return t.getName(e)||t.getId(e)}var ex=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return Ri(e,t),e.prototype.init=function(t,e,i){this.seriesIndex=this.componentIndex,this.dataTask=h_({count:ax,reset:rx}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var n=J_(this).sourceManager=new P_(this);n.prepareSource();var a=this.getInitialData(t,i);sx(a,this),this.dataTask.context.data=a,J_(this).dataBeforeProcessed=a,ix(this),this._initSelectedMapFromData(a)},e.prototype.mergeDefaultAndTheme=function(t,e){var i=iy(this),n=i?ay(t):{},a=this.subType;uy.hasClass(a)&&(a+="Series"),en(t,e.getTheme().get(this.subType)),en(t,this.getDefaultOption()),ll(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&ny(t,n,i)},e.prototype.mergeOption=function(t,e){t=en(this.option,t,!0),this.fillDataTextStyle(t.data);var i=iy(this);i&&ny(this.option,t,i);var n=J_(this).sourceManager;n.dirty(),n.prepareSource();var a=this.getInitialData(t,e);sx(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,J_(this).dataBeforeProcessed=a,ix(this),this._initSelectedMapFromData(a)},e.prototype.fillDataTextStyle=function(t){if(t&&!Tn(t))for(var e=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&ll(t[i],"label",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){var e=this.getRawData();e.appendData(t.data)},e.prototype.getData=function(t){var e=ux(this);if(e){var i=e.context.data;return null==t?i:i.getLinkedData(t)}return J_(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=ux(this);if(e){var i=e.context;i.outputData=t,e!==this.dataTask&&(i.data=t)}J_(this).data=t},e.prototype.getSource=function(){return J_(this).sourceManager.getSource()},e.prototype.getRawData=function(){return J_(this).dataBeforeProcessed},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,i){return K_({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){if(Bi.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),!!t},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,i){var n=this.ecModel,a=Fy.prototype.getColorFromPalette.call(this,t,e,i);return a||(a=n.getColorFromPalette(t,e,i)),a},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var i=this.option.selectedMap;if(i)for(var n=this.getData(e),a=0;a<t.length;a++){var r=t[a],o=tx(n,r);i[o]=!1,this._selectedDataIndicesMap[o]=-1}},e.prototype.toggleSelect=function(t,e){for(var i=[],n=0;n<t.length;n++)i[0]=t[n],this.isSelected(t[n],e)?this.unselect(i,e):this.select(i,e)},e.prototype.getSelectedDataIndices=function(){for(var t=this._selectedDataIndicesMap,e=fn(t),i=[],n=0;n<e.length;n++){var a=t[e[n]];a>=0&&i.push(a)}return i},e.prototype.isSelected=function(t,e){var i=this.option.selectedMap;if(!i)return!1;var n=this.getData(e),a=tx(n,t);return i[a]||!1},e.prototype._innerSelect=function(t,e){var i,n,a=this.option.selectedMode,r=e.length;if(a&&r)if("multiple"===a)for(var o=this.option.selectedMap||(this.option.selectedMap={}),s=0;s<r;s++){var l=e[s],u=tx(t,l);o[u]=!0,this._selectedDataIndicesMap[u]=t.getRawIndex(l)}else if("single"===a||!0===a){var c=e[r-1];u=tx(t,c);this.option.selectedMap=(i={},i[u]=!0,i),this._selectedDataIndicesMap=(n={},n[u]=t.getRawIndex(c),n)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each((function(i){var n=t.getRawDataItem(i);n&&n.selected&&e.push(i)})),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return uy.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.useColorPaletteOnData=!1,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(uy);function ix(t){var e=t.name;Sl(t)||(t.name=nx(t)||e)}function nx(t){var e=t.getRawData(),i=e.mapDimensionsAll("seriesName"),n=[];return cn(i,(function(t){var i=e.getDimensionInfo(t);i.displayName&&n.push(i.displayName)})),n.join(" ")}function ax(t){return t.model.getRawData().count()}function rx(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),ox}function ox(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function sx(t,e){cn(Ai(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(i){t.wrapMethod(i,yn(lx,e))}))}function lx(t,e){var i=ux(t);return i&&i.setOutputEnd((e||this).count()),e}function ux(t){var e=(t.ecModel||{}).scheduler,i=e&&e.getPipeline(t.uid);if(i){var n=i.currentTask;if(n){var a=n.agentStubMap;a&&(n=a.get(t.uid))}return n}}ln(ex,u_),ln(ex,Fy),$l(ex,uy);var cx=ex,hx=function(){function t(){this.group=new Ls,this.uid=Hg("viewComponent")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,i,n){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,i,n){},t.prototype.updateLayout=function(t,e,i,n){},t.prototype.updateVisual=function(t,e,i,n){},t.prototype.blurSeries=function(t,e){},t}();Hl(hx),Zl(hx);var px=hx;function dx(){var t=Il();return function(e){var i=t(e),n=e.pipelineContext,a=!!i.large,r=!!i.progressiveRender,o=i.large=!(!n||!n.large),s=i.progressiveRender=!(!n||!n.progressiveRender);return!(a===o&&r===s)&&"reset"}}var fx=Il(),gx=dx(),mx=function(){function t(){this.group=new Ls,this.uid=Hg("viewChart"),this.renderTask=h_({plan:_x,reset:xx}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,i,n){},t.prototype.highlight=function(t,e,i,n){vx(t.getData(),n,"emphasis")},t.prototype.downplay=function(t,e,i,n){vx(t.getData(),n,"normal")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,i,n){this.render(t,e,i,n)},t.prototype.updateLayout=function(t,e,i,n){this.render(t,e,i,n)},t.prototype.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},t.markUpdateMethod=function(t,e){fx(t).updateMethod=e},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function yx(t,e,i){t&&("emphasis"===e?Sp:wp)(t,i)}function vx(t,e,i){var n=kl(t,e),a=e&&null!=e.highlightKey?Up(e.highlightKey):null;null!=n?cn(sl(n),(function(e){yx(t.getItemGraphicEl(e),i,a)})):t.eachItemGraphicEl((function(t){yx(t,i,a)}))}function _x(t){return gx(t.model)}function xx(t){var e=t.model,i=t.ecModel,n=t.api,a=t.payload,r=e.pipelineContext.progressiveRender,o=t.view,s=a&&fx(a).updateMethod,l=r?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==l&&o[l](e,i,n,a),bx[l]}Hl(mx,["dispose"]),Zl(mx);var bx={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Sx=mx,Cx="\0__throttleOriginMethod",Tx="\0__throttleRate",kx="\0__throttleType";function Ix(t,e,i){var n,a,r,o,s,l=0,u=0,c=null;function h(){u=(new Date).getTime(),c=null,t.apply(r,o||[])}e=e||0;var p=function(){for(var t=[],p=0;p<arguments.length;p++)t[p]=arguments[p];n=(new Date).getTime(),r=this,o=t;var d=s||e,f=s||i;s=null,a=n-(f?l:u)-d,clearTimeout(c),f?c=setTimeout(h,d):a>=0?h():c=setTimeout(h,-a),l=n};return p.clear=function(){c&&(clearTimeout(c),c=null)},p.debounceNextCall=function(t){s=t},p}function zx(t,e,i,n){var a=t[e];if(a){var r=a[Cx]||a,o=a[kx],s=a[Tx];if(s!==i||o!==n){if(null==i||!n)return t[e]=r;a=t[e]=Ix(r,i,"debounce"===n),a[Cx]=r,a[kx]=n,a[Tx]=i}return a}}var Mx=Il(),Px={itemStyle:Kl(Ng,!0),lineStyle:Kl(Ag,!0)},Lx={lineStyle:"stroke",itemStyle:"fill"};function Dx(t,e){var i=t.visualStyleMapper||Px[e];return i||(console.warn("Unkown style type '"+e+"'."),Px.itemStyle)}function Rx(t,e){var i=t.visualDrawType||Lx[e];return i||(console.warn("Unkown style type '"+e+"'."),"fill")}var Ax={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var i=t.getData(),n=t.visualStyleAccessPath||"itemStyle",a=t.getModel(n),r=Dx(t,n),o=r(a),s=a.getShallow("decal");s&&(i.setVisual("decal",s),s.dirty=!0);var l=Rx(t,n),u=o[l],c=_n(u)?u:null,h="auto"===o.fill||"auto"===o.stroke;if(!o[l]||c||h){var p=t.getColorFromPalette(t.name,null,e.getSeriesCount());o[l]||(o[l]=p,i.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||"function"===typeof o.fill?p:o.fill,o.stroke="auto"===o.stroke||"function"===typeof o.stroke?p:o.stroke}if(i.setVisual("style",o),i.setVisual("drawType",l),!e.isSeriesFiltered(t)&&c)return i.setVisual("colorFromPalette",!1),{dataEach:function(e,i){var n=t.getDataParams(i),a=nn({},o);a[l]=c(n),e.setItemVisual(i,"style",a)}}}},Ox=new Gg,Fx={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var i=t.getData(),n=t.visualStyleAccessPath||"itemStyle",a=Dx(t,n),r=i.getVisual("drawType");return{dataEach:i.hasItemOption?function(t,e){var i=t.getRawDataItem(e);if(i&&i[n]){Ox.option=i[n];var o=a(Ox),s=t.ensureUniqueItemVisual(e,"style");nn(s,o),Ox.option.decal&&(t.setItemVisual(e,"decal",Ox.option.decal),Ox.option.decal.dirty=!0),r in o&&t.setItemVisual(e,"colorFromPalette",!1)}}:null}}}},Nx={performRawSeries:!0,overallReset:function(t){var e=Gn();t.eachSeries((function(t){if(t.useColorPaletteOnData){var i=e.get(t.type);i||(i={},e.set(t.type,i)),Mx(t).scope=i}})),t.eachSeries((function(e){if(e.useColorPaletteOnData&&!t.isSeriesFiltered(e)){var i=e.getRawData(),n={},a=e.getData(),r=Mx(e).scope,o=e.visualStyleAccessPath||"itemStyle",s=Rx(e,o);a.each((function(t){var e=a.getRawIndex(t);n[e]=t})),i.each((function(t){var o=n[t],l=a.getItemVisual(o,"colorFromPalette");if(l){var u=a.ensureUniqueItemVisual(o,"style"),c=i.getName(t)||t+"",h=i.count();u[s]=e.getColorFromPalette(c,r,h)}}))}}))}},Ex=Math.PI;function Bx(t,e){e=e||{},an(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var i=new Ls,n=new Th({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});i.add(n);var a,r=new Bh({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),o=new Th({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return i.add(o),e.showSpinner&&(a=new pf({shape:{startAngle:-Ex/2,endAngle:-Ex/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),a.animateShape(!0).when(1e3,{endAngle:3*Ex/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:3*Ex/2}).delay(300).start("circularInOut"),i.add(a)),i.resize=function(){var i=r.getBoundingRect().width,s=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-2*s-(e.showSpinner&&i?10:0)-i)/2-(e.showSpinner&&i?0:5+i/2)+(e.showSpinner?0:i/2)+(i?0:s),u=t.getHeight()/2;e.showSpinner&&a.setShape({cx:l,cy:u}),o.setShape({x:l-s,y:u-s,width:2*s,height:2*s}),n.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},i.resize(),i}var Vx=function(){function t(t,e,i,n){this._stageTaskMap=Gn(),this.ecInstance=t,this.api=e,i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice(),this._allHandlers=i.concat(n)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),n=i.context,a=!e&&i.progressiveEnabled&&(!n||n.progressiveRender)&&t.__idxInPipeline>i.blockIndex,r=a?i.step:null,o=n&&n.modDataCount,s=null!=o?Math.ceil(o/r):null;return{step:r,modBy:s,modDataCount:o}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),n=t.getData(),a=n.count(),r=i.progressiveEnabled&&e.incrementalPrepareRender&&a>=i.threshold,o=t.get("large")&&a>=t.get("largeThreshold"),s="mod"===t.get("progressiveChunkMode")?a:null;t.pipelineContext=i.context={progressiveRender:r,modDataCount:s,large:o}},t.prototype.restorePipelines=function(t){var e=this,i=e._pipelineMap=Gn();t.eachSeries((function(t){var n=t.getProgressive(),a=t.uid;i.set(a,{id:a,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:n&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(n||700),count:0}),e._pipe(t,t.dataTask)}))},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),i=this.api;cn(this._allHandlers,(function(n){var a=t.get(n.uid)||t.set(n.uid,{}),r="";On(!(n.reset&&n.overallReset),r),n.reset&&this._createSeriesStageTask(n,a,e,i),n.overallReset&&this._createOverallStageTask(n,a,e,i)}),this)},t.prototype.prepareView=function(t,e,i,n){var a=t.renderTask,r=a.context;r.model=e,r.ecModel=i,r.api=n,a.__block=!t.incrementalPrepareRender,this._pipe(e,a)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,i){this._performStageTasks(this._visualHandlers,t,e,i)},t.prototype._performStageTasks=function(t,e,i,n){n=n||{};var a=!1,r=this;function o(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}cn(t,(function(t,s){if(!n.visualType||n.visualType===t.visualType){var l=r._stageTaskMap.get(t.uid),u=l.seriesTaskMap,c=l.overallTask;if(c){var h,p=c.agentStubMap;p.each((function(t){o(n,t)&&(t.dirty(),h=!0)})),h&&c.dirty(),r.updatePayload(c,i);var d=r.getPerformArgs(c,n.block);p.each((function(t){t.perform(d)})),c.perform(d)&&(a=!0)}else u&&u.each((function(s,l){o(n,s)&&s.dirty();var u=r.getPerformArgs(s,n.block);u.skip=!t.performRawSeries&&e.isSeriesFiltered(s.context.model),r.updatePayload(s,i),s.perform(u)&&(a=!0)}))}})),this.unfinished=a||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e=t.dataTask.perform()||e})),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))},t.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,i,n){var a=this,r=e.seriesTaskMap,o=e.seriesTaskMap=Gn(),s=t.seriesType,l=t.getTargetSeries;function u(e){var s=e.uid,l=o.set(s,r&&r.get(s)||h_({plan:$x,reset:Ux,count:Yx}));l.context={model:e,ecModel:i,api:n,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(e,l)}t.createOnAllSeries?i.eachRawSeries(u):s?i.eachRawSeriesByType(s,u):l&&l(i,n).each(u)},t.prototype._createOverallStageTask=function(t,e,i,n){var a=this,r=e.overallTask=e.overallTask||h_({reset:Gx});r.context={ecModel:i,api:n,overallReset:t.overallReset,scheduler:a};var o=r.agentStubMap,s=r.agentStubMap=Gn(),l=t.seriesType,u=t.getTargetSeries,c=!0,h=!1,p="";function d(t){var e=t.uid,i=s.set(e,o&&o.get(e)||(h=!0,h_({reset:Wx,onDirty:jx})));i.context={model:t,overallProgress:c},i.agent=r,i.__block=c,a._pipe(t,i)}On(!t.createOnAllSeries,p),l?i.eachRawSeriesByType(l,d):u?u(i,n).each(d):(c=!1,cn(i.getSeries(),d)),h&&r.dirty()},t.prototype._pipe=function(t,e){var i=t.uid,n=this._pipelineMap.get(i);!n.head&&(n.head=e),n.tail&&n.tail.pipe(e),n.tail=e,e.__idxInPipeline=n.count++,e.__pipeline=n},t.wrapStageHandler=function(t,e){return _n(t)&&(t={overallReset:t,seriesType:Zx(t)}),t.uid=Hg("stageHandler"),e&&(t.visualType=e),t},t}();function Gx(t){t.overallReset(t.ecModel,t.api,t.payload)}function Wx(t){return t.overallProgress&&Hx}function Hx(){this.agent.dirty(),this.getDownstream().dirty()}function jx(){this.agent&&this.agent.dirty()}function $x(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Ux(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=sl(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?hn(e,(function(t,e){return Xx(e)})):qx}var qx=Xx(0);function Xx(t){return function(e,i){var n=i.data,a=i.resetDefines[t];if(a&&a.dataEach)for(var r=e.start;r<e.end;r++)a.dataEach(n,r);else a&&a.progress&&a.progress(e,n)}}function Yx(t){return t.data.count()}function Zx(t){Kx=null;try{t(Qx,Jx)}catch(e){}return Kx}var Kx,Qx={},Jx={};function tb(t,e){for(var i in e.prototype)t[i]=jn}tb(Qx,Xy),tb(Jx,Ky),Qx.eachSeriesByType=Qx.eachRawSeriesByType=function(t){Kx=t},Qx.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Kx=t.subType)};var eb=Vx,ib=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],nb={color:ib,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],ib]},ab="#B9B8CE",rb="#100C2A",ob=function(){return{axisLine:{lineStyle:{color:ab}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},sb=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],lb={darkMode:!0,color:sb,backgroundColor:rb,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:ab}},textStyle:{color:ab},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:ab}},dataZoom:{borderColor:"#71708A",textStyle:{color:ab},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:ab}},timeline:{lineStyle:{color:ab},label:{color:ab},controlStyle:{color:ab,borderColor:ab}},calendar:{itemStyle:{color:rb},dayLabel:{color:ab},monthLabel:{color:ab},yearLabel:{color:ab}},timeAxis:ob(),logAxis:ob(),valueAxis:ob(),categoryAxis:ob(),line:{symbol:"circle"},graph:{color:sb},gauge:{title:{color:ab},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:ab},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};lb.categoryAxis.splitLine.show=!1;var ub=lb,cb=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},i={},n={};if(xn(t)){var a=Vl(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var r=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};cn(t,(function(t,a){for(var s=!1,l=0;l<r.length;l++){var u=r[l],c=a.lastIndexOf(u);if(c>0&&c===a.length-u.length){var h=a.slice(0,c);"data"!==h&&(e.mainType=h,e[u.toLowerCase()]=t,s=!0)}}o.hasOwnProperty(a)&&(i[a]=t,s=!0),s||(n[a]=t)}))}return{cptQuery:e,dataQuery:i,otherQuery:n}},t.prototype.filter=function(t,e){var i=this.eventInfo;if(!i)return!0;var n=i.targetEl,a=i.packedEvent,r=i.model,o=i.view;if(!r||!o)return!0;var s=e.cptQuery,l=e.dataQuery;return u(s,r,"mainType")&&u(s,r,"subType")&&u(s,r,"index","componentIndex")&&u(s,r,"name")&&u(s,r,"id")&&u(l,a,"name")&&u(l,a,"dataIndex")&&u(l,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(t,e.otherQuery,n,a));function u(t,e,i,n){return null==t[i]||e[n||i]===t[i]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),hb={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var i=t.getData();if(t.legendSymbol&&i.setVisual("legendSymbol",t.legendSymbol),t.hasSymbolVisual){var n=t.get("symbol"),a=t.get("symbolSize"),r=t.get("symbolKeepAspect"),o=t.get("symbolRotate"),s=t.get("symbolOffset"),l=_n(n),u=_n(a),c=_n(o),h=_n(s),p=l||u||c||h,d=!l&&n?n:t.defaultSymbol,f=u?null:a,g=c?null:o,m=h?null:s;if(i.setVisual({legendSymbol:t.legendSymbol||d,symbol:d,symbolSize:f,symbolKeepAspect:r,symbolRotate:g,symbolOffset:m}),!e.isSeriesFiltered(t))return{dataEach:p?y:null}}function y(e,i){var r=t.getRawValue(i),p=t.getDataParams(i);l&&e.setItemVisual(i,"symbol",n(r,p)),u&&e.setItemVisual(i,"symbolSize",a(r,p)),c&&e.setItemVisual(i,"symbolRotate",o(r,p)),h&&e.setItemVisual(i,"symbolOffset",s(r,p))}}},pb={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t)){var i=t.getData();return{dataEach:i.hasItemOption?n:null}}function n(t,e){var i=t.getItemModel(e),n=i.getShallow("symbol",!0),a=i.getShallow("symbolSize",!0),r=i.getShallow("symbolRotate",!0),o=i.getShallow("symbolOffset",!0),s=i.getShallow("symbolKeepAspect",!0);null!=n&&t.setItemVisual(e,"symbol",n),null!=a&&t.setItemVisual(e,"symbolSize",a),null!=r&&t.setItemVisual(e,"symbolRotate",r),null!=o&&t.setItemVisual(e,"symbolOffset",o),null!=s&&t.setItemVisual(e,"symbolKeepAspect",s)}}};function db(t,e,i){switch(i){case"color":var n=t.getItemVisual(e,"style");return n[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,i);default:0}}function fb(t,e){switch(e){case"color":var i=t.getVisual("style");return i[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e);default:0}}var gb=2*Math.PI,mb=Fc.CMD,yb=["top","right","bottom","left"];function vb(t,e,i,n,a){var r=i.width,o=i.height;switch(t){case"top":n.set(i.x+r/2,i.y-e),a.set(0,-1);break;case"bottom":n.set(i.x+r/2,i.y+o+e),a.set(0,1);break;case"left":n.set(i.x-e,i.y+o/2),a.set(-1,0);break;case"right":n.set(i.x+r+e,i.y+o/2),a.set(1,0);break}}function _b(t,e,i,n,a,r,o,s,l){o-=t,s-=e;var u=Math.sqrt(o*o+s*s);o/=u,s/=u;var c=o*i+t,h=s*i+e;if(Math.abs(n-a)%gb<1e-4)return l[0]=c,l[1]=h,u-i;if(r){var p=n;n=Gc(a),a=Gc(p)}else n=Gc(n),a=Gc(a);n>a&&(a+=gb);var d=Math.atan2(s,o);if(d<0&&(d+=gb),d>=n&&d<=a||d+gb>=n&&d+gb<=a)return l[0]=c,l[1]=h,u-i;var f=i*Math.cos(n)+t,g=i*Math.sin(n)+e,m=i*Math.cos(a)+t,y=i*Math.sin(a)+e,v=(f-o)*(f-o)+(g-s)*(g-s),_=(m-o)*(m-o)+(y-s)*(y-s);return v<_?(l[0]=f,l[1]=g,Math.sqrt(v)):(l[0]=m,l[1]=y,Math.sqrt(_))}function xb(t,e,i,n,a,r,o,s){var l=a-t,u=r-e,c=i-t,h=n-e,p=Math.sqrt(c*c+h*h);c/=p,h/=p;var d=l*c+u*h,f=d/p;s&&(f=Math.min(Math.max(f,0),1)),f*=p;var g=o[0]=t+f*c,m=o[1]=e+f*h;return Math.sqrt((g-a)*(g-a)+(m-r)*(m-r))}function bb(t,e,i,n,a,r,o){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n);var s=t+i,l=e+n,u=o[0]=Math.min(Math.max(a,t),s),c=o[1]=Math.min(Math.max(r,e),l);return Math.sqrt((u-a)*(u-a)+(c-r)*(c-r))}var Sb=[];function wb(t,e,i){var n=bb(e.x,e.y,e.width,e.height,t.x,t.y,Sb);return i.set(Sb[0],Sb[1]),n}function Cb(t,e,i){for(var n,a,r=0,o=0,s=0,l=0,u=1/0,c=e.data,h=t.x,p=t.y,d=0;d<c.length;){var f=c[d++];1===d&&(r=c[d],o=c[d+1],s=r,l=o);var g=u;switch(f){case mb.M:s=c[d++],l=c[d++],r=s,o=l;break;case mb.L:g=xb(r,o,c[d],c[d+1],h,p,Sb,!0),r=c[d++],o=c[d++];break;case mb.C:g=Uu(r,o,c[d++],c[d++],c[d++],c[d++],c[d],c[d+1],h,p,Sb),r=c[d++],o=c[d++];break;case mb.Q:g=Ju(r,o,c[d++],c[d++],c[d],c[d+1],h,p,Sb),r=c[d++],o=c[d++];break;case mb.A:var m=c[d++],y=c[d++],v=c[d++],_=c[d++],x=c[d++],b=c[d++];d+=1;var S=!!(1-c[d++]);n=Math.cos(x)*v+m,a=Math.sin(x)*_+y,d<=1&&(s=n,l=a);var w=(h-m)*_/v+m;g=_b(m,y,_,x,x+b,S,w,p,Sb),r=Math.cos(x+b)*v+m,o=Math.sin(x+b)*_+y;break;case mb.R:s=r=c[d++],l=o=c[d++];var C=c[d++],T=c[d++];g=bb(s,l,C,T,h,p,Sb);break;case mb.Z:g=xb(r,o,s,l,h,p,Sb,!0),r=s,o=l;break}g<u&&(u=g,i.set(Sb[0],Sb[1]))}return u}var Tb=new no,kb=new no,Ib=new no,zb=new no,Mb=new no;function Pb(t,e){if(t){var i=t.getTextGuideLine(),n=t.getTextContent();if(n&&i){var a=t.textGuideLineConfig||{},r=[[0,0],[0,0],[0,0]],o=a.candidates||yb,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,u=a.anchor,c=t.getComputedTransform(),h=c&&tr([],c),p=e.get("length2")||0;u&&Ib.copy(u);for(var d=0;d<o.length;d++){var f=o[d];vb(f,0,s,Tb,zb),no.scaleAndAdd(kb,Tb,zb,p),kb.transform(h);var g=t.getBoundingRect(),m=u?u.distance(kb):t instanceof lh?Cb(kb,t.path,Ib):wb(kb,g,Ib);m<l&&(l=m,kb.transform(c),Ib.transform(c),Ib.toArray(r[0]),kb.toArray(r[1]),Tb.toArray(r[2]))}Rb(r,e.get("minTurnAngle")),i.setShape({points:r})}}}var Lb=[],Db=new no;function Rb(t,e){if(e<=180&&e>0){e=e/180*Math.PI,Tb.fromArray(t[0]),kb.fromArray(t[1]),Ib.fromArray(t[2]),no.sub(zb,Tb,kb),no.sub(Mb,Ib,kb);var i=zb.len(),n=Mb.len();if(!(i<.001||n<.001)){zb.scale(1/i),Mb.scale(1/n);var a=zb.dot(Mb),r=Math.cos(e);if(r<a){var o=xb(kb.x,kb.y,Ib.x,Ib.y,Tb.x,Tb.y,Lb,!1);Db.fromArray(Lb),Db.scaleAndAdd(Mb,o/Math.tan(Math.PI-e));var s=Ib.x!==kb.x?(Db.x-kb.x)/(Ib.x-kb.x):(Db.y-kb.y)/(Ib.y-kb.y);if(isNaN(s))return;s<0?no.copy(Db,kb):s>1&&no.copy(Db,Ib),Db.toArray(t[1])}}}}function Ab(t,e,i,n){var a="normal"===i,r=a?t:t.ensureState(i);r.ignore=e;var o=n.get("smooth");o&&!0===o&&(o=.3),r.shape=r.shape||{},o>0&&(r.shape.smooth=o);var s=n.getModel("lineStyle").getLineStyle();a?t.useStyle(s):r.style=s}function Ob(t,e){var i=e.smooth,n=e.points;if(n)if(t.moveTo(n[0][0],n[0][1]),i>0&&n.length>=3){var a=ta(n[0],n[1]),r=ta(n[1],n[2]);if(!a||!r)return t.lineTo(n[1][0],n[1][1]),void t.lineTo(n[2][0],n[2][1]);var o=Math.min(a,r)*i,s=na([],n[1],n[0],o/a),l=na([],n[1],n[2],o/r),u=na([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)t.lineTo(n[c][0],n[c][1])}function Fb(t,e,i){var n=t.getTextGuideLine(),a=t.getTextContent();if(a){for(var r=e.normal,o=r.get("show"),s=a.ignore,l=0;l<Xh.length;l++){var u=Xh[l],c=e[u],h="normal"===u;if(c){var p=c.get("show"),d=h?s:Ln(a.states[u]&&a.states[u].ignore,s);if(d||!Ln(p,o)){var f=h?n:n&&n.states.normal;f&&(f.ignore=!0);continue}n||(n=new Jd,t.setTextGuideLine(n),h||!s&&o||Ab(n,!0,"normal",e.normal),t.stateProxy&&(n.stateProxy=t.stateProxy)),Ab(n,!1,u,c)}}if(n){an(n.style,i),n.style.fill=null;var g=r.get("showAbove"),m=t.textGuideLineConfig=t.textGuideLineConfig||{};m.showAbove=g||!1,n.buildPath=Ob}}else n&&t.removeTextGuideLine()}function Nb(t,e){e=e||"labelLine";for(var i={normal:t.getModel(e)},n=0;n<qh.length;n++){var a=qh[n];i[a]=t.getModel([a,e])}return i}function Eb(t){for(var e=[],i=0;i<t.length;i++){var n=t[i];if(!n.defaultAttr.ignore){var a=n.label,r=a.getComputedTransform(),o=a.getBoundingRect(),s=!r||r[1]<1e-5&&r[2]<1e-5,l=a.style.margin||0,u=o.clone();u.applyTransform(r),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=s?new kf(o,r):null;e.push({label:a,labelLine:n.labelLine,rect:u,localRect:o,obb:c,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:r})}}return e}function Bb(t,e,i,n,a,r){var o=t.length;if(!(o<2)){t.sort((function(t,i){return t.rect[e]-i.rect[e]}));for(var s,l=0,u=!1,c=[],h=0,p=0;p<o;p++){var d=t[p],f=d.rect;s=f[e]-l,s<0&&(f[e]-=s,d.label[e]-=s,u=!0);var g=Math.max(-s,0);c.push(g),h+=g,l=f[e]+f[i]}h>0&&r&&S(-h/o,0,o);var m,y,v=t[0],_=t[o-1];return x(),m<0&&w(-m,.8),y<0&&w(y,.8),x(),b(m,y,1),b(y,m,-1),x(),m<0&&C(-m),y<0&&C(y),u}function x(){m=v.rect[e]-n,y=a-_.rect[e]-_.rect[i]}function b(t,e,i){if(t<0){var n=Math.min(e,-t);if(n>0){S(n*i,0,o);var a=n+t;a<0&&w(-a*i,1)}else w(-t*i,1)}}function S(i,n,a){0!==i&&(u=!0);for(var r=n;r<a;r++){var o=t[r],s=o.rect;s[e]+=i,o.label[e]+=i}}function w(n,a){for(var r=[],s=0,l=1;l<o;l++){var u=t[l-1].rect,c=Math.max(t[l].rect[e]-u[e]-u[i],0);r.push(c),s+=c}if(s){var h=Math.min(Math.abs(n)/s,a);if(n>0)for(l=0;l<o-1;l++){var p=r[l]*h;S(p,0,l+1)}else for(l=o-1;l>0;l--){p=r[l-1]*h;S(-p,l,o)}}}function C(t){var e=t<0?-1:1;t=Math.abs(t);for(var i=Math.ceil(t/(o-1)),n=0;n<o-1;n++)if(e>0?S(i,0,n+1):S(-i,o-n-1,o),t-=i,t<=0)return}}function Vb(t,e,i,n){return Bb(t,"x","width",e,i,n)}function Gb(t,e,i,n){return Bb(t,"y","height",e,i,n)}function Wb(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var i=new fo(0,0,0,0);function n(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var a=0;a<t.length;a++){var r=t[a],o=r.axisAligned,s=r.localRect,l=r.transform,u=r.label,c=r.labelLine;i.copy(r.rect),i.width-=.1,i.height-=.1,i.x+=.05,i.y+=.05;for(var h=r.obb,p=!1,d=0;d<e.length;d++){var f=e[d];if(i.intersect(f.rect)){if(o&&f.axisAligned){p=!0;break}if(f.obb||(f.obb=new kf(f.localRect,f.transform)),h||(h=new kf(s,l)),h.intersect(f.obb)){p=!0;break}}}p?(n(u),c&&n(c)):(u.attr("ignore",r.defaultAttr.ignore),c&&c.attr("ignore",r.defaultAttr.labelGuideIgnore),e.push(r))}}function Hb(t){if(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].slice());return e}}function jb(t,e){var i=t.label,n=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:i.style.align,verticalAlign:i.style.verticalAlign,labelLinePoints:Hb(n&&n.shape.points)}}var $b=["align","verticalAlign","width","height","fontSize"],Ub=new ur,qb=Il(),Xb=Il();function Yb(t,e,i){for(var n=0;n<i.length;n++){var a=i[n];null!=e[a]&&(t[a]=e[a])}}var Zb=["x","y","rotation"],Kb=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,i,n,a){var r=n.style,o=n.__hostTarget,s=o.textConfig||{},l=n.getComputedTransform(),u=n.getBoundingRect().plain();fo.applyTransform(u,u,l),l?Ub.setLocalTransform(l):(Ub.x=Ub.y=Ub.rotation=Ub.originX=Ub.originY=0,Ub.scaleX=Ub.scaleY=1);var c,h=n.__hostTarget;if(h){c=h.getBoundingRect().plain();var p=h.getComputedTransform();fo.applyTransform(c,c,p)}var d=c&&h.getTextGuideLine();this._labelList.push({label:n,labelLine:d,seriesModel:i,dataIndex:t,dataType:e,layoutOption:a,computedLayoutOption:null,rect:u,hostRect:c,priority:c?c.width*c.height:0,defaultAttr:{ignore:n.ignore,labelGuideIgnore:d&&d.ignore,x:Ub.x,y:Ub.y,scaleX:Ub.scaleX,scaleY:Ub.scaleY,rotation:Ub.rotation,style:{x:r.x,y:r.y,align:r.align,verticalAlign:r.verticalAlign,width:r.width,height:r.height,fontSize:r.fontSize},cursor:n.cursor,attachedPos:s.position,attachedRot:s.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var i=t.__model,n=i.get("labelLayout");(_n(n)||fn(n).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var a=t.getTextContent(),r=Vh(t);a&&!a.disableLabelLayout&&e._addLabel(r.dataIndex,r.dataType,i,a,n)}))},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),i=t.getHeight();function n(t,e){return function(){Pb(t,e)}}for(var a=0;a<this._labelList.length;a++){var r=this._labelList[a],o=r.label,s=o.__hostTarget,l=r.defaultAttr,u=void 0;u="function"===typeof r.layoutOption?r.layoutOption(jb(r,s)):r.layoutOption,u=u||{},r.computedLayoutOption=u;var c=Math.PI/180;s&&s.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:l.attachedPos,rotation:null!=u.rotate?u.rotate*c:l.attachedRot,offset:[u.dx||0,u.dy||0]});var h=!1;if(null!=u.x?(o.x=Hs(u.x,e),o.setStyle("x",0),h=!0):(o.x=l.x,o.setStyle("x",l.style.x)),null!=u.y?(o.y=Hs(u.y,i),o.setStyle("y",0),h=!0):(o.y=l.y,o.setStyle("y",l.style.y)),u.labelLinePoints){var p=s.getTextGuideLine();p&&(p.setShape({points:u.labelLinePoints}),h=!1)}var d=qb(o);d.needsUpdateLabelLine=h,o.rotation=null!=u.rotate?u.rotate*c:l.rotation,o.scaleX=l.scaleX,o.scaleY=l.scaleY;for(var f=0;f<$b.length;f++){var g=$b[f];o.setStyle(g,null!=u[g]?u[g]:l.style[g])}if(u.draggable){if(o.draggable=!0,o.cursor="move",s){var m=r.seriesModel;if(null!=r.dataIndex){var y=r.seriesModel.getData(r.dataType);m=y.getItemModel(r.dataIndex)}o.on("drag",n(s,m.getModel("labelLine")))}}else o.off("drag"),o.cursor=l.cursor}},t.prototype.layout=function(t){var e=t.getWidth(),i=t.getHeight(),n=Eb(this._labelList),a=dn(n,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),r=dn(n,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));Vb(a,0,e),Gb(r,0,i);var o=dn(n,(function(t){return t.layoutOption.hideOverlap}));Wb(o)},t.prototype.processLabelsOverall=function(){var t=this;cn(this._chartViewList,(function(e){var i=e.__model,n=e.ignoreLabelLineUpdate,a=i.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore)return!0;var r=!n,o=e.getTextContent();!r&&o&&(r=qb(o).needsUpdateLabelLine),r&&t._updateLabelLine(e,i),a&&t._animateLabels(e,i)}))}))},t.prototype._updateLabelLine=function(t,e){var i=t.getTextContent(),n=Vh(t),a=n.dataIndex;if(i&&null!=a){var r=e.getData(n.dataType),o=r.getItemModel(a),s={},l=r.getItemVisual(a,"style"),u=r.getVisual("drawType");s.stroke=l[u];var c=o.getModel("labelLine");Fb(t,Nb(o),s),Pb(t,c)}},t.prototype._animateLabels=function(t,e){var i=t.getTextContent(),n=t.getTextGuideLine();if(i&&!i.ignore&&!i.invisible&&!t.disableLabelAnimation&&!Qf(t)){var a=qb(i),r=a.oldLayout,o=Vh(t),s=o.dataIndex,l={x:i.x,y:i.y,rotation:i.rotation},u=e.getData(o.dataType);if(r){i.attr(r);var c=t.prevStates;c&&(on(c,"select")>=0&&i.attr(a.oldLayoutSelect),on(c,"emphasis")>=0&&i.attr(a.oldLayoutEmphasis)),qf(i,l,e,s)}else if(i.attr(l),!Ig(i).valueAnimation){var h=Ln(i.style.opacity,1);i.style.opacity=0,Xf(i,{style:{opacity:h}},e,s)}if(a.oldLayout=l,i.states.select){var p=a.oldLayoutSelect={};Yb(p,l,Zb),Yb(p,i.states.select,Zb)}if(i.states.emphasis){var d=a.oldLayoutEmphasis={};Yb(d,l,Zb),Yb(d,i.states.emphasis,Zb)}Mg(i,s,u,e,e)}if(n&&!n.ignore&&!n.invisible){a=Xb(n),r=a.oldLayout;var f={points:n.shape.points};r?(n.attr({shape:r}),qf(n,{shape:f},e)):(n.setShape(f),n.style.strokePercent=0,Xf(n,{style:{strokePercent:1}},e)),a.oldLayout=f}},t}(),Qb=Kb;function Jb(t,e,i,n,a){var r=t+e;i.isSilent(r)||n.eachComponent({mainType:"series",subType:"pie"},(function(t){for(var e=t.seriesIndex,n=a.selected,o=0;o<n.length;o++)if(n[o].seriesIndex===e){var s=t.getData(),l=kl(s,a.fromActionPayload);i.trigger(r,{type:r,seriesId:t.id,name:vn(l)?s.getName(l[0]):s.getName(l),selected:nn({},t.option.selectedMap)})}}))}function tS(t,e,i){t.on("selectchanged",(function(t){var n=i.getModel();t.isFromClick?(Jb("map","selectchanged",e,n,t),Jb("pie","selectchanged",e,n,t)):"select"===t.fromAction?(Jb("map","selected",e,n,t),Jb("pie","selected",e,n,t)):"unselect"===t.fromAction&&(Jb("map","unselected",e,n,t),Jb("pie","unselected",e,n,t))}))}function eS(t,e,i){var n;while(t){if(e(t)&&(n=t,i))break;t=t.__hostTarget||t.parent}return n}var iS=Math.round(9*Math.random()),nS=function(){function t(){this._id="__ec_inner_"+iS++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var i=this._guard(t);return"function"===typeof Object.defineProperty?Object.defineProperty(i,this._id,{value:e,enumerable:!1,configurable:!0}):i[this._id]=e,this},t.prototype["delete"]=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}(),aS=nS,rS=lh.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=e.width/2,r=e.height/2;t.moveTo(i,n-r),t.lineTo(i+a,n+r),t.lineTo(i-a,n+r),t.closePath()}}),oS=lh.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,a=e.width/2,r=e.height/2;t.moveTo(i,n-r),t.lineTo(i+a,n),t.lineTo(i,n+r),t.lineTo(i-a,n),t.closePath()}}),sS=lh.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,a=e.width/5*3,r=Math.max(a,e.height),o=a/2,s=o*o/(r-o),l=n-r+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,h=Math.sin(u),p=Math.cos(u),d=.6*o,f=.7*o;t.moveTo(i-c,l+s),t.arc(i,l,o,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(i+c-h*d,l+s+p*d,i,n-f,i,n),t.bezierCurveTo(i,n-f,i-c+h*d,l+s+p*d,i-c,l+s),t.closePath()}}),lS=lh.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,a=e.x,r=e.y,o=n/3*2;t.moveTo(a,r),t.lineTo(a+o,r+i),t.lineTo(a,r+i/4*3),t.lineTo(a-o,r+i),t.lineTo(a,r),t.closePath()}}),uS={line:af,rect:Th,roundRect:Th,square:Th,circle:xd,diamond:oS,pin:sS,arrow:lS,triangle:rS},cS={line:function(t,e,i,n,a){a.x1=t,a.y1=e+n/2,a.x2=t+i,a.y2=e+n/2},rect:function(t,e,i,n,a){a.x=t,a.y=e,a.width=i,a.height=n},roundRect:function(t,e,i,n,a){a.x=t,a.y=e,a.width=i,a.height=n,a.r=Math.min(i,n)/4},square:function(t,e,i,n,a){var r=Math.min(i,n);a.x=t,a.y=e,a.width=r,a.height=r},circle:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.r=Math.min(i,n)/2},diamond:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.width=i,a.height=n},pin:function(t,e,i,n,a){a.x=t+i/2,a.y=e+n/2,a.width=i,a.height=n},arrow:function(t,e,i,n,a){a.x=t+i/2,a.y=e+n/2,a.width=i,a.height=n},triangle:function(t,e,i,n,a){a.cx=t+i/2,a.cy=e+n/2,a.width=i,a.height=n}},hS={};cn(uS,(function(t,e){hS[e]=new t}));var pS=lh.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,i){var n=ko(t,e,i),a=this.shape;return a&&"pin"===a.symbolType&&"inside"===e.position&&(n.y=i.y+.4*i.height),n},buildPath:function(t,e,i){var n=e.symbolType;if("none"!==n){var a=hS[n];a||(n="rect",a=hS[n]),cS[n](e.x,e.y,e.width,e.height,a.shape),a.buildPath(t,a.shape,i)}}});function dS(t,e){if("image"!==this.type){var i=this.style;this.__isEmptyBrush?(i.stroke=t,i.fill=e||"#fff",i.lineWidth=2):"line"===this.shape.symbolType?i.stroke=t:i.fill=t,this.markRedraw()}}function fS(t,e,i,n,a,r,o){var s,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),s=0===t.indexOf("image://")?Bf(t.slice(8),new fo(e,i,n,a),o?"center":"cover"):0===t.indexOf("path://")?Ef(t.slice(7),{},new fo(e,i,n,a),o?"center":"cover"):new pS({shape:{symbolType:t,x:e,y:i,width:n,height:a}}),s.__isEmptyBrush=l,s.setColor=dS,r&&s.setColor(r),s}function gS(t,e,i){var n=null==e.x?0:e.x,a=null==e.x2?1:e.x2,r=null==e.y?0:e.y,o=null==e.y2?0:e.y2;e.global||(n=n*i.width+i.x,a=a*i.width+i.x,r=r*i.height+i.y,o=o*i.height+i.y),n=isNaN(n)?0:n,a=isNaN(a)?1:a,r=isNaN(r)?0:r,o=isNaN(o)?0:o;var s=t.createLinearGradient(n,r,a,o);return s}function mS(t,e,i){var n=i.width,a=i.height,r=Math.min(n,a),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;e.global||(o=o*n+i.x,s=s*a+i.y,l*=r);var u=t.createRadialGradient(o,s,0,o,s,l);return u}function yS(t,e,i){for(var n="radial"===e.type?mS(t,e,i):gS(t,e,i),a=e.colorStops,r=0;r<a.length;r++)n.addColorStop(a[r].offset,a[r].color);return n}function vS(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0;return!1}function _S(t,e){return t&&"solid"!==t&&e>0?(e=e||1,"dashed"===t?[4*e,2*e]:"dotted"===t?[e]:Sn(t)?[t]:vn(t)?t:null):null}var xS=new Fc(!0);function bS(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function SS(t){var e=t.fill;return null!=e&&"none"!==e}function wS(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var i=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=i}else t.fill()}function CS(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var i=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=i}else t.stroke()}function TS(t,e,i){var n=nu(e.image,e.__image,i);if(ru(n)){var a=t.createPattern(n,e.repeat||"repeat");if("function"===typeof DOMMatrix&&a.setTransform){var r=new DOMMatrix;r.rotateSelf(0,0,(e.rotation||0)/Math.PI*180),r.scaleSelf(e.scaleX||1,e.scaleY||1),r.translateSelf(e.x||0,e.y||0),a.setTransform(r)}return a}}function kS(t,e,i,n){var a=bS(i),r=SS(i),o=i.strokePercent,s=o<1,l=!e.path;e.silent&&!s||!l||e.createPathProxy();var u=e.path||xS;if(!n){var c=i.fill,h=i.stroke,p=r&&!!c.colorStops,d=a&&!!h.colorStops,f=r&&!!c.image,g=a&&!!h.image,m=void 0,y=void 0,v=void 0,_=void 0,x=void 0;(p||d)&&(x=e.getBoundingRect()),p&&(m=e.__dirty?yS(t,c,x):e.__canvasFillGradient,e.__canvasFillGradient=m),d&&(y=e.__dirty?yS(t,h,x):e.__canvasStrokeGradient,e.__canvasStrokeGradient=y),f&&(v=e.__dirty||!e.__canvasFillPattern?TS(t,c,e):e.__canvasFillPattern,e.__canvasFillPattern=v),g&&(_=e.__dirty||!e.__canvasStrokePattern?TS(t,h,e):e.__canvasStrokePattern,e.__canvasStrokePattern=v),p?t.fillStyle=m:f&&(v?t.fillStyle=v:r=!1),d?t.strokeStyle=y:g&&(_?t.strokeStyle=_:a=!1)}var b=i.lineDash&&i.lineWidth>0&&_S(i.lineDash,i.lineWidth),S=i.lineDashOffset,w=!!t.setLineDash,C=e.getGlobalScale();if(u.setScale(C[0],C[1],e.segmentIgnoreThreshold),b){var T=i.strokeNoScale&&e.getLineScale?e.getLineScale():1;T&&1!==T&&(b=hn(b,(function(t){return t/T})),S/=T)}var k=!0;(l||e.__dirty&lh.SHAPE_CHANGED_BIT||b&&!w&&a)&&(u.setDPR(t.dpr),s?u.setContext(null):(u.setContext(t),k=!1),u.reset(),b&&!w&&(u.setLineDash(b),u.setLineDashOffset(S)),e.buildPath(u,e.shape,n),u.toStatic(),e.pathUpdated()),k&&u.rebuildPath(t,s?o:1),b&&w&&(t.setLineDash(b),t.lineDashOffset=S),n||(i.strokeFirst?(a&&CS(t,i),r&&wS(t,i)):(r&&wS(t,i),a&&CS(t,i))),b&&w&&t.setLineDash([])}function IS(t,e,i){var n=e.__image=nu(i.image,e.__image,e,e.onload);if(n&&ru(n)){var a=i.x||0,r=i.y||0,o=e.getWidth(),s=e.getHeight(),l=n.width/n.height;if(null==o&&null!=s?o=s*l:null==s&&null!=o?s=o/l:null==o&&null==s&&(o=n.width,s=n.height),i.sWidth&&i.sHeight){var u=i.sx||0,c=i.sy||0;t.drawImage(n,u,c,i.sWidth,i.sHeight,a,r,o,s)}else if(i.sx&&i.sy){u=i.sx,c=i.sy;var h=o-u,p=s-c;t.drawImage(n,u,c,h,p,a,r,o,s)}else t.drawImage(n,a,r,o,s)}}function zS(t,e,i){var n=i.text;if(null!=n&&(n+=""),n){t.font=i.font||mo,t.textAlign=i.textAlign,t.textBaseline=i.textBaseline;var a=void 0;if(t.setLineDash){var r=i.lineDash&&i.lineWidth>0&&_S(i.lineDash,i.lineWidth),o=i.lineDashOffset;if(r){var s=i.strokeNoScale&&e.getLineScale?e.getLineScale():1;s&&1!==s&&(r=hn(r,(function(t){return t/s})),o/=s),t.setLineDash(r),t.lineDashOffset=o,a=!0}}i.strokeFirst?(bS(i)&&t.strokeText(n,i.x,i.y),SS(i)&&t.fillText(n,i.x,i.y)):(SS(i)&&t.fillText(n,i.x,i.y),bS(i)&&t.strokeText(n,i.x,i.y)),a&&t.setLineDash([])}}var MS=["shadowBlur","shadowOffsetX","shadowOffsetY"],PS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function LS(t,e,i,n,a){var r=!1;if(!n&&(i=i||{},e===i))return!1;if(n||e.opacity!==i.opacity){r||(WS(t,a),r=!0);var o=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(o)?Su.opacity:o}(n||e.blend!==i.blend)&&(r||(WS(t,a),r=!0),t.globalCompositeOperation=e.blend||Su.blend);for(var s=0;s<MS.length;s++){var l=MS[s];(n||e[l]!==i[l])&&(r||(WS(t,a),r=!0),t[l]=t.dpr*(e[l]||0))}return(n||e.shadowColor!==i.shadowColor)&&(r||(WS(t,a),r=!0),t.shadowColor=e.shadowColor||Su.shadowColor),r}function DS(t,e,i,n,a){var r=HS(e,a.inHover),o=n?null:i&&HS(i,a.inHover)||{};if(r===o)return!1;var s=LS(t,r,o,n,a);if((n||r.fill!==o.fill)&&(s||(WS(t,a),s=!0),t.fillStyle=r.fill),(n||r.stroke!==o.stroke)&&(s||(WS(t,a),s=!0),t.strokeStyle=r.stroke),(n||r.opacity!==o.opacity)&&(s||(WS(t,a),s=!0),t.globalAlpha=null==r.opacity?1:r.opacity),e.hasStroke()){var l=r.lineWidth,u=l/(r.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1);t.lineWidth!==u&&(s||(WS(t,a),s=!0),t.lineWidth=u)}for(var c=0;c<PS.length;c++){var h=PS[c],p=h[0];(n||r[p]!==o[p])&&(s||(WS(t,a),s=!0),t[p]=r[p]||h[1])}return s}function RS(t,e,i,n,a){return LS(t,HS(e,a.inHover),i&&HS(i,a.inHover),n,a)}function AS(t,e){var i=e.transform,n=t.dpr||1;i?t.setTransform(n*i[0],n*i[1],n*i[2],n*i[3],n*i[4],n*i[5]):t.setTransform(n,0,0,n,0,0)}function OS(t,e,i){for(var n=!1,a=0;a<t.length;a++){var r=t[a];n=n||r.isZeroArea(),AS(e,r),e.beginPath(),r.buildPath(e,r.shape),e.clip()}i.allClipped=n}function FS(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var NS=1,ES=2,BS=3,VS=4;function GS(t){var e=SS(t),i=bS(t);return!(t.lineDash||!(+e^+i)||e&&"string"!==typeof t.fill||i&&"string"!==typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function WS(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function HS(t,e){return e&&t.__hoverStyle||t.style}function jS(t,e){$S(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function $S(t,e,i,n){var a=e.transform;if(!e.shouldBePainted(i.viewWidth,i.viewHeight,!1,!1))return e.__dirty&=~jo.REDARAW_BIT,void(e.__isRendered=!1);var r=e.__clipPaths,o=i.prevElClipPaths,s=!1,l=!1;if(o&&!vS(r,o)||(o&&o.length&&(WS(t,i),t.restore(),l=s=!0,i.prevElClipPaths=null,i.allClipped=!1,i.prevEl=null),r&&r.length&&(WS(t,i),t.save(),OS(r,t,i),s=!0),i.prevElClipPaths=r),i.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var u=i.prevEl;u||(l=s=!0);var c=e instanceof lh&&e.autoBatch&&GS(e.style);s||FS(a,u.transform)?(WS(t,i),AS(t,e)):c||WS(t,i);var h=HS(e,i.inHover);e instanceof lh?(i.lastDrawType!==NS&&(l=!0,i.lastDrawType=NS),DS(t,e,u,l,i),c&&(i.batchFill||i.batchStroke)||t.beginPath(),kS(t,e,h,c),c&&(i.batchFill=h.fill||"",i.batchStroke=h.stroke||"")):e instanceof hh?(i.lastDrawType!==BS&&(l=!0,i.lastDrawType=BS),DS(t,e,u,l,i),zS(t,e,h)):e instanceof mh?(i.lastDrawType!==ES&&(l=!0,i.lastDrawType=ES),RS(t,e,u,l,i),IS(t,e,h)):e instanceof Mf&&(i.lastDrawType!==VS&&(l=!0,i.lastDrawType=VS),US(t,e,i)),c&&n&&WS(t,i),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),i.prevEl=e,e.__dirty=0,e.__isRendered=!0}}function US(t,e,i){var n=e.getDisplayables(),a=e.getTemporalDisplayables();t.save();var r,o,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:i.viewWidth,viewHeight:i.viewHeight,inHover:i.inHover};for(r=e.getCursor(),o=n.length;r<o;r++){var l=n[r];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),$S(t,l,s,r===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),s.prevEl=l}for(var u=0,c=a.length;u<c;u++){l=a[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),$S(t,l,s,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),s.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var qS,XS=new aS,YS=new yr(100),ZS=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function KS(t,e){if("none"===t)return null;var i=e.getDevicePixelRatio(),n=e.getZr(),a="svg"===n.painter.type;t.dirty&&XS["delete"](t);var r=XS.get(t);if(r)return r;var o=an(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===o.backgroundColor&&(o.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=o.rotation,s.scaleX=s.scaleY=a?1:1/i,XS.set(t,s),t.dirty=!1,s;function l(t){for(var e,r=[i],s=!0,l=0;l<ZS.length;++l){var u=o[ZS[l]],c=typeof u;if(null!=u&&!vn(u)&&"string"!==c&&"number"!==c&&"boolean"!==c){s=!1;break}r.push(u)}if(s){e=r.join(",")+(a?"-svg":"");var h=YS.get(e);h&&(a?t.svgElement=h:t.image=h)}var p,d=JS(o.dashArrayX),f=tw(o.dashArrayY),g=QS(o.symbol),m=ew(d),y=iw(f),v=!a&&rn(),_=a&&n.painter.createSVGElement("g"),x=b();function b(){for(var t=1,e=0,i=m.length;e<i;++e)t=al(t,m[e]);var n=1;for(e=0,i=g.length;e<i;++e)n=al(n,g[e].length);t*=n;var a=y*m.length*g.length;return{width:Math.max(1,Math.min(t,o.maxTileWidth)),height:Math.max(1,Math.min(a,o.maxTileHeight))}}function S(){p&&(p.clearRect(0,0,v.width,v.height),o.backgroundColor&&(p.fillStyle=o.backgroundColor,p.fillRect(0,0,v.width,v.height)));for(var t=0,e=0;e<f.length;++e)t+=f[e];if(!(t<=0)){var r=-y,s=0,l=0,u=0;while(r<x.height){if(s%2===0){var c=l/2%g.length,h=0,m=0,b=0;while(h<2*x.width){var S=0;for(e=0;e<d[u].length;++e)S+=d[u][e];if(S<=0)break;if(m%2===0){var w=.5*(1-o.symbolSize),C=h+d[u][m]*w,T=r+f[s]*w,k=d[u][m]*o.symbolSize,I=f[s]*o.symbolSize,z=b/2%g[c].length;M(C,T,k,I,g[c][z])}h+=d[u][m],++b,++m,m===d[u].length&&(m=0)}++u,u===d.length&&(u=0)}r+=f[s],++l,++s,s===f.length&&(s=0)}}function M(t,e,r,s,l){var u=a?1:i,c=fS(l,t*u,e*u,r*u,s*u,o.color,o.symbolKeepAspect);a?_.appendChild(n.painter.paintOne(c)):jS(p,c)}}v&&(v.width=x.width*i,v.height=x.height*i,p=v.getContext("2d")),S(),s&&YS.put(e,v||_),t.image=v,t.svgElement=_,t.svgWidth=x.width,t.svgHeight=x.height}}function QS(t){if(!t||0===t.length)return[["rect"]];if("string"===typeof t)return[[t]];for(var e=!0,i=0;i<t.length;++i)if("string"!==typeof t[i]){e=!1;break}if(e)return QS([t]);var n=[];for(i=0;i<t.length;++i)"string"===typeof t[i]?n.push([t[i]]):n.push(t[i]);return n}function JS(t){if(!t||0===t.length)return[[0,0]];if("number"===typeof t){var e=Math.ceil(t);return[[e,e]]}for(var i=!0,n=0;n<t.length;++n)if("number"!==typeof t[n]){i=!1;break}if(i)return JS([t]);var a=[];for(n=0;n<t.length;++n)if("number"===typeof t[n]){e=Math.ceil(t[n]);a.push([e,e])}else{e=hn(t[n],(function(t){return Math.ceil(t)}));e.length%2===1?a.push(e.concat(e)):a.push(e)}return a}function tw(t){if(!t||"object"===typeof t&&0===t.length)return[0,0];if("number"===typeof t){var e=Math.ceil(t);return[e,e]}var i=hn(t,(function(t){return Math.ceil(t)}));return t.length%2?i.concat(i):i}function ew(t){return hn(t,(function(t){return iw(t)}))}function iw(t){for(var e=0,i=0;i<t.length;++i)e+=t[i];return t.length%2===1?2*e:e}function nw(t,e){t.eachRawSeries((function(i){if(!t.isSeriesFiltered(i)){var n=i.getData();n.hasItemVisual()&&n.each((function(t){var i=n.getItemVisual(t,"decal");if(i){var a=n.ensureUniqueItemVisual(t,"style");a.decal=KS(i,e)}}));var a=n.getVisual("decal");if(a){var r=n.getVisual("style");r.decal=KS(a,e)}}}))}function aw(t){if(xn(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var i=t;9===i.nodeType&&(i=i.firstChild);while("svg"!==i.nodeName.toLowerCase()||1!==i.nodeType)i=i.nextSibling;return i}var rw={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},ow=fn(rw),sw={"alignment-baseline":"textBaseline","stop-color":"stopColor"},lw=fn(sw),uw=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,e){e=e||{};var i=aw(t);if(!i)throw new Error("Illegal svg");this._defsUsePending=[];var n=new Ls;this._root=n;var a=[],r=i.getAttribute("viewBox")||"",o=parseFloat(i.getAttribute("width")||e.width),s=parseFloat(i.getAttribute("height")||e.height);isNaN(o)&&(o=null),isNaN(s)&&(s=null),gw(i,n,null,!0,!1);var l,u,c=i.firstChild;while(c)this._parseNode(c,n,a,null,!1,!1),c=c.nextSibling;if(_w(this._defs,this._defsUsePending),this._defsUsePending=[],r){var h=bw(r);h.length>=4&&(l={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(l&&null!=o&&null!=s&&(u=Iw(l,{x:0,y:0,width:o,height:s}),!e.ignoreViewBox)){var p=n;n=new Ls,n.add(p),p.scaleX=p.scaleY=u.scale,p.x=u.x,p.y=u.y}return e.ignoreRootClip||null==o||null==s||n.setClipPath(new Th({shape:{x:0,y:0,width:o,height:s}})),{root:n,width:o,height:s,viewBoxRect:l,viewBoxTransform:u,named:a}},t.prototype._parseNode=function(t,e,i,n,a,r){var o,s=t.nodeName.toLowerCase(),l=n;if("defs"===s&&(a=!0),"text"===s&&(r=!0),"defs"===s||"switch"===s)o=e;else{if(!a){var u=qS[s];if(u&&Hn(qS,s)){o=u.call(this,t,e);var c=t.getAttribute("name");if(c){var h={name:c,namedFrom:null,svgNodeTagLower:s,el:o};i.push(h),"g"===s&&(l=h)}else n&&i.push({name:n.name,namedFrom:n,svgNodeTagLower:s,el:o});e.add(o)}}var p=cw[s];if(p&&Hn(cw,s)){var d=p.call(this,t),f=t.getAttribute("id");f&&(this._defs[f]=d)}}if(o&&o.isGroup){var g=t.firstChild;while(g)1===g.nodeType?this._parseNode(g,o,i,l,a,r):3===g.nodeType&&r&&this._parseText(g,o),g=g.nextSibling}},t.prototype._parseText=function(t,e){var i=new hh({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});dw(e,i),gw(t,i,this._defsUsePending,!1,!1),mw(i,e);var n=i.style,a=n.fontSize;a&&a<9&&(n.fontSize=9,i.scaleX*=a/9,i.scaleY*=a/9);var r=(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ");n.font=r;var o=i.getBoundingRect();return this._textX+=o.width,e.add(i),i},t.internalField=function(){qS={g:function(t,e){var i=new Ls;return dw(e,i),gw(t,i,this._defsUsePending,!1,!1),i},rect:function(t,e){var i=new Th;return dw(e,i),gw(t,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(t,e){var i=new xd;return dw(e,i),gw(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),i.silent=!0,i},line:function(t,e){var i=new af;return dw(e,i),gw(t,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(t,e){var i=new wd;return dw(e,i),gw(t,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(t,e){var i,n=t.getAttribute("points");n&&(i=fw(n));var a=new Zd({shape:{points:i||[]},silent:!0});return dw(e,a),gw(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,e){var i,n=t.getAttribute("points");n&&(i=fw(n));var a=new Jd({shape:{points:i||[]},silent:!0});return dw(e,a),gw(t,a,this._defsUsePending,!1,!1),a},image:function(t,e){var i=new mh;return dw(e,i),gw(t,i,this._defsUsePending,!1,!1),i.setStyle({image:t.getAttribute("xlink:href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),i.silent=!0,i},text:function(t,e){var i=t.getAttribute("x")||"0",n=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",r=t.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(a),this._textY=parseFloat(n)+parseFloat(r);var o=new Ls;return dw(e,o),gw(t,o,this._defsUsePending,!1,!0),o},tspan:function(t,e){var i=t.getAttribute("x"),n=t.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=n&&(this._textY=parseFloat(n));var a=t.getAttribute("dx")||"0",r=t.getAttribute("dy")||"0",o=new Ls;return dw(e,o),gw(t,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(r),o},path:function(t,e){var i=t.getAttribute("d")||"",n=gd(i);return dw(e,n),gw(t,n,this._defsUsePending,!1,!1),n.silent=!0,n}}}(),t}(),cw={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),i=parseInt(t.getAttribute("y1")||"0",10),n=parseInt(t.getAttribute("x2")||"10",10),a=parseInt(t.getAttribute("y2")||"0",10),r=new vf(e,i,n,a);return hw(t,r),pw(t,r),r},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),i=parseInt(t.getAttribute("cy")||"0",10),n=parseInt(t.getAttribute("r")||"0",10),a=new xf(e,i,n);return hw(t,a),pw(t,a),a}};function hw(t,e){var i=t.getAttribute("gradientUnits");"userSpaceOnUse"===i&&(e.global=!0)}function pw(t,e){var i=t.firstChild;while(i){if(1===i.nodeType&&"stop"===i.nodeName.toLocaleLowerCase()){var n=i.getAttribute("offset"),a=void 0;a=n&&n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var r={};Tw(i,r,r);var o=r.stopColor||i.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:a,color:o})}i=i.nextSibling}}function dw(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),an(e.__inheritedStyle,t.__inheritedStyle))}function fw(t){for(var e=bw(t),i=[],n=0;n<e.length;n+=2){var a=parseFloat(e[n]),r=parseFloat(e[n+1]);i.push([a,r])}return i}function gw(t,e,i,n,a){var r=e,o=r.__inheritedStyle=r.__inheritedStyle||{},s={};1===t.nodeType&&(ww(t,e),Tw(t,o,s),n||kw(t,o,s)),r.style=r.style||{},null!=o.fill&&(r.style.fill=vw(r,"fill",o.fill,i)),null!=o.stroke&&(r.style.stroke=vw(r,"stroke",o.stroke,i)),cn(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){null!=o[t]&&(r.style[t]=parseFloat(o[t]))})),cn(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(t){null!=o[t]&&(r.style[t]=o[t])})),a&&(r.__selfStyle=s),o.lineDash&&(r.style.lineDash=hn(bw(o.lineDash),(function(t){return parseFloat(t)}))),"hidden"!==o.visibility&&"collapse"!==o.visibility||(r.invisible=!0),"none"===o.display&&(r.ignore=!0),r.z=-1e4,r.z2=-1e3}function mw(t,e){var i=e.__selfStyle;if(i){var n=i.textBaseline,a=n;n&&"auto"!==n?"baseline"===n?a="alphabetic":"before-edge"===n||"text-before-edge"===n?a="top":"after-edge"===n||"text-after-edge"===n?a="bottom":"central"!==n&&"mathematical"!==n||(a="middle"):a="alphabetic",t.style.textBaseline=a}var r=e.__inheritedStyle;if(r){var o=r.textAlign,s=o;o&&("middle"===o&&(s="center"),t.style.textAlign=s)}}var yw=/^url\(\s*#(.*?)\)/;function vw(t,e,i,n){var a=i&&i.match(yw);if(!a)return"none"===i&&(i=null),i;var r=Fn(a[1]);n.push([t,e,r])}function _w(t,e){for(var i=0;i<e.length;i++){var n=e[i];n[0].style[n[1]]=t[n[2]]}}var xw=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function bw(t){return t.match(xw)||[]}var Sw=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g;function ww(t,e){var i=t.getAttribute("transform");if(i){i=i.replace(/,/g," ");var n=[],a=null;i.replace(Sw,(function(t,e,i){return n.push(e,i),""}));for(var r=n.length-1;r>0;r-=2){var o=n[r],s=n[r-1],l=void 0;switch(a=a||qa(),s){case"translate":l=bw(o),Ka(a,a,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":l=bw(o),Ja(a,a,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":l=bw(o),Qa(a,a,-parseFloat(l[0])/180*Math.PI);break;case"skew":l=bw(o),console.warn("Skew transform is not supported yet");break;case"matrix":l=bw(o),a[0]=parseFloat(l[0]),a[1]=parseFloat(l[1]),a[2]=parseFloat(l[2]),a[3]=parseFloat(l[3]),a[4]=parseFloat(l[4]),a[5]=parseFloat(l[5]);break}}e.setLocalTransform(a)}}var Cw=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Tw(t,e,i){var n=t.getAttribute("style");if(n){var a;Cw.lastIndex=0;while(null!=(a=Cw.exec(n))){var r=a[1],o=Hn(rw,r)?rw[r]:null;o&&(e[o]=a[2]);var s=Hn(sw,r)?sw[r]:null;s&&(i[s]=a[2])}}}function kw(t,e,i){for(var n=0;n<ow.length;n++){var a=ow[n],r=t.getAttribute(a);null!=r&&(e[rw[a]]=r)}for(n=0;n<lw.length;n++){a=lw[n],r=t.getAttribute(a);null!=r&&(i[sw[a]]=r)}}function Iw(t,e){var i=e.width/t.width,n=e.height/t.height,a=Math.min(i,n);return{scale:a,x:-(t.x+t.width/2)*a+(e.x+e.width/2),y:-(t.y+t.height/2)*a+(e.y+e.height/2)}}function zw(t,e){var i=new uw;return i.parse(t,e)}var Mw=1e-8;function Pw(t,e){return Math.abs(t-e)<Mw}function Lw(t,e,i){var n=0,a=t[0];if(!a)return!1;for(var r=1;r<t.length;r++){var o=t[r];n+=jc(a[0],a[1],o[0],o[1],e,i),a=o}var s=t[0];return Pw(a[0],s[0])&&Pw(a[1],s[1])||(n+=jc(a[0],a[1],s[0],s[1],e,i)),0!==n}var Dw=[],Rw=function(){function t(t){this.name=t}return t.prototype.getCenter=function(){},t}(),Aw=function(t){function e(e,i,n){var a=t.call(this,e)||this;if(a.type="geoJSON",a.geometries=i,n)n=[n[0],n[1]];else{var r=a.getBoundingRect();n=[r.x+r.width/2,r.y+r.height/2]}return a._center=n,a}return Ri(e,t),e.prototype.getBoundingRect=function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],a=[],r=[],o=this.geometries,s=0;s<o.length;s++)if("polygon"===o[s].type){var l=o[s].exterior;uc(l,a,r),ra(i,i,a),oa(n,n,r)}return 0===s&&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new fo(i[0],i[1],n[0]-i[0],n[1]-i[1])},e.prototype.contain=function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,a=i.length;n<a;n++)if("polygon"===i[n].type){var r=i[n].exterior,o=i[n].interiors;if(Lw(r,t[0],t[1])){for(var s=0;s<(o?o.length:0);s++)if(Lw(o[s],t[0],t[1]))continue t;return!0}}return!1},e.prototype.transformTo=function(t,e,i,n){var a=this.getBoundingRect(),r=a.width/a.height;i?n||(n=i/r):i=r*n;for(var o=new fo(t,e,i,n),s=a.calculateTransform(o),l=this.geometries,u=0;u<l.length;u++)if("polygon"===l[u].type){for(var c=l[u].exterior,h=l[u].interiors,p=0;p<c.length;p++)aa(c[p],c[p],s);for(var d=0;d<(h?h.length:0);d++)for(p=0;p<h[d].length;p++)aa(h[d][p],h[d][p],s)}a=this._rect,a.copy(o),this._center=[a.x+a.width/2,a.y+a.height/2]},e.prototype.cloneShallow=function(t){null==t&&(t=this.name);var i=new e(t,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e.prototype.getCenter=function(){return this._center},e.prototype.setCenter=function(t){this._center=t},e}(Rw),Ow=function(t){function e(e,i){var n=t.call(this,e)||this;return n.type="geoSVG",n._elOnlyForCalculate=i,n}return Ri(e,t),e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this._calculateCenter()),t},e.prototype._calculateCenter=function(){var t=this._elOnlyForCalculate,e=t.getBoundingRect(),i=[e.x+e.width/2,e.y+e.height/2],n=Xa(Dw),a=t;while(a&&!a.isGeoSVGGraphicRoot)Za(n,a.getLocalTransform(),n),a=a.parent;return tr(n,n),aa(i,i,n),i},e}(Rw),Fw=Gn(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),Nw=function(){function t(t,e){this.type="geoSVG",this._usedGraphicMap=Gn(),this._freedGraphics=[],this._mapName=t,this._parsedXML=aw(e)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=Bw(t.named),i=e.regions,n=e.regionsMap;this._regions=i,this._regionsMap=n}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){var e,i;try{e=t&&zw(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},i=e.root,On(null!=i)}catch(g){throw new Error("Invalid svg format\n"+g.message)}var n=new Ls;n.add(i),n.isGeoSVGGraphicRoot=!0;var a=e.width,r=e.height,o=e.viewBoxRect,s=this._boundingRect;if(!s){var l=void 0,u=void 0,c=void 0,h=void 0;if(null!=a?(l=0,c=a):o&&(l=o.x,c=o.width),null!=r?(u=0,h=r):o&&(u=o.y,h=o.height),null==l||null==u){var p=i.getBoundingRect();null==l&&(l=p.x,c=p.width),null==u&&(u=p.y,h=p.height)}s=this._boundingRect=new fo(l,u,c,h)}if(o){var d=Iw(o,s);i.scaleX=i.scaleY=d.scale,i.x=d.x,i.y=d.y}n.setClipPath(new Th({shape:s.plain()}));var f=[];return cn(e.named,(function(t){null!=Fw.get(t.svgNodeTagLower)&&(f.push(t),Ew(t.el))})),{root:n,boundingRect:s,named:f}},t.prototype.useGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,i),i)},t.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,i=e.get(t);i&&(e.removeKey(t),this._freedGraphics.push(i))},t}();function Ew(t){t.silent=!1,t.isGroup&&t.traverse((function(t){t.silent=!1}))}function Bw(t){var e=[],i=Gn();return cn(t,(function(t){if(null==t.namedFrom){var n=new Ow(t.name,t.el);e.push(n),i.set(t.name,n)}})),{regions:e,regionsMap:i}}function Vw(t){if(!t.UTF8Encoding)return t;var e=t,i=e.UTF8Scale;null==i&&(i=1024);for(var n=e.features,a=0;a<n.length;a++){var r=n[a],o=r.geometry;if("Polygon"===o.type)for(var s=o.coordinates,l=0;l<s.length;l++)s[l]=Gw(s[l],o.encodeOffsets[l],i);else if("MultiPolygon"===o.type)for(s=o.coordinates,l=0;l<s.length;l++)for(var u=s[l],c=0;c<u.length;c++)u[c]=Gw(u[c],o.encodeOffsets[l][c],i)}return e.UTF8Encoding=!1,e}function Gw(t,e,i){for(var n=[],a=e[0],r=e[1],o=0;o<t.length;o+=2){var s=t.charCodeAt(o)-64,l=t.charCodeAt(o+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),s+=a,l+=r,a=s,r=l,n.push([s/i,l/i])}return n}function Ww(t,e){return t=Vw(t),hn(dn(t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var i=t.properties,n=t.geometry,a=[];if("Polygon"===n.type){var r=n.coordinates;a.push({type:"polygon",exterior:r[0],interiors:r.slice(1)})}if("MultiPolygon"===n.type){r=n.coordinates;cn(r,(function(t){t[0]&&a.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}))}var o=new Aw(i[e||"name"],a,i.cp);return o.properties=i,o}))}for(var Hw=[126,25],jw=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],$w=0;$w<jw.length;$w++)for(var Uw=0;Uw<jw[$w].length;Uw++)jw[$w][Uw][0]/=10.5,jw[$w][Uw][1]/=-14,jw[$w][Uw][0]+=Hw[0],jw[$w][Uw][1]+=Hw[1];function qw(t,e){"china"===t&&e.push(new Aw("南海诸岛",hn(jw,(function(t){return{type:"polygon",exterior:t}})),Hw))}var Xw={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};function Yw(t,e){if("china"===t){var i=Xw[e.name];if(i){var n=e.getCenter();n[0]+=i[0]/10.5,n[1]+=-i[1]/14,e.setCenter(n)}}}var Zw={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function Kw(t,e){if("world"===t){var i=Zw[e.name];if(i){var n=[i[0],i[1]];e.setCenter(n)}}}var Qw=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function Jw(t,e){"china"===t&&"台湾"===e.name&&e.geometries.push({type:"polygon",exterior:Qw[0]})}var tC="name",eC=function(){function t(t,e,i){this.type="geoJSON",this._parsedMap=Gn(),this._mapName=t,this._specialAreas=i,this._geoJSON=nC(e)}return t.prototype.load=function(t,e){e=e||tC;var i=this._parsedMap.get(e);if(!i){var n=this._parseToRegions(e);i=this._parsedMap.set(e,{regions:n,boundingRect:iC(n)})}var a=Gn(),r=[];return cn(i.regions,(function(e){var i=e.name;t&&t.hasOwnProperty(i)&&(e=e.cloneShallow(i=t[i])),r.push(e),a.set(i,e)})),{regions:r,boundingRect:i.boundingRect||new fo(0,0,0,0),regionsMap:a}},t.prototype._parseToRegions=function(t){var e,i=this._mapName,n=this._geoJSON;try{e=n?Ww(n,t):[]}catch(a){throw new Error("Invalid geoJson format\n"+a.message)}return qw(i,e),cn(e,(function(t){var e=t.name;Yw(i,t),Kw(i,t),Jw(i,t);var n=this._specialAreas&&this._specialAreas[e];n&&t.transformTo(n.left,n.top,n.width,n.height)}),this),e},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function iC(t){for(var e,i=0;i<t.length;i++){var n=t[i].getBoundingRect();e=e||n.clone(),e.union(n)}return e}function nC(t){return xn(t)?"undefined"!==typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t}var aC=Gn(),rC={registerMap:function(t,e,i){if(e.svg){var n=new Nw(t,e.svg);aC.set(t,n)}else{var a=e.geoJson||e.geoJSON;a&&!e.features?i=e.specialAreas:a=e;n=new eC(t,a,i);aC.set(t,n)}},getGeoResource:function(t){return aC.get(t)},getMapForUser:function(t){var e=aC.get(t);return e&&"geoJSON"===e.type&&e.getMapForUser()},load:function(t,e,i){var n=aC.get(t);if(n)return n.load(e,i)}},oC=On,sC=cn,lC=_n,uC=wn,cC=on,hC="undefined"!==typeof window,pC=1,dC=800,fC=900,gC=1e3,mC=2e3,yC=5e3,vC=1e3,_C=1100,xC=2e3,bC=3e3,SC=4e3,wC=4500,CC=4600,TC=5e3,kC=6e3,IC=7e3,zC={PROCESSOR:{FILTER:gC,SERIES_FILTER:dC,STATISTIC:yC},VISUAL:{LAYOUT:vC,PROGRESSIVE_LAYOUT:_C,GLOBAL:xC,CHART:bC,POST_CHART_LAYOUT:CC,COMPONENT:SC,BRUSH:TC,CHART_ITEM:wC,ARIA:kC,DECAL:IC}},MC="__flagInMainProcess",PC="__optionUpdated",LC="__needsUpdateStatus",DC=/^[a-zA-Z0-9_]+$/,RC="__connectUpdateStatus",AC=0,OC=1,FC=2;function NC(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(!this.isDisposed())return BC(this,t,e);pT(this.id)}}function EC(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return BC(this,t,e)}}function BC(t,e,i){return i[0]=i[0]&&i[0].toLowerCase(),ha.prototype[e].apply(t,i)}var VC,GC,WC,HC,jC,$C,UC,qC,XC,YC,ZC,KC,QC,JC,tT,eT,iT,nT,aT,rT,oT,sT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ri(e,t),e}(ha),lT=sT.prototype;lT.on=EC("on"),lT.off=EC("off");var uT=function(t){function e(e,i,n){var a=t.call(this,new cb)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],n=n||{},"string"===typeof i&&(i=xT[i]),a._dom=e;var r="canvas",o=!1,s=a._zr=Es(e,{renderer:n.renderer||r,devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height,useDirtyRect:null==n.useDirtyRect?o:n.useDirtyRect});a._throttledZrFlush=Ix(mn(s.flush,s),17),i=tn(i),i&&Lv(i,!0),a._theme=i,a._locale=im(n.locale||tm),a._coordSysMgr=new tv;var l=a._api=iT(a);function u(t,e){return t.__prio-e.__prio}return ts(_T,u),ts(gT,u),a._scheduler=new eb(a,l,gT,_T),a._messageCenter=new sT,a._labelManager=new Qb,a._initEvents(),a.resize=mn(a.resize,a),s.animation.on("frame",a._onframe,a),YC(s,a),ZC(s,a),En(a),a}return Ri(e,t),e.prototype._onframe=function(){if(!this._disposed){oT(this);var t=this._scheduler;if(this[PC]){var e=this[PC].silent;this[MC]=!0,VC(this),HC.update.call(this),this._zr.flush(),this[MC]=!1,this[PC]=!1,qC.call(this,e),XC.call(this,e)}else if(t.unfinished){var i=pC,n=this._model,a=this._api;t.unfinished=!1;do{var r=+new Date;t.performSeriesTasks(n),t.performDataProcessorTasks(n),$C(this,n),t.performVisualTasks(n),tT(this,this._model,a,"remain"),i-=+new Date-r}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.setOption=function(t,e,i){if(this._disposed)pT(this.id);else{var n,a,r;if(uC(e)&&(i=e.lazyUpdate,n=e.silent,a=e.replaceMerge,r=e.transition,e=e.notMerge),this[MC]=!0,!this._model||e){var o=new sv(this._api),s=this._theme,l=this._model=new Xy;l.scheduler=this._scheduler,l.init(null,null,null,s,this._locale,o)}this._model.setOption(t,{replaceMerge:a},mT),aT(this,r),i?(this[PC]={silent:n},this[MC]=!1,this.getZr().wakeUp()):(VC(this),HC.update.call(this),this._zr.flush(),this[PC]=!1,this[MC]=!1,qC.call(this,n),XC.call(this,n))}},e.prototype.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||hC&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){if(Bi.canvasSupported){t=nn({},t||{}),t.pixelRatio=t.pixelRatio||this.getDevicePixelRatio(),t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");var e=this._zr;return e.painter.getRenderedCanvas(t)}},e.prototype.getSvgDataURL=function(){if(Bi.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return cn(e,(function(t){t.stopAnimation(null,!0)})),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){t=t||{};var e=t.excludeComponents,i=this._model,n=[],a=this;sC(e,(function(t){i.eachComponent({mainType:t},(function(t){var e=a._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)}))}));var r="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return sC(n,(function(t){t.group.ignore=!1})),r}pT(this.id)},e.prototype.getConnectedDataURL=function(t){if(this._disposed)pT(this.id);else if(Bi.canvasSupported){var e="svg"===t.type,i=this.group,n=Math.min,a=Math.max,r=1/0;if(wT[i]){var o=r,s=r,l=-r,u=-r,c=[],h=t&&t.pixelRatio||this.getDevicePixelRatio();cn(ST,(function(r,h){if(r.group===i){var p=e?r.getZr().painter.getSvgDom().innerHTML:r.getRenderedCanvas(tn(t)),d=r.getDom().getBoundingClientRect();o=n(d.left,o),s=n(d.top,s),l=a(d.right,l),u=a(d.bottom,u),c.push({dom:p,left:d.left,top:d.top})}})),o*=h,s*=h,l*=h,u*=h;var p=l-o,d=u-s,f=rn(),g=Es(f,{renderer:e?"svg":"canvas"});if(g.resize({width:p,height:d}),e){var m="";return sC(c,(function(t){var e=t.left-o,i=t.top-s;m+='<g transform="translate('+e+","+i+')">'+t.dom+"</g>"})),g.painter.getSvgRoot().innerHTML=m,t.connectedBackgroundColor&&g.painter.setBackgroundColor(t.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}return t.connectedBackgroundColor&&g.add(new Th({shape:{x:0,y:0,width:p,height:d},style:{fill:t.connectedBackgroundColor}})),sC(c,(function(t){var e=new mh({style:{x:t.left*h-o,y:t.top*h-s,image:t.dom}});g.add(e)})),g.refreshImmediately(),f.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},e.prototype.convertToPixel=function(t,e){return jC(this,"convertToPixel",t,e)},e.prototype.convertFromPixel=function(t,e){return jC(this,"convertFromPixel",t,e)},e.prototype.containPixel=function(t,e){if(!this._disposed){var i,n=this._model,a=Ml(n,t);return cn(a,(function(t,n){n.indexOf("Models")>=0&&cn(t,(function(t){var a=t.coordinateSystem;if(a&&a.containPoint)i=i||!!a.containPoint(e);else if("seriesModels"===n){var r=this._chartsMap[t.__viewId];r&&r.containPoint&&(i=i||r.containPoint(e,t))}else 0}),this)}),this),!!i}pT(this.id)},e.prototype.getVisual=function(t,e){var i=this._model,n=Ml(i,t,{defaultMainType:"series"}),a=n.seriesModel;var r=a.getData(),o=n.hasOwnProperty("dataIndexInside")?n.dataIndexInside:n.hasOwnProperty("dataIndex")?r.indexOfRawIndex(n.dataIndex):null;return null!=o?db(r,o,e):fb(r,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;sC(hT,(function(e){var i=function(i){var n,a=t.getModel(),r=i.target,o="globalout"===e;if(o?n={}:r&&eS(r,(function(t){var e=Vh(t);if(e&&null!=e.dataIndex){var i=e.dataModel||a.getSeriesByIndex(e.seriesIndex);return n=i&&i.getDataParams(e.dataIndex,e.dataType)||{},!0}if(e.eventData)return n=nn({},e.eventData),!0}),!0),n){var s=n.componentType,l=n.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",l=n.seriesIndex);var u=s&&null!=l&&a.getComponent(s,l),c=u&&t["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];0,n.event=i,n.type=e,t._$eventProcessor.eventInfo={targetEl:r,packedEvent:n,model:u,view:c},t.trigger(e,n)}};i.zrEventfulCallAtLast=!0,t._zr.on(e,i,t)})),sC(fT,(function(e,i){t._messageCenter.on(i,(function(t){this.trigger(i,t)}),t)})),sC(["selectchanged"],(function(e){t._messageCenter.on(e,(function(t){this.trigger(e,t)}),t)})),tS(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?pT(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)pT(this.id);else{this._disposed=!0,Rl(this.getDom(),TT,"");var t=this._api,e=this._model;sC(this._componentsViews,(function(i){i.dispose(e,t)})),sC(this._chartsViews,(function(i){i.dispose(e,t)})),this._zr.dispose(),delete ST[this.id]}},e.prototype.resize=function(t){if(this._disposed)pT(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var i=e.resetOption("media"),n=t&&t.silent;this[MC]=!0,i&&VC(this),HC.update.call(this,{type:"resize",animation:nn({duration:0},t&&t.animation)}),this[MC]=!1,qC.call(this,n),XC.call(this,n)}}},e.prototype.showLoading=function(t,e){if(this._disposed)pT(this.id);else if(uC(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),bT[t]){var i=bT[t](this._api,e),n=this._zr;this._loadingFX=i,n.add(i)}},e.prototype.hideLoading=function(){this._disposed?pT(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=nn({},t);return e.type=fT[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)pT(this.id);else if(uC(e)||(e={silent:!!e}),dT[t.type]&&this._model)if(this[MC])this._pendingActions.push(t);else{var i=e.silent;UC.call(this,t,i);var n=e.flush;n?this._zr.flush():!1!==n&&Bi.browser.weChat&&this._throttledZrFlush(),qC.call(this,i),XC.call(this,i)}},e.prototype.updateLabelLayout=function(){var t=this._labelManager;t.updateLayoutConfig(this._api),t.layout(this._api),t.processLabelsOverall()},e.prototype.appendData=function(t){if(this._disposed)pT(this.id);else{var e=t.seriesIndex,i=this.getModel(),n=i.getSeriesByIndex(e);0,n.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){for(var e=[],i=t.currentStates,n=0;n<i.length;n++){var a=i[n];"emphasis"!==a&&"blur"!==a&&"select"!==a&&e.push(a)}t.selected&&t.states.select&&e.push("select"),t.hoverState===Uh&&t.states.emphasis?e.push("emphasis"):t.hoverState===$h&&t.states.blur&&e.push("blur"),t.useStates(e)}function e(t,e){var i=t._zr,n=i.storage,a=0;n.traverse((function(t){t.isGroup||a++})),a>e.get("hoverLayerThreshold")&&!Bi.node&&!Bi.worker&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var i=t._chartsMap[e.__viewId];i.__alive&&i.group.traverse((function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)}))}}))}function i(t,e){var i=t.get("blendMode")||null;e.group.traverse((function(t){t.isGroup||(t.style.blend=i),t.eachPendingDisplayable&&t.eachPendingDisplayable((function(t){t.style.blend=i}))}))}function n(t,e){t.preventAutoZ||a(e.group,t.get("z")||0,t.get("zlevel")||0,-1/0)}function a(t,e,i,n){var r=t.getTextContent(),o=t.getTextGuideLine(),s=t.isGroup;if(s)for(var l=t.childrenRef(),u=0;u<l.length;u++)n=Math.max(a(l[u],e,i,n),n);else t.z=e,t.zlevel=i,n=Math.max(t.z2,n);if(r&&(r.z=e,r.zlevel=i,isFinite(n)&&(r.z2=n+2)),o){var c=t.textGuideLineConfig;o.z=e,o.zlevel=i,isFinite(n)&&(o.z2=n+(c&&c.showAbove?1:-1))}return n}function r(t,e){e.group.traverse((function(t){if(!Qf(t)){var e=t.getTextContent(),i=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),i&&i.stateTransition&&(i.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}}))}function o(e,i){var n=e.getModel("stateAnimation"),a=e.isAnimationEnabled(),r=n.get("duration"),o=r>0?{duration:r,delay:n.get("delay"),easing:n.get("easing")}:null;i.group.traverse((function(e){if(e.states&&e.states.emphasis){if(Qf(e))return;if(e instanceof lh&&Yp(e),e.__dirty){var i=e.prevStates;i&&e.useStates(i)}if(a){e.stateTransition=o;var n=e.getTextContent(),r=e.getTextGuideLine();n&&(n.stateTransition=o),r&&(r.stateTransition=o)}e.__dirty&&t(e)}}))}VC=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),GC(t,!0),GC(t,!1),e.plan()},GC=function(t,e){for(var i=t._model,n=t._scheduler,a=e?t._componentsViews:t._chartsViews,r=e?t._componentsMap:t._chartsMap,o=t._zr,s=t._api,l=0;l<a.length;l++)a[l].__alive=!1;function u(t){var l=t.__requireNewView;t.__requireNewView=!1;var u="_ec_"+t.id+"_"+t.type,c=!l&&r[u];if(!c){var h=Vl(t.type),p=e?px.getClass(h.main,h.sub):Sx.getClass(h.sub);0,c=new p,c.init(i,s),r[u]=c,a.push(c),o.add(c.group)}t.__viewId=c.__id=u,c.__alive=!0,c.__model=t,c.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&n.prepareView(c,t,i,s)}e?i.eachComponent((function(t,e){"series"!==t&&u(e)})):i.eachSeries(u);for(l=0;l<a.length;){var c=a[l];c.__alive?l++:(!e&&c.renderTask.dispose(),o.remove(c.group),c.dispose(i,s),a.splice(l,1),r[c.__id]===c&&delete r[c.__id],c.__id=c.group.__ecComponentInfo=null)}},WC=function(t,e,i,n,a){var r=t._model;if(r.setUpdatePayload(i),n){var o={};o[n+"Id"]=i[n+"Id"],o[n+"Index"]=i[n+"Index"],o[n+"Name"]=i[n+"Name"];var s={mainType:n,query:o};a&&(s.subType=a);var l,u=i.excludeSeriesId;null!=u&&(l=Gn(),sC(sl(u),(function(t){var e=bl(t,null);null!=e&&l.set(e,!0)}))),Xp(i)&&Mp(t._api),r&&r.eachComponent(s,(function(e){if(!l||null==l.get(e.id)){if(Xp(i))if(e instanceof cx)i.type!==Kh||i.notBlur||Dp(e,i,t._api);else{var a=Rp(e.mainType,e.componentIndex,i.name,t._api),r=a.focusSelf,o=a.dispatchers;i.type===Kh&&r&&!i.notBlur&&Lp(e.mainType,e.componentIndex,t._api),o&&sC(o,(function(t){i.type===Kh?Sp(t):wp(t)}))}else qp(i)&&e instanceof cx&&(Fp(e,i,t._api),Np(e),rT(t));c(t["series"===n?"_chartsMap":"_componentsMap"][e.__viewId])}}),t)}else sC([].concat(t._componentsViews).concat(t._chartsViews),c);function c(n){n&&n.__alive&&n[e]&&n[e](n.__model,r,t._api,i)}},HC={prepareAndUpdate:function(t){VC(this),HC.update.call(this,t)},update:function(t){var e=this._model,i=this._api,n=this._zr,a=this._coordSysMgr,r=this._scheduler;if(e){e.setUpdatePayload(t),r.restoreData(e,t),r.performSeriesTasks(e),a.create(e,i),r.performDataProcessorTasks(e,t),$C(this,e),a.update(e,i),KC(e),r.performVisualTasks(e,t),QC(this,e,i,t);var o=e.get("backgroundColor")||"transparent",s=e.get("darkMode");if(Bi.canvasSupported)n.setBackgroundColor(o),null!=s&&"auto"!==s&&n.setDarkMode(s);else{var l=Mr(o);o=Rr(l,"rgb"),0===l[3]&&(o="transparent")}eT(e,i)}},updateTransform:function(t){var e=this,i=this._model,n=this._api;if(i){i.setUpdatePayload(t);var a=[];i.eachComponent((function(r,o){if("series"!==r){var s=e.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(o,i,n,t);l&&l.update&&a.push(s)}else a.push(s)}}));var r=Gn();i.eachSeries((function(a){var o=e._chartsMap[a.__viewId];if(o.updateTransform){var s=o.updateTransform(a,i,n,t);s&&s.update&&r.set(a.uid,1)}else r.set(a.uid,1)})),KC(i),this._scheduler.performVisualTasks(i,t,{setDirty:!0,dirtyMap:r}),tT(this,i,n,t,r),eT(i,this._api)}},updateView:function(t){var e=this._model;e&&(e.setUpdatePayload(t),Sx.markUpdateMethod(t,"updateView"),KC(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),QC(this,this._model,this._api,t),eT(e,this._api))},updateVisual:function(t){var e=this,i=this._model;i&&(i.setUpdatePayload(t),i.eachSeries((function(t){t.getData().clearAllVisual()})),Sx.markUpdateMethod(t,"updateVisual"),KC(i),this._scheduler.performVisualTasks(i,t,{visualType:"visual",setDirty:!0}),i.eachComponent((function(n,a){if("series"!==n){var r=e.getViewOfComponentModel(a);r&&r.__alive&&r.updateVisual(a,i,e._api,t)}})),i.eachSeries((function(n){var a=e._chartsMap[n.__viewId];a.updateVisual(n,i,e._api,t)})),eT(i,this._api))},updateLayout:function(t){HC.update.call(this,t)}},jC=function(t,e,i,n){if(t._disposed)pT(t.id);else{for(var a,r=t._model,o=t._coordSysMgr.getCoordinateSystems(),s=Ml(r,i),l=0;l<o.length;l++){var u=o[l];if(u[e]&&null!=(a=u[e](r,s,n)))return a}0}},$C=function(t,e){var i=t._chartsMap,n=t._scheduler;e.eachSeries((function(t){n.updateStreamModes(t,i[t.__viewId])}))},UC=function(t,e){var i=this,n=this.getModel(),a=t.type,r=t.escapeConnect,o=dT[a],s=o.actionInfo,l=(s.update||"update").split(":"),u=l.pop(),c=null!=l[0]&&Vl(l[0]);this[MC]=!0;var h=[t],p=!1;t.batch&&(p=!0,h=hn(t.batch,(function(e){return e=an(nn({},e),t),e.batch=null,e})));var d,f=[],g=qp(t),m=Xp(t);if(sC(h,(function(e){if(d=o.action(e,i._model,i._api),d=d||nn({},e),d.type=s.event||d.type,f.push(d),m){var n=Pl(t),a=n.queryOptionMap,r=n.mainTypeSpecified,l=r?a.keys()[0]:"series";WC(i,u,e,l),rT(i)}else g?(WC(i,u,e,"series"),rT(i)):c&&WC(i,u,e,c.main,c.sub)})),"none"===u||m||g||c||(this[PC]?(VC(this),HC.update.call(this,t),this[PC]=!1):HC[u].call(this,t)),d=p?{type:s.event||a,escapeConnect:r,batch:f}:f[0],this[MC]=!1,!e){var y=this._messageCenter;if(y.trigger(d.type,d),g){var v={type:"selectchanged",escapeConnect:r,selected:Ep(n),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};y.trigger(v.type,v)}}},qC=function(t){var e=this._pendingActions;while(e.length){var i=e.shift();UC.call(this,i,t)}},XC=function(t){!t&&this.trigger("updated")},YC=function(t,e){t.on("rendered",(function(i){e.trigger("rendered",i),!t.animation.isFinished()||e[PC]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))},ZC=function(t,e){t.on("mouseover",(function(t){var i=t.target,n=eS(i,$p);n&&(Ap(n,t,e._api),rT(e))})).on("mouseout",(function(t){var i=t.target,n=eS(i,$p);n&&(Op(n,t,e._api),rT(e))})).on("click",(function(t){var i=t.target,n=eS(i,(function(t){return null!=Vh(t).dataIndex}),!0);if(n){var a=n.selected?"unselect":"select",r=Vh(n);e._api.dispatchAction({type:a,dataType:r.dataType,dataIndexInside:r.dataIndex,seriesIndex:r.seriesIndex,isFromClick:!0})}}))},KC=function(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))},QC=function(t,e,i,n){JC(t,e,i,n),sC(t._chartsViews,(function(t){t.__alive=!1})),tT(t,e,i,n),sC(t._chartsViews,(function(t){t.__alive||t.remove(e,i)}))},JC=function(t,e,i,a,s){sC(s||t._componentsViews,(function(t){var s=t.__model;r(s,t),t.render(s,e,i,a),n(s,t),o(s,t)}))},tT=function(t,a,s,l,u){var c=t._scheduler,h=t._labelManager;h.clearLabels();var p=!1;a.eachSeries((function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var a=n.renderTask;c.updatePayload(a,l),r(e,n),u&&u.get(e.uid)&&a.dirty(),a.perform(c.getPerformArgs(a))&&(p=!0),e.__transientTransitionOpt=null,n.group.silent=!!e.get("silent"),i(e,n),Np(e),h.addLabelsOfSeries(n)})),c.unfinished=p||c.unfinished,h.updateLayoutConfig(s),h.layout(s),h.processLabelsOverall(),a.eachSeries((function(e){var i=t._chartsMap[e.__viewId];n(e,i),o(e,i)})),e(t,a)},eT=function(t,e){sC(vT,(function(i){i(t,e)}))},rT=function(t){t[LC]=!0,t.getZr().wakeUp()},oT=function(e){e[LC]&&(e.getZr().storage.traverse((function(e){Qf(e)||t(e)})),e[LC]=!1)},iT=function(t){return new(function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Ri(i,e),i.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},i.prototype.getComponentByElement=function(e){while(e){var i=e.__ecComponentInfo;if(null!=i)return t._model.getComponent(i.mainType,i.index);e=e.parent}},i.prototype.enterEmphasis=function(e,i){Sp(e,i),rT(t)},i.prototype.leaveEmphasis=function(e,i){wp(e,i),rT(t)},i.prototype.enterBlur=function(e){Cp(e),rT(t)},i.prototype.leaveBlur=function(e){Tp(e),rT(t)},i.prototype.enterSelect=function(e){kp(e),rT(t)},i.prototype.leaveSelect=function(e){Ip(e),rT(t)},i.prototype.getModel=function(){return t.getModel()},i.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},i.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},i}(Ky))(t)},nT=function(t){function e(t,e){for(var i=0;i<t.length;i++){var n=t[i];n[RC]=e}}sC(fT,(function(i,n){t._messageCenter.on(n,(function(i){if(wT[t.group]&&t[RC]!==AC){if(i&&i.escapeConnect)return;var n=t.makeActionFromEvent(i),a=[];sC(ST,(function(e){e!==t&&e.group===t.group&&a.push(e)})),e(a,AC),sC(a,(function(t){t[RC]!==OC&&t.dispatchAction(n)})),e(a,FC)}}))}))},aT=function(t,e){var i=t._model;cn(sl(e),(function(t){var e,n=t.from,a=t.to;null==a&&g_(e);var r={includeMainTypes:["series"],enableAll:!1,enableNone:!1},o=n?Ml(i,n,r):null,s=Ml(i,a,r),l=s.seriesModel;null==l&&(e=""),o&&o.seriesModel!==l&&(e=""),null!=e&&g_(e),l.__transientTransitionOpt={from:n?n.dimension:null,to:a.dimension,dividingMethod:t.dividingMethod}}))}}(),e}(ha),cT=uT.prototype;cT.on=NC("on"),cT.off=NC("off"),cT.one=function(t,e,i){var n=this;function a(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];e&&e.apply&&e.apply(this,i),n.off(t,a)}f_("ECharts#one is deprecated."),this.on.call(this,t,a,i)};var hT=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function pT(t){0}var dT={},fT={},gT=[],mT=[],yT=[],vT=[],_T=[],xT={},bT={},ST={},wT={},CT=+new Date-0,TT=(new Date,"_echarts_instance_");function kT(t,e,i){var n=IT(t);if(n)return n;var a=new uT(t,e,i);return a.id="ec_"+CT++,ST[a.id]=a,Rl(t,TT,a.id),nT(a),sC(yT,(function(t){t(a)})),a}function IT(t){return ST[Al(t,TT)]}function zT(t,e){xT[t]=e}function MT(t){cC(mT,t)<0&&mT.push(t)}function PT(t,e){ET(gT,t,e,mC)}function LT(t){cC(yT,t)<0&&t&&yT.push(t)}function DT(t){cC(vT,t)<0&&t&&vT.push(t)}function RT(t,e,i){"function"===typeof e&&(i=e,e="");var n=uC(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,fT[e]||(oC(DC.test(n)&&DC.test(e)),dT[n]||(dT[n]={action:i,actionInfo:t}),fT[e]=n)}function AT(t,e){tv.register(t,e)}function OT(t,e){ET(_T,t,e,vC,"layout")}function FT(t,e){ET(_T,t,e,bC,"visual")}var NT=[];function ET(t,e,i,n,a){if((lC(e)||uC(e))&&(i=e,e=n),!(cC(NT,i)>=0)){NT.push(i);var r=eb.wrapStageHandler(i,a);r.__prio=e,r.__raw=i,t.push(r)}}function BT(t,e){bT[t]=e}function VT(t,e,i){rC.registerMap(t,e,i)}var GT=k_;FT(xC,Ax),FT(wC,Fx),FT(wC,Nx),FT(xC,hb),FT(wC,pb),FT(IC,nw),MT(Lv),PT(fC,Dv),BT("default",Bx),RT({type:Kh,event:Kh,update:Kh},jn),RT({type:Qh,event:Qh,update:Qh},jn),RT({type:Jh,event:Jh,update:Jh},jn),RT({type:tp,event:tp,update:tp},jn),RT({type:ep,event:ep,update:ep},jn),zT("light",nb),zT("dark",ub);var WT=[],HT={registerPreprocessor:MT,registerProcessor:PT,registerPostInit:LT,registerPostUpdate:DT,registerAction:RT,registerCoordinateSystem:AT,registerLayout:OT,registerVisual:FT,registerTransform:GT,registerLoading:BT,registerMap:VT,PRIORITY:zC,ComponentModel:uy,ComponentView:px,SeriesModel:cx,ChartView:Sx,registerComponentModel:function(t){uy.registerClass(t)},registerComponentView:function(t){px.registerClass(t)},registerSeriesModel:function(t){cx.registerClass(t)},registerChartView:function(t){Sx.registerClass(t)},registerSubTypeDefaulter:function(t,e){uy.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Bs(t,e)}};function jT(t){vn(t)?cn(t,(function(t){jT(t)})):on(WT,t)>=0||(WT.push(t),_n(t)&&(t={install:t}),t.install(HT))}var $T=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.layoutMode={type:"box",ignoreSize:!0},i}return Ri(e,t),e.type="title",e.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(uy),UT=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Ri(e,t),e.prototype.render=function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,a=t.getModel("textStyle"),r=t.getModel("subtextStyle"),o=t.get("textAlign"),s=Ln(t.get("textBaseline"),t.get("textVerticalAlign")),l=new Bh({style:vg(a,{text:t.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),c=t.get("subtext"),h=new Bh({style:vg(r,{text:c,fill:r.getTextColor(),y:u.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),d=t.get("sublink"),f=t.get("triggerEvent",!0);l.silent=!p&&!f,h.silent=!d&&!f,p&&l.on("click",(function(){Ym(p,"_"+t.get("target"))})),d&&h.on("click",(function(){Ym(d,"_"+t.get("subtarget"))})),Vh(l).eventData=Vh(h).eventData=f?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(l),c&&n.add(h);var g=n.getBoundingRect(),m=t.getBoxLayoutParams();m.width=g.width,m.height=g.height;var y=ey(m,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));o||(o=t.get("left")||t.get("right"),"middle"===o&&(o="center"),"right"===o?y.x+=y.width:"center"===o&&(y.x+=y.width/2)),s||(s=t.get("top")||t.get("bottom"),"center"===s&&(s="middle"),"bottom"===s?y.y+=y.height:"middle"===s&&(y.y+=y.height/2),s=s||"top"),n.x=y.x,n.y=y.y,n.markRedraw();var v={align:o,verticalAlign:s};l.setStyle(v),h.setStyle(v),g=n.getBoundingRect();var _=y.margin,x=t.getItemStyle(["color","opacity"]);x.fill=t.get("backgroundColor");var b=new Th({shape:{x:g.x-_[3],y:g.y-_[0],width:g.width+_[1]+_[3],height:g.height+_[0]+_[2],r:t.get("borderRadius")},style:x,subPixelOptimize:!0,silent:!0});n.add(b)}},e.type="title",e}(px);function qT(t){t.registerComponentModel($T),t.registerComponentView(UT)}function XT(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return YT(i,t,e),i.seriesInvolved&&KT(i,t),i}function YT(t,e,i){var n=e.getComponent("tooltip"),a=e.getComponent("axisPointer"),r=a.get("link",!0)||[],o=[];cn(i.getCoordinateSystems(),(function(i){if(i.axisPointerEnabled){var s=ak(i.model),l=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=i;var u=i.model,c=u.getModel("tooltip",n);if(cn(i.getAxes(),yn(f,!1,null)),i.getTooltipAxes&&n&&c.get("show")){var h="axis"===c.get("trigger"),p="cross"===c.get(["axisPointer","type"]),d=i.getTooltipAxes(c.get(["axisPointer","axis"]));(h||p)&&cn(d.baseAxes,yn(f,!p||"cross",h)),p&&cn(d.otherAxes,yn(f,"cross",!1))}}function f(n,s,u){var h=u.model.getModel("axisPointer",a),p=h.get("show");if(p&&("auto"!==p||n||nk(h))){null==s&&(s=h.get("triggerTooltip")),h=n?ZT(u,c,a,e,n,s):h;var d=h.get("snap"),f=ak(u.model),g=s||d||"category"===u.type,m=t.axesInfo[f]={key:f,axis:u,coordSys:i,axisPointerModel:h,triggerTooltip:s,involveSeries:g,snap:d,useHandle:nk(h),seriesModels:[],linkGroup:null};l[f]=m,t.seriesInvolved=t.seriesInvolved||g;var y=QT(r,u);if(null!=y){var v=o[y]||(o[y]={axesInfo:{}});v.axesInfo[f]=m,v.mapper=r[y].mapper,m.linkGroup=v}}}}))}function ZT(t,e,i,n,a,r){var o=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};cn(s,(function(t){l[t]=tn(o.get(t))})),l.snap="category"!==t.type&&!!r,"cross"===o.get("type")&&(l.type="line");var u=l.label||(l.label={});if(null==u.show&&(u.show=!1),"cross"===a){var c=o.get(["label","show"]);if(u.show=null==c||c,!r){var h=l.lineStyle=o.get("crossStyle");h&&an(u,h.textStyle)}}return t.model.getModel("axisPointer",new Gg(l,i,n))}function KT(t,e){e.eachSeries((function(e){var i=e.coordinateSystem,n=e.get(["tooltip","trigger"],!0),a=e.get(["tooltip","show"],!0);i&&"none"!==n&&!1!==n&&"item"!==n&&!1!==a&&!1!==e.get(["axisPointer","show"],!0)&&cn(t.coordSysAxesInfo[ak(i.model)],(function(t){var n=t.axis;i.getAxis(n.dim)===n&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}function QT(t,e){for(var i=e.model,n=e.dim,a=0;a<t.length;a++){var r=t[a]||{};if(JT(r[n+"AxisId"],i.id)||JT(r[n+"AxisIndex"],i.componentIndex)||JT(r[n+"AxisName"],i.name))return a}}function JT(t,e){return"all"===t||vn(t)&&on(t,e)>=0||t===e}function tk(t){var e=ek(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,a=i.option,r=i.get("status"),o=i.get("value");null!=o&&(o=n.parse(o));var s=nk(i);null==r&&(a.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==o||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),a.value=o,s&&(a.status=e.axis.scale.isBlank()?"hide":"show")}}function ek(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[ak(t)]}function ik(t){var e=ek(t);return e&&e.axisPointerModel}function nk(t){return!!t.get(["handle","show"])}function ak(t){return t.type+"||"+t.id}var rk={},ok=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Ri(e,t),e.prototype.render=function(e,i,n,a){this.axisPointerClass&&tk(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,n,!0)},e.prototype.updateAxisPointer=function(t,e,i,n){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,e){var i=this._axisPointer;i&&i.remove(e)},e.prototype.dispose=function(e,i){this._disposeAxisPointer(i),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,i,n){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var r=ik(t);r?(this._axisPointer||(this._axisPointer=new a)).render(t,r,i,n):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){rk[t]=e},e.getAxisPointerClass=function(t){return t&&rk[t]},e.type="axis",e}(px),sk=ok,lk=Il(),uk=tn,ck=mn,hk=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,i,n){var a=e.get("value"),r=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==a||this._lastStatus!==r){this._lastValue=a,this._lastStatus=r;var o=this._group,s=this._handle;if(!r||"hide"===r)return o&&o.hide(),void(s&&s.hide());o&&o.show(),s&&s.show();var l={};this.makeElOption(l,a,t,e,i);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=u;var c=this._moveAnimation=this.determineAnimation(t,e);if(o){var h=yn(pk,e,c);this.updatePointerEl(o,l,h),this.updateLabelEl(o,l,h,e)}else o=this._group=new Ls,this.createPointerEl(o,l,t,e),this.createLabelEl(o,l,t,e),i.getZr().add(o);mk(o,e,!0),this._renderHandle(a)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var i=e.get("animation"),n=t.axis,a="category"===n.type,r=e.get("snap");if(!r&&!a)return!1;if("auto"===i||null==i){var o=this.animationThreshold;if(a&&n.getBandWidth()>o)return!0;if(r){var s=ek(t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s>o}return!1}return!0===i},t.prototype.makeElOption=function(t,e,i,n,a){},t.prototype.createPointerEl=function(t,e,i,a){var r=e.pointer;if(r){var o=lk(t).pointerEl=new n[r.type](uk(e.pointer));t.add(o)}},t.prototype.createLabelEl=function(t,e,i,n){if(e.label){var a=lk(t).labelEl=new Bh(uk(e.label));t.add(a),fk(a,n)}},t.prototype.updatePointerEl=function(t,e,i){var n=lk(t).pointerEl;n&&e.pointer&&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,i,n){var a=lk(t).labelEl;a&&(a.setStyle(e.label.style),i(a,{x:e.label.x,y:e.label.y}),fk(a,n))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,n=this._api.getZr(),a=this._handle,r=i.getModel("handle"),o=i.get("status");if(!r.get("show")||!o||"hide"===o)return a&&n.remove(a),void(this._handle=null);this._handle||(e=!0,a=this._handle=sg(r.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){Da(t.event)},onmousedown:ck(this._onHandleDragMove,this,0,0),drift:ck(this._onHandleDragMove,this),ondragend:ck(this._onHandleDragEnd,this)}),n.add(a)),mk(a,i,!1),a.setStyle(r.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=r.get("size");vn(s)||(s=[s,s]),a.scaleX=s[0]/2,a.scaleY=s[1]/2,zx(this,"_doDispatchAxisPointer",r.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){pk(this._axisPointerModel,!e&&this._moveAnimation,this._handle,gk(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(gk(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(gk(n)),lk(i).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}},t}();function pk(t,e,i,n){dk(lk(i).lastProp,n)||(lk(i).lastProp=n,e?qf(i,n,t):(i.stopAnimation(),i.attr(n)))}function dk(t,e){if(wn(t)&&wn(e)){var i=!0;return cn(e,(function(e,n){i=i&&dk(t[n],e)})),!!i}return t===e}function fk(t,e){t[e.get(["label","show"])?"show":"hide"]()}function gk(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function mk(t,e,i){var n=e.get("z"),a=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=a&&(t.zlevel=a),t.silent=i)}))}var yk=hk,vk=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();Zl(vk);var _k=vk,xk=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication}return t.createByAxisModel=function(e){var i=e.option,n=i.data,a=n&&hn(n,bk);return new t({categories:a,needCollect:!a,deduplication:!1!==i.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,i=this._needCollect;if("string"!==typeof t&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var n=this._getOrCreateMap();return e=n.get(t),null==e&&(i?(e=this.categories.length,this.categories[e]=t,n.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=Gn(this.categories))},t}();function bk(t){return wn(t)&&null!=t.value?t.value:t+""}var Sk=xk,wk=js;function Ck(t,e,i,n){var a={},r=t[1]-t[0],o=a.interval=Js(r/e,!0);null!=i&&o<i&&(o=a.interval=i),null!=n&&o>n&&(o=a.interval=n);var s=a.intervalPrecision=Tk(o),l=a.niceTickExtent=[wk(Math.ceil(t[0]/o)*o,s),wk(Math.floor(t[1]/o)*o,s)];return Ik(l,t),a}function Tk(t){return $s(t)+2}function kk(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function Ik(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),kk(t,0,e),kk(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function zk(t,e){return t>=e[0]&&t<=e[1]}function Mk(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function Pk(t,e){return t*(e[1]-e[0])+e[0]}var Lk=function(t){function e(e){var i=t.call(this,e)||this;i.type="ordinal";var n=i.getSetting("ordinalMeta");return n||(n=new Sk({})),vn(n)&&(n=new Sk({categories:hn(n,(function(t){return wn(t)?t.value:t}))})),i._ordinalMeta=n,i._extent=i.getSetting("extent")||[0,n.categories.length-1],i}return Ri(e,t),e.prototype.parse=function(t){return"string"===typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),zk(t,this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),Mk(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(Pk(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){var t=[],e=this._extent,i=e[0];while(i<=e[1])t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],n=this._ticksByOrdinalNumber=[],a=0,r=this._ordinalMeta.categories.length,o=Math.min(r,e.length);a<o;++a){var s=e[a];i[a]=s,n[s]=a}for(var l=0;a<r;++a){while(null!=n[l])l++;i.push(l),n[l]=a}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[e];return null==i?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.niceTicks=function(){},e.prototype.niceExtent=function(){},e.type="ordinal",e}(_k);_k.registerClass(Lk);var Dk=Lk,Rk=js,Ak=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return Ri(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return zk(t,this._extent)},e.prototype.normalize=function(t){return Mk(t,this._extent)},e.prototype.scale=function(t){return Pk(t,this._extent)},e.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Tk(t)},e.prototype.getTicks=function(t){var e=this._interval,i=this._extent,n=this._niceExtent,a=this._intervalPrecision,r=[];if(!e)return r;var o=1e4;i[0]<n[0]&&(t?r.push({value:Rk(n[0]-e,a)}):r.push({value:i[0]}));var s=n[0];while(s<=n[1]){if(r.push({value:s}),s=Rk(s+e,a),s===r[r.length-1].value)break;if(r.length>o)return[]}var l=r.length?r[r.length-1].value:n[1];return i[1]>l&&(t?r.push({value:Rk(l+e,a)}):r.push({value:i[1]})),r},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),i=[],n=this.getExtent(),a=1;a<e.length;a++){var r=e[a],o=e[a-1],s=0,l=[],u=r.value-o.value,c=u/t;while(s<t-1){var h=Rk(o.value+(s+1)*c);h>n[0]&&h<n[1]&&l.push(h),s++}i.push(l)}return i},e.prototype.getLabel=function(t,e){if(null==t)return"";var i=e&&e.precision;null==i?i=$s(t.value)||0:"auto"===i&&(i=this._intervalPrecision);var n=Rk(t.value,i,!0);return Nm(n)},e.prototype.niceTicks=function(t,e,i){t=t||5;var n=this._extent,a=n[1]-n[0];if(isFinite(a)){a<0&&(a=-a,n.reverse());var r=Ck(n,t,e,i);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax||(e[1]+=i/2),e[0]-=i/2}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(e[0]=Rk(Math.floor(e[0]/a)*a)),t.fixMax||(e[1]=Rk(Math.ceil(e[1]/a)*a))},e.type="interval",e}(_k);_k.registerClass(Ak);var Ok=Ak;function Fk(t,e,i){i=i||{};var n,a,r,o,s=i.byIndex,l=i.stackedCoordDimension,u=!(!t||!t.get("stack"));if(cn(e,(function(t,i){xn(t)&&(e[i]=t={name:t}),u&&!t.isExtraCoord&&(s||n||!t.ordinalMeta||(n=t),a||"ordinal"===t.type||"time"===t.type||l&&l!==t.coordDim||(a=t))})),!a||s||n||(s=!0),a){r="__\0ecstackresult",o="__\0ecstackedover",n&&(n.createInvertedIndices=!0);var c=a.coordDim,h=a.type,p=0;cn(e,(function(t){t.coordDim===c&&p++})),e.push({name:r,coordDim:c,coordDimIndex:p,type:h,isExtraCoord:!0,isCalculationCoord:!0}),p++,e.push({name:o,coordDim:o,coordDimIndex:p,type:h,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:a&&a.name,stackedByDimension:n&&n.name,isStackedByIndex:s,stackedOverDimension:o,stackResultDimension:r}}function Nk(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function Ek(t,e){return Nk(t,e)?t.getCalculationInfo("stackResultDimension"):e}var Bk="__ec_stack_",Vk=.5,Gk="undefined"!==typeof Float32Array?Float32Array:Array;function Wk(t){return t.get("stack")||Bk+t.seriesIndex}function Hk(t){return t.dim+t.index}function jk(t,e){var i=[];return e.eachSeriesByType(t,(function(t){Kk(t)&&!Qk(t)&&i.push(t)})),i}function $k(t){var e={};cn(t,(function(t){var i=t.coordinateSystem,n=i.getBaseAxis();if("time"===n.type||"value"===n.type)for(var a=t.getData(),r=n.dim+"_"+n.index,o=a.mapDimension(n.dim),s=0,l=a.count();s<l;++s){var u=a.get(o,s);e[r]?e[r].push(u):e[r]=[u]}}));var i={};for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];if(a){a.sort((function(t,e){return t-e}));for(var r=null,o=1;o<a.length;++o){var s=a[o]-a[o-1];s>0&&(r=null===r?s:Math.min(r,s))}i[n]=r}}return i}function Uk(t){var e=$k(t),i=[];return cn(t,(function(t){var n,a=t.coordinateSystem,r=a.getBaseAxis(),o=r.getExtent();if("category"===r.type)n=r.getBandWidth();else if("value"===r.type||"time"===r.type){var s=r.dim+"_"+r.index,l=e[s],u=Math.abs(o[1]-o[0]),c=r.scale.getExtent(),h=Math.abs(c[1]-c[0]);n=l?u/h*l:u}else{var p=t.getData();n=Math.abs(o[1]-o[0])/p.count()}var d=Hs(t.get("barWidth"),n),f=Hs(t.get("barMaxWidth"),n),g=Hs(t.get("barMinWidth")||1,n),m=t.get("barGap"),y=t.get("barCategoryGap");i.push({bandWidth:n,barWidth:d,barMaxWidth:f,barMinWidth:g,barGap:m,barCategoryGap:y,axisKey:Hk(r),stackId:Wk(t)})})),qk(i)}function qk(t){var e={};cn(t,(function(t,i){var n=t.axisKey,a=t.bandWidth,r=e[n]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},o=r.stacks;e[n]=r;var s=t.stackId;o[s]||r.autoWidthCount++,o[s]=o[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!o[s].width&&(o[s].width=l,l=Math.min(r.remainedWidth,l),r.remainedWidth-=l);var u=t.barMaxWidth;u&&(o[s].maxWidth=u);var c=t.barMinWidth;c&&(o[s].minWidth=c);var h=t.barGap;null!=h&&(r.gap=h);var p=t.barCategoryGap;null!=p&&(r.categoryGap=p)}));var i={};return cn(e,(function(t,e){i[e]={};var n=t.stacks,a=t.bandWidth,r=t.categoryGap;if(null==r){var o=fn(n).length;r=Math.max(35-4*o,15)+"%"}var s=Hs(r,a),l=Hs(t.gap,1),u=t.remainedWidth,c=t.autoWidthCount,h=(u-s)/(c+(c-1)*l);h=Math.max(h,0),cn(n,(function(t){var e=t.maxWidth,i=t.minWidth;if(t.width){n=t.width;e&&(n=Math.min(n,e)),i&&(n=Math.max(n,i)),t.width=n,u-=n+l*n,c--}else{var n=h;e&&e<n&&(n=Math.min(e,u)),i&&i>n&&(n=i),n!==h&&(t.width=n,u-=n+l*n,c--)}})),h=(u-s)/(c+(c-1)*l),h=Math.max(h,0);var p,d=0;cn(n,(function(t,e){t.width||(t.width=h),p=t,d+=t.width*(1+l)})),p&&(d-=p.width*l);var f=-d/2;cn(n,(function(t,n){i[e][n]=i[e][n]||{bandWidth:a,offset:f,width:t.width},f+=t.width*(1+l)}))})),i}function Xk(t,e,i){if(t&&e){var n=t[Hk(e)];return null!=n&&null!=i?n[Wk(i)]:n}}function Yk(t,e){var i=jk(t,e),n=Uk(i),a={};cn(i,(function(t){var e=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),o=Wk(t),s=n[Hk(r)][o],l=s.offset,u=s.width,c=i.getOtherAxis(r),h=t.get("barMinHeight")||0;a[o]=a[o]||[],e.setLayout({bandWidth:s.bandWidth,offset:l,size:u});for(var p=e.mapDimension(c.dim),d=e.mapDimension(r.dim),f=Nk(e,p),g=c.isHorizontal(),m=Jk(r,c,f),y=0,v=e.count();y<v;y++){var _=e.get(p,y),x=e.get(d,y),b=_>=0?"p":"n",S=m;f&&(a[o][x]||(a[o][x]={p:m,n:m}),S=a[o][x][b]);var w=void 0,C=void 0,T=void 0,k=void 0;if(g){var I=i.dataToPoint([_,x]);w=S,C=I[1]+l,T=I[0]-m,k=u,Math.abs(T)<h&&(T=(T<0?-1:1)*h),isNaN(T)||f&&(a[o][x][b]+=T)}else{I=i.dataToPoint([x,_]);w=I[0]+l,C=S,T=u,k=I[1]-m,Math.abs(k)<h&&(k=(k<=0?-1:1)*h),isNaN(k)||f&&(a[o][x][b]+=k)}e.setItemLayout(y,{x:w,y:C,width:T,height:k})}}))}var Zk={seriesType:"bar",plan:dx(),reset:function(t){if(Kk(t)&&Qk(t)){var e=t.getData(),i=t.coordinateSystem,n=i.master.getRect(),a=i.getBaseAxis(),r=i.getOtherAxis(a),o=e.mapDimension(r.dim),s=e.mapDimension(a.dim),l=r.isHorizontal(),u=l?0:1,c=Xk(Uk([t]),a,t).width;return c>Vk||(c=Vk),{progress:function(t,e){var h,p=t.count,d=new Gk(2*p),f=new Gk(2*p),g=new Gk(p),m=[],y=[],v=0,_=0;while(null!=(h=t.next()))y[u]=e.get(o,h),y[1-u]=e.get(s,h),m=i.dataToPoint(y,null,m),f[v]=l?n.x+n.width:m[0],d[v++]=m[0],f[v]=l?m[1]:n.y+n.height,d[v++]=m[1],g[_++]=h;e.setLayout({largePoints:d,largeDataIndices:g,largeBackgroundPoints:f,barWidth:c,valueAxisStart:Jk(a,r,!1),backgroundStart:l?n.x:n.y,valueAxisHorizontal:l})}}}}};function Kk(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Qk(t){return t.pipelineContext&&t.pipelineContext.large}function Jk(t,e,i){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}var tI=function(t,e,i,n){while(i<n){var a=i+n>>>1;t[a][1]<e?i=a+1:n=a}return i},eI=function(t){function e(e){var i=t.call(this,e)||this;return i.type="time",i}return Ri(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return _m(t.value,pm[vm(mm(this._minLevelUnit))]||pm.second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,i){var n=this.getSetting("useUTC"),a=this.getSetting("locale");return xm(t,e,i,a,n)},e.prototype.getTicks=function(t){var e=this._interval,i=this._extent,n=[];if(!e)return n;n.push({value:i[0],level:0});var a=this.getSetting("useUTC"),r=cI(this._minLevelUnit,this._approxInterval,a,i);return n=n.concat(r),n.push({value:i[1],level:0}),n},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=lm,e[1]+=lm),e[1]===-1/0&&e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-lm}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.niceTicks=function(t,e,i){t=t||10;var n=this._extent,a=n[1]-n[0];this._approxInterval=a/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var r=iI.length,o=Math.min(tI(iI,this._approxInterval,0,r),r-1);this._interval=iI[o][1],this._minLevelUnit=iI[Math.max(o-1,0)][0]},e.prototype.parse=function(t){return"number"===typeof t?t:+Zs(t)},e.prototype.contain=function(t){return zk(this.parse(t),this._extent)},e.prototype.normalize=function(t){return Mk(this.parse(t),this._extent)},e.prototype.scale=function(t){return Pk(t,this._extent)},e.type="time",e}(Ok),iI=[["second",rm],["minute",om],["hour",sm],["quarter-day",6*sm],["half-day",12*sm],["day",1.2*lm],["half-week",3.5*lm],["week",7*lm],["month",31*lm],["quarter",95*lm],["half-year",um/2],["year",um]];function nI(t,e,i,n){var a=Zs(e),r=Zs(i),o=function(t){return Sm(a,t,n)===Sm(r,t,n)},s=function(){return o("year")},l=function(){return s()&&o("month")},u=function(){return l()&&o("day")},c=function(){return u()&&o("hour")},h=function(){return c()&&o("minute")},p=function(){return h()&&o("second")},d=function(){return p()&&o("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return u();case"hour":return c();case"minute":return h();case"second":return p();case"millisecond":return d()}}function aI(t,e){return t/=lm,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function rI(t){var e=30*lm;return t/=e,t>6?6:t>3?3:t>2?2:1}function oI(t){return t/=sm,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function sI(t,e){return t/=e?om:rm,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function lI(t){return Js(t,!0)}function uI(t,e,i){var n=new Date(t);switch(mm(e)){case"year":case"month":n[Lm(i)](0);case"day":n[Dm(i)](1);case"hour":n[Rm(i)](0);case"minute":n[Am(i)](0);case"second":n[Om(i)](0),n[Fm(i)](0)}return n.getTime()}function cI(t,e,i,n){var a=1e4,r=fm,o=0;function s(t,e,i,a,r,o,s){var l=new Date(e),u=e,c=l[a]();while(u<i&&u<=n[1])s.push({value:u}),c+=t,l[r](c),u=l.getTime();s.push({value:u,notAdd:!0})}function l(t,a,r){var o=[],l=!a.length;if(!nI(mm(t),n[0],n[1],i)){l&&(a=[{value:uI(new Date(n[0]),t,i)},{value:n[1]}]);for(var u=0;u<a.length-1;u++){var c=a[u].value,h=a[u+1].value;if(c!==h){var p=void 0,d=void 0,f=void 0,g=!1;switch(t){case"year":p=Math.max(1,Math.round(e/lm/365)),d=wm(i),f=Pm(i);break;case"half-year":case"quarter":case"month":p=rI(e),d=Cm(i),f=Lm(i);break;case"week":case"half-week":case"day":p=aI(e,31),d=Tm(i),f=Dm(i),g=!0;break;case"half-day":case"quarter-day":case"hour":p=oI(e),d=km(i),f=Rm(i);break;case"minute":p=sI(e,!0),d=Im(i),f=Am(i);break;case"second":p=sI(e,!1),d=zm(i),f=Om(i);break;case"millisecond":p=lI(e),d=Mm(i),f=Fm(i);break}s(p,c,h,d,f,g,o),"year"===t&&r.length>1&&0===u&&r.unshift({value:r[0].value-p})}}for(u=0;u<o.length;u++)r.push(o[u]);return o}}for(var u=[],c=[],h=0,p=0,d=0;d<r.length&&o++<a;++d){var f=mm(r[d]);if(ym(r[d])){l(r[d],u[u.length-1]||[],c);var g=r[d+1]?mm(r[d+1]):null;if(f!==g){if(c.length){p=h,c.sort((function(t,e){return t.value-e.value}));for(var m=[],y=0;y<c.length;++y){var v=c[y].value;0!==y&&c[y-1].value===v||(m.push(c[y]),v>=n[0]&&v<=n[1]&&h++)}var _=(n[1]-n[0])/e;if(h>1.5*_&&p>_/1.5)break;if(u.push(m),h>_||t===r[d])break}c=[]}}}var x=dn(hn(u,(function(t){return dn(t,(function(t){return t.value>=n[0]&&t.value<=n[1]&&!t.notAdd}))})),(function(t){return t.length>0})),b=[],S=x.length-1;for(d=0;d<x.length;++d)for(var w=x[d],C=0;C<w.length;++C)b.push({value:w[C].value,level:S-d});b.sort((function(t,e){return t.value-e.value}));var T=[];for(d=0;d<b.length;++d)0!==d&&b[d].value===b[d-1].value||T.push(b[d]);return T}_k.registerClass(eI);var hI=eI,pI=_k.prototype,dI=Ok.prototype,fI=$s,gI=js,mI=Math.floor,yI=Math.ceil,vI=Math.pow,_I=Math.log,xI=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Ok,e._interval=0,e}return Ri(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,i=this._extent,n=e.getExtent(),a=dI.getTicks.call(this,t);return hn(a,(function(t){var e=t.value,a=js(vI(this.base,e));return a=e===i[0]&&this._fixMin?SI(a,n[0]):a,a=e===i[1]&&this._fixMax?SI(a,n[1]):a,{value:a}}),this)},e.prototype.setExtent=function(t,e){var i=this.base;t=_I(t)/_I(i),e=_I(e)/_I(i),dI.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=pI.getExtent.call(this);e[0]=vI(t,e[0]),e[1]=vI(t,e[1]);var i=this._originalScale,n=i.getExtent();return this._fixMin&&(e[0]=SI(e[0],n[0])),this._fixMax&&(e[1]=SI(e[1],n[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=_I(t[0])/_I(e),t[1]=_I(t[1])/_I(e),pI.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.niceTicks=function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var n=Ks(i),a=t/i*n;a<=.5&&(n*=10);while(!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0)n*=10;var r=[js(yI(e[0]/n)*n),js(mI(e[1]/n)*n)];this._interval=n,this._niceExtent=r}},e.prototype.niceExtent=function(t){dI.niceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=_I(t)/_I(this.base),zk(t,this._extent)},e.prototype.normalize=function(t){return t=_I(t)/_I(this.base),Mk(t,this._extent)},e.prototype.scale=function(t){return t=Pk(t,this._extent),vI(this.base,t)},e.type="log",e}(_k),bI=xI.prototype;function SI(t,e){return gI(t,fI(e))}bI.getMinorTicks=dI.getMinorTicks,bI.getLabel=dI.getLabel,_k.registerClass(xI);var wI=xI,CI=function(){function t(t,e,i){this._prepareParams(t,e,i)}return t.prototype._prepareParams=function(t,e,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var n=this._isOrdinal="ordinal"===t.type;this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var a=this._modelMinRaw=e.get("min",!0);_n(a)?this._modelMinNum=zI(t,a({min:i[0],max:i[1]})):"dataMin"!==a&&(this._modelMinNum=zI(t,a));var r=this._modelMaxRaw=e.get("max",!0);if(_n(r)?this._modelMaxNum=zI(t,r({min:i[0],max:i[1]})):"dataMax"!==r&&(this._modelMaxNum=zI(t,r)),n)this._axisDataLen=e.getCategories().length;else{var o=e.get("boundaryGap"),s=vn(o)?o:[o||0,o||0];"boolean"===typeof s[0]||"boolean"===typeof s[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[To(s[0],1),To(s[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,i=this._dataMax,n=this._axisDataLen,a=this._boundaryGapInner,r=t?null:i-e||Math.abs(e),o="dataMin"===this._modelMinRaw?e:this._modelMinNum,s="dataMax"===this._modelMaxRaw?i:this._modelMaxNum,l=null!=o,u=null!=s;null==o&&(o=t?n?0:NaN:e-a[0]*r),null==s&&(s=t?n?n-1:NaN:i+a[1]*r),(null==o||!isFinite(o))&&(o=NaN),(null==s||!isFinite(s))&&(s=NaN),o>s&&(o=NaN,s=NaN);var c=Mn(o)||Mn(s)||t&&!n;this._needCrossZero&&(o>0&&s>0&&!l&&(o=0),o<0&&s<0&&!u&&(s=0));var h=this._determinedMin,p=this._determinedMax;return null!=h&&(o=h,l=!0),null!=p&&(s=p,u=!0),{min:o,max:s,minFixed:l,maxFixed:u,isBlank:c}},t.prototype.modifyDataMinMax=function(t,e){this[kI[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){var i=TI[t];this[i]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),TI={min:"_determinedMin",max:"_determinedMax"},kI={min:"_dataMin",max:"_dataMax"};function II(t,e,i){var n=t.rawExtentInfo;return n||(n=new CI(t,e,i),t.rawExtentInfo=n,n)}function zI(t,e){return null==e?null:Mn(e)?NaN:t.parse(e)}function MI(t,e){var i=t.type,n=II(t,e,t.getExtent()).calculate();t.setBlank(n.isBlank);var a=n.min,r=n.max,o=e.ecModel;if(o&&"time"===i){var s=jk("bar",o),l=!1;if(cn(s,(function(t){l=l||t.getBaseAxis()===e.axis})),l){var u=Uk(s),c=PI(a,r,e,u);a=c.min,r=c.max}}return{extent:[a,r],fixMin:n.minFixed,fixMax:n.maxFixed}}function PI(t,e,i,n){var a=i.axis.getExtent(),r=a[1]-a[0],o=Xk(n,i.axis);if(void 0===o)return{min:t,max:e};var s=1/0;cn(o,(function(t){s=Math.min(t.offset,s)}));var l=-1/0;cn(o,(function(t){l=Math.max(t.offset+t.width,l)})),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=e-t,h=1-(s+l)/r,p=c/h-c;return e+=p*(l/u),t-=p*(s/u),{min:t,max:e}}function LI(t,e){var i=MI(t,e),n=i.extent,a=e.get("splitNumber");t instanceof wI&&(t.base=e.get("logBase"));var r=t.type;t.setExtent(n[0],n[1]),t.niceExtent({splitNumber:a,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:"interval"===r||"time"===r?e.get("minInterval"):null,maxInterval:"interval"===r||"time"===r?e.get("maxInterval"):null});var o=e.get("interval");null!=o&&t.setInterval&&t.setInterval(o)}function DI(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new Dk({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new hI({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(_k.getClass(e)||Ok)}}function RI(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||i<0&&n<0)}function AI(t){var e=t.getLabelModel().get("formatter"),i="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?function(e){return function(i,n){return t.scale.getFormattedLabel(i,n,e)}}(e):"string"===typeof e?function(e){return function(i){var n=t.scale.getLabel(i),a=e.replace("{value}",null!=n?n:"");return a}}(e):"function"===typeof e?function(e){return function(n,a){return null!=i&&(a=n.value-i),e(OI(t,n),a,null!=n.level?{level:n.level}:null)}}(e):function(e){return t.scale.getLabel(e)}}function OI(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function FI(t){var e=t.model,i=t.scale;if(e.get(["axisLabel","show"])&&!i.isBlank()){var n,a,r=i.getExtent();i instanceof Dk?a=i.count():(n=i.getTicks(),a=n.length);var o,s=t.getLabelModel(),l=AI(t),u=1;a>40&&(u=Math.ceil(a/40));for(var c=0;c<a;c+=u){var h=n?n[c]:{value:r[0]+c},p=l(h,c),d=s.getTextRect(p),f=NI(d,s.get("rotate")||0);o?o.union(f):o=f}return o}}function NI(t,e){var i=e*Math.PI/180,n=t.width,a=t.height,r=n*Math.abs(Math.cos(i))+Math.abs(a*Math.sin(i)),o=n*Math.abs(Math.sin(i))+Math.abs(a*Math.cos(i)),s=new fo(t.x,t.y,r,o);return s}function EI(t){var e=t.get("interval");return null==e?"auto":e}function BI(t){return"category"===t.type&&0===EI(t.getLabelModel())}function VI(t,e){var i={};return cn(t.mapDimensionsAll(e),(function(e){i[Ek(t,e)]=!0})),fn(i)}var GI=Math.PI,WI=function(){function t(t,e){this.group=new Ls,this.opt=e,this.axisModel=t,an(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new Ls({x:e.position[0],y:e.position[1],rotation:e.rotation});i.updateTransform(),this._transformGroup=i}return t.prototype.hasBuilder=function(t){return!!HI[t]},t.prototype.add=function(t){HI[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,i){var n,a,r=qs(e-t);return Xs(r)?(a=i>0?"top":"bottom",n="center"):Xs(r-GI)?(a=i>0?"bottom":"top",n="center"):(a="middle",n=r>0&&r<GI?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:n,textVerticalAlign:a}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),HI={axisLine:function(t,e,i,n){var a=e.get(["axisLine","show"]);if("auto"===a&&t.handleAutoShown&&(a=t.handleAutoShown("axisLine")),a){var r=e.axis.getExtent(),o=n.transform,s=[r[0],0],l=[r[1],0];o&&(aa(s,s,o),aa(l,l,o));var u=nn({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new af({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});c.anid="line",i.add(c);var h=e.get(["axisLine","symbol"]),p=e.get(["axisLine","symbolSize"]),d=e.get(["axisLine","symbolOffset"])||0;if("number"===typeof d&&(d=[d,d]),null!=h){"string"===typeof h&&(h=[h,h]),"string"!==typeof p&&"number"!==typeof p||(p=[p,p]);var f=p[0],g=p[1];cn([{rotate:t.rotation+Math.PI/2,offset:d[0],r:0},{rotate:t.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],(function(e,n){if("none"!==h[n]&&null!=h[n]){var a=fS(h[n],-f/2,-g/2,f,g,u.stroke,!0),r=e.r+e.offset;a.attr({rotation:e.rotate,x:s[0]+r*Math.cos(t.rotation),y:s[1]-r*Math.sin(t.rotation),silent:!0,z2:11}),i.add(a)}}))}}},axisTickLabel:function(t,e,i,n){var a=ZI(i,n,e,t),r=QI(i,n,e,t);$I(e,r,a),KI(i,n,e,t.tickDirection)},axisName:function(t,e,i,n){var a=Pn(t.axisName,e.get("name"));if(a){var r,o,s=e.get("nameLocation"),l=t.nameDirection,u=e.getModel("nameTextStyle"),c=e.get("nameGap")||0,h=e.axis.getExtent(),p=h[0]>h[1]?-1:1,d=["start"===s?h[0]-p*c:"end"===s?h[1]+p*c:(h[0]+h[1])/2,XI(s)?t.labelOffset+l*c:0],f=e.get("nameRotate");null!=f&&(f=f*GI/180),XI(s)?r=WI.innerTextLayout(t.rotation,null!=f?f:t.rotation,l):(r=jI(t.rotation,s,f||0,h),o=t.axisNameAvailableWidth,null!=o&&(o=Math.abs(o/Math.sin(r.rotation)),!isFinite(o)&&(o=null)));var g=u.getFont(),m=e.get("nameTruncate",!0)||{},y=m.ellipsis,v=Pn(t.nameTruncateMaxWidth,m.maxWidth,o),_=new Bh({x:d[0],y:d[1],rotation:r.rotation,silent:WI.isLabelSilent(e),style:vg(u,{text:a,font:g,overflow:"truncate",width:v,ellipsis:y,fill:u.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:u.get("align")||r.textAlign,verticalAlign:u.get("verticalAlign")||r.textVerticalAlign}),z2:1});if(pg({el:_,componentModel:e,itemName:a}),_.__fullText=a,_.anid="name",e.get("triggerEvent")){var x=WI.makeAxisEventDataBase(e);x.targetType="axisName",x.name=a,Vh(_).eventData=x}n.add(_),_.updateTransform(),i.add(_),_.decomposeTransform()}}};function jI(t,e,i,n){var a,r,o=qs(i-t),s=n[0]>n[1],l="start"===e&&!s||"start"!==e&&s;return Xs(o-GI/2)?(r=l?"bottom":"top",a="center"):Xs(o-1.5*GI)?(r=l?"top":"bottom",a="center"):(r="middle",a=o<1.5*GI&&o>GI/2?l?"left":"right":l?"right":"left"),{rotation:o,textAlign:a,textVerticalAlign:r}}function $I(t,e,i){if(!BI(t.axis)){var n=t.get(["axisLabel","showMinLabel"]),a=t.get(["axisLabel","showMaxLabel"]);e=e||[],i=i||[];var r=e[0],o=e[1],s=e[e.length-1],l=e[e.length-2],u=i[0],c=i[1],h=i[i.length-1],p=i[i.length-2];!1===n?(UI(r),UI(u)):qI(r,o)&&(n?(UI(o),UI(c)):(UI(r),UI(u))),!1===a?(UI(s),UI(h)):qI(l,s)&&(a?(UI(l),UI(p)):(UI(s),UI(h)))}}function UI(t){t&&(t.ignore=!0)}function qI(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(i&&n){var a=Xa([]);return Qa(a,a,-t.rotation),i.applyTransform(Za([],a,t.getLocalTransform())),n.applyTransform(Za([],a,e.getLocalTransform())),i.intersect(n)}}function XI(t){return"middle"===t||"center"===t}function YI(t,e,i,n,a){for(var r=[],o=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=i,e&&(aa(o,o,e),aa(s,s,e));var c=new af({subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});c.anid=a+"_"+t[l].tickValue,r.push(c)}return r}function ZI(t,e,i,n){var a=i.axis,r=i.getModel("axisTick"),o=r.get("show");if("auto"===o&&n.handleAutoShown&&(o=n.handleAutoShown("axisTick")),o&&!a.scale.isBlank()){for(var s=r.getModel("lineStyle"),l=n.tickDirection*r.get("length"),u=a.getTicksCoords(),c=YI(u,e.transform,l,an(s.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<c.length;h++)t.add(c[h]);return c}}function KI(t,e,i,n){var a=i.axis,r=i.getModel("minorTick");if(r.get("show")&&!a.scale.isBlank()){var o=a.getMinorTicksCoords();if(o.length)for(var s=r.getModel("lineStyle"),l=n*r.get("length"),u=an(s.getLineStyle(),an(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),c=0;c<o.length;c++)for(var h=YI(o[c],e.transform,l,u,"minorticks_"+c),p=0;p<h.length;p++)t.add(h[p])}}function QI(t,e,i,n){var a=i.axis,r=Pn(n.axisLabelShow,i.get(["axisLabel","show"]));if(r&&!a.scale.isBlank()){var o=i.getModel("axisLabel"),s=o.get("margin"),l=a.getViewLabels(),u=(Pn(n.labelRotate,o.get("rotate"))||0)*GI/180,c=WI.innerTextLayout(n.rotation,u,n.labelDirection),h=i.getCategories&&i.getCategories(!0),p=[],d=WI.isLabelSilent(i),f=i.get("triggerEvent");return cn(l,(function(r,l){var u="ordinal"===a.scale.type?a.scale.getRawOrdinalNumber(r.tickValue):r.tickValue,g=r.formattedLabel,m=r.rawLabel,y=o;if(h&&h[u]){var v=h[u];wn(v)&&v.textStyle&&(y=new Gg(v.textStyle,o,i.ecModel))}var _=y.getTextColor()||i.get(["axisLine","lineStyle","color"]),x=a.dataToCoord(u),b=new Bh({x:x,y:n.labelOffset+n.labelDirection*s,rotation:c.rotation,silent:d,z2:10,style:vg(y,{text:g,align:y.getShallow("align",!0)||c.textAlign,verticalAlign:y.getShallow("verticalAlign",!0)||y.getShallow("baseline",!0)||c.textVerticalAlign,fill:"function"===typeof _?_("category"===a.type?m:"value"===a.type?u+"":u,l):_})});if(b.anid="label_"+u,f){var S=WI.makeAxisEventDataBase(i);S.targetType="axisLabel",S.value=m,Vh(b).eventData=S}e.add(b),b.updateTransform(),p.push(b),t.add(b),b.decomposeTransform()})),p}}var JI=WI;function tz(t){var e,i=t.get("type"),n=t.getModel(i+"Style");return"line"===i?(e=n.getLineStyle(),e.fill=null):"shadow"===i&&(e=n.getAreaStyle(),e.stroke=null),e}function ez(t,e,i,n,a){var r=i.get("value"),o=nz(r,e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),s=i.getModel("label"),l=Bm(s.get("padding")||0),u=s.getFont(),c=bo(o,u),h=a.position,p=c.width+l[1]+l[3],d=c.height+l[0]+l[2],f=a.align;"right"===f&&(h[0]-=p),"center"===f&&(h[0]-=p/2);var g=a.verticalAlign;"bottom"===g&&(h[1]-=d),"middle"===g&&(h[1]-=d/2),iz(h,p,d,n);var m=s.get("backgroundColor");m&&"auto"!==m||(m=e.get(["axisLine","lineStyle","color"])),t.label={x:h[0],y:h[1],style:vg(s,{text:o,font:u,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function iz(t,e,i,n){var a=n.getWidth(),r=n.getHeight();t[0]=Math.min(t[0]+e,a)-e,t[1]=Math.min(t[1]+i,r)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function nz(t,e,i,n,a){t=e.scale.parse(t);var r=e.scale.getLabel({value:t},{precision:a.precision}),o=a.formatter;if(o){var s={value:OI(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};cn(n,(function(t){var e=i.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,a=e&&e.getDataParams(n);a&&s.seriesData.push(a)})),xn(o)?r=o.replace("{value}",r):_n(o)&&(r=o(s))}return r}function az(t,e,i){var n=qa();return Qa(n,n,i.rotation),Ka(n,n,i.position),tg([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function rz(t,e,i,n,a,r){var o=JI.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=a.get(["label","margin"]),ez(e,n,a,r,{position:az(n.axis,t,i),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function oz(t,e,i){return i=i||0,{x1:t[i],y1:t[1-i],x2:e[i],y2:e[1-i]}}function sz(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}}function lz(t,e,i){i=i||{};var n=t.coordinateSystem,a=e.axis,r={},o=a.getAxesOnZeroOf()[0],s=a.position,l=o?"onZero":s,u=a.dim,c=n.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],p={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,f="x"===u?[h[2]-d,h[3]+d]:[h[0]-d,h[1]+d];if(o){var g=o.toGlobalCoord(o.dataToCoord(0));f[p.onZero]=Math.max(Math.min(g,f[1]),f[0])}r.position=["y"===u?f[p[l]]:h[0],"x"===u?f[p[l]]:h[3]],r.rotation=Math.PI/2*("x"===u?0:1);var m={top:-1,bottom:1,left:-1,right:1};r.labelDirection=r.tickDirection=r.nameDirection=m[s],r.labelOffset=o?f[p[s]]-f[p.onZero]:0,e.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),Pn(i.labelInside,e.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var y=e.get(["axisLabel","rotate"]);return r.labelRotate="top"===l?-y:y,r.z2=1,r}function uz(t){return"cartesian2d"===t.get("coordinateSystem")}function cz(t){var e={xAxisModel:null,yAxisModel:null};return cn(e,(function(i,n){var a=n.replace(/Model$/,""),r=t.getReferringComponents(a,Ll).models[0];e[n]=r})),e}var hz=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ri(e,t),e.prototype.makeElOption=function(t,e,i,n,a){var r=i.axis,o=r.grid,s=n.get("type"),l=pz(o,r).getOtherAxis(r).getGlobalExtent(),u=r.toGlobalCoord(r.dataToCoord(e,!0));if(s&&"none"!==s){var c=tz(n),h=dz[s](r,u,l);h.style=c,t.graphicKey=h.type,t.pointer=h}var p=lz(o.model,i);rz(e,t,p,i,n,a)},e.prototype.getHandleTransform=function(t,e,i){var n=lz(e.axis.grid.model,e,{labelInside:!1});n.labelMargin=i.get(["handle","margin"]);var a=az(e.axis,t,n);return{x:a[0],y:a[1],rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,i,n){var a=i.axis,r=a.grid,o=a.getGlobalExtent(!0),s=pz(r,a).getOtherAxis(a).getGlobalExtent(),l="x"===a.dim?0:1,u=[t.x,t.y];u[l]+=e[l],u[l]=Math.min(o[1],u[l]),u[l]=Math.max(o[0],u[l]);var c=(s[1]+s[0])/2,h=[c,c];h[l]=u[l];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:h,tooltipOption:p[l]}},e}(yk);function pz(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var dz={line:function(t,e,i){var n=oz([e,i[0]],[e,i[1]],fz(t));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(t,e,i){var n=Math.max(1,t.getBandWidth()),a=i[1]-i[0];return{type:"Rect",shape:sz([e-n/2,i[0]],[n,a],fz(t))}}};function fz(t){return"x"===t.dim?0:1}var gz=hz,mz=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Ri(e,t),e.type="axisPointer",e.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(uy),yz=mz,vz=Il(),_z=cn;function xz(t,e,i){if(!Bi.node){var n=e.getZr();vz(n).records||(vz(n).records={}),bz(n,e);var a=vz(n).records[t]||(vz(n).records[t]={});a.handler=i}}function bz(t,e){function i(i,n){t.on(i,(function(i){var a=Tz(e);_z(vz(t).records,(function(t){t&&n(t,i,a.dispatchAction)})),Sz(a.pendings,e)}))}vz(t).initialized||(vz(t).initialized=!0,i("click",yn(Cz,"click")),i("mousemove",yn(Cz,"mousemove")),i("globalout",wz))}function Sz(t,e){var i,n=t.showTip.length,a=t.hideTip.length;n?i=t.showTip[n-1]:a&&(i=t.hideTip[a-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function wz(t,e,i){t.handler("leave",null,i)}function Cz(t,e,i,n){e.handler(t,i,n)}function Tz(t){var e={showTip:[],hideTip:[]},i=function(n){var a=e[n.type];a?a.push(n):(n.dispatchAction=i,t.dispatchAction(n))};return{dispatchAction:i,pendings:e}}function kz(t,e){if(!Bi.node){var i=e.getZr(),n=(vz(i).records||{})[t];n&&(vz(i).records[t]=null)}}var Iz=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Ri(e,t),e.prototype.render=function(t,e,i){var n=e.getComponent("tooltip"),a=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";xz("axisPointer",i,(function(t,e,i){"none"!==a&&("leave"===t||a.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){kz("axisPointer",e)},e.prototype.dispose=function(t,e){kz("axisPointer",e)},e.type="axisPointer",e}(px),zz=Iz;function Mz(t,e){var i,n=[],a=t.seriesIndex;if(null==a||!(i=e.getSeriesByIndex(a)))return{point:[]};var r=i.getData(),o=kl(r,t);if(null==o||o<0||vn(o))return{point:[]};var s=r.getItemGraphicEl(o),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(t.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),h=c.dim,p=u.dim,d="x"===h||"radius"===h?1:0,f=r.mapDimension(p),g=[];g[d]=r.get(f,o),g[1-d]=r.get(r.getCalculationInfo("stackResultDimension"),o),n=l.dataToPoint(g)||[]}else n=l.dataToPoint(r.getValues(hn(l.dimensions,(function(t){return r.mapDimension(t)})),o))||[];else if(s){var m=s.getBoundingRect().clone();m.applyTransform(s.transform),n=[m.x+m.width/2,m.y+m.height/2]}return{point:n,el:s}}var Pz=Il();function Lz(t,e,i){var n=t.currTrigger,a=[t.x,t.y],r=t,o=t.dispatchAction||mn(i.dispatchAction,i),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Gz(a)&&(a=Mz({seriesIndex:r.seriesIndex,dataIndex:r.dataIndex},e).point);var l=Gz(a),u=r.axesInfo,c=s.axesInfo,h="leave"===n||Gz(a),p={},d={},f={list:[],map:{}},g={showPointer:yn(Az,d),showTooltip:yn(Oz,f)};cn(s.coordSysMap,(function(t,e){var i=l||t.containPoint(a);cn(s.coordSysAxesInfo[e],(function(t,e){var n=t.axis,r=Bz(u,t);if(!h&&i&&(!u||r)){var o=r&&r.value;null!=o||l||(o=n.pointToData(a)),null!=o&&Dz(t,o,g,!1,p)}}))}));var m={};return cn(c,(function(t,e){var i=t.linkGroup;i&&!d[e]&&cn(i.axesInfo,(function(e,n){var a=d[n];if(e!==t&&a){var r=a.value;i.mapper&&(r=t.axis.scale.parse(i.mapper(r,Vz(e),Vz(t)))),m[t.key]=r}}))})),cn(m,(function(t,e){Dz(c[e],t,g,!0,p)})),Fz(d,c,p),Nz(f,a,t,o),Ez(c,o,i),p}}function Dz(t,e,i,n,a){var r=t.axis;if(!r.scale.isBlank()&&r.containData(e))if(t.involveSeries){var o=Rz(e,t),s=o.payloadBatch,l=o.snapToValue;s[0]&&null==a.seriesIndex&&nn(a,s[0]),!n&&t.snap&&r.containData(l)&&null!=l&&(e=l),i.showPointer(t,e,s),i.showTooltip(t,o,l)}else i.showPointer(t,e)}function Rz(t,e){var i=e.axis,n=i.dim,a=t,r=[],o=Number.MAX_VALUE,s=-1;return cn(e.seriesModels,(function(e,l){var u,c,h=e.getData().mapDimensionsAll(n);if(e.getAxisTooltipData){var p=e.getAxisTooltipData(h,t,i);c=p.dataIndices,u=p.nestestValue}else{if(c=e.getData().indicesOfNearest(h[0],t,"category"===i.type?.5:null),!c.length)return;u=e.getData().get(h[0],c[0])}if(null!=u&&isFinite(u)){var d=t-u,f=Math.abs(d);f<=o&&((f<o||d>=0&&s<0)&&(o=f,s=d,a=u,r.length=0),cn(c,(function(t){r.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:r,snapToValue:a}}function Az(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function Oz(t,e,i,n){var a=i.payloadBatch,r=e.axis,o=r.model,s=e.axisPointerModel;if(e.triggerTooltip&&a.length){var l=e.coordSys.model,u=ak(l),c=t.map[u];c||(c=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:r.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function Fz(t,e,i){var n=i.axesInfo=[];cn(e,(function(e,i){var a=e.axisPointerModel.option,r=t[i];r?(!e.useHandle&&(a.status="show"),a.value=r.value,a.seriesDataIndices=(r.payloadBatch||[]).slice()):!e.useHandle&&(a.status="hide"),"show"===a.status&&n.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:a.value})}))}function Nz(t,e,i,n){if(!Gz(e)&&t.list.length){var a=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:t.list})}else n({type:"hideTip"})}function Ez(t,e,i){var n=i.getZr(),a="axisPointerLastHighlights",r=Pz(n)[a]||{},o=Pz(n)[a]={};cn(t,(function(t,e){var i=t.axisPointerModel.option;"show"===i.status&&cn(i.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t}))}));var s=[],l=[];cn(r,(function(t,e){!o[e]&&l.push(t)})),cn(o,(function(t,e){!r[e]&&s.push(t)})),l.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function Bz(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function Vz(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=e.componentIndex,i.axisName=i[n+"AxisName"]=e.name,i.axisId=i[n+"AxisId"]=e.id,i}function Gz(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function Wz(t){sk.registerAxisPointerClass("CartesianAxisPointer",gz),t.registerComponentModel(yz),t.registerComponentView(zz),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!vn(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=XT(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},Lz)}var Hz=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Ri(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(uy),jz=Hz;function $z(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function Uz(t){if(Bi.domSupported)for(var e=document.documentElement.style,i=0,n=t.length;i<n;i++)if(t[i]in e)return t[i]}var qz=Uz(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xz=Uz(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Yz(t,e){if(!t)return e;e=Em(e,!0);var i=t.indexOf(e);return t=-1===i?e:"-"+t.slice(0,i)+"-"+e,t.toLowerCase()}function Zz(t,e){var i=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return i?e?i[e]:i:null}var Kz=Yz(Xz,"transition"),Qz=Yz(qz,"transform"),Jz="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Bi.transform3dSupported?"will-change:transform;":"");function tM(t){return t="left"===t?"right":"right"===t?"left":"top"===t?"bottom":"top",t}function eM(t,e,i){if(!xn(i)||"inside"===i)return"";e=Xm(e);var n=tM(i),a=n+":-6px;",r=Qz+":";on(["left","right"],n)>-1?(a+="top:50%",r+="translateY(-50%) rotate("+("left"===n?-225:-45)+"deg)"):(a+="left:50%",r+="translateX(-50%) rotate("+("top"===n?225:45)+"deg)");var o=e+" solid 1px;",s=["position:absolute;width:10px;height:10px;",a+";"+r+";","border-bottom:"+o,"border-right:"+o,"background-color:"+t+";","box-shadow:8px 8px 16px -3px #000;"];return'<div style="'+s.join("")+'"></div>'}function iM(t,e){var i="cubic-bezier(0.23,1,0.32,1)",n=" "+t/2+"s "+i,a="opacity"+n+",visibility"+n;return e||(n=" "+t+"s "+i,a+=Bi.transformSupported?","+qz+n:",left"+n+",top"+n),Kz+":"+a}function nM(t,e,i){var n=t.toFixed(0)+"px",a=e.toFixed(0)+"px";if(!Bi.transformSupported)return i?"top:"+a+";left:"+n+";":[["top",a],["left",n]];var r=Bi.transform3dSupported,o="translate"+(r?"3d":"")+"("+n+","+a+(r?",0":"")+")";return i?"top:0;left:0;"+Qz+":"+o+";":[["top",0],["left",0],[qz,o]]}function aM(t){var e=[],i=t.get("fontSize"),n=t.getTextColor();n&&e.push("color:"+n),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px");var a=t.get("textShadowColor"),r=t.get("textShadowBlur")||0,o=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return a&&r&&e.push("text-shadow:"+o+"px "+s+"px "+r+"px "+a),cn(["decoration","align"],(function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n)})),e.join(";")}function rM(t,e,i){var n=[],a=t.get("transitionDuration"),r=t.get("backgroundColor"),o=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),u=t.get("shadowOffsetY"),c=t.getModel("textStyle"),h=Y_(t,"html"),p=l+"px "+u+"px "+o+"px "+s;return n.push("box-shadow:"+p),e&&a&&n.push(iM(a,i)),r&&(Bi.canvasSupported?n.push("background-color:"+r):(n.push("background-color:#"+Dr(r)),n.push("filter:alpha(opacity=70)"))),cn(["width","color","radius"],(function(e){var i="border-"+e,a=Em(i),r=t.get(a);null!=r&&n.push(i+":"+r+("color"===e?"":"px"))})),n.push(aM(c)),null!=h&&n.push("padding:"+Bm(h).join("px ")+"px"),n.join(";")+";"}function oM(t,e,i,n,a){var r=e&&e.painter;if(i){var o=r&&r.getViewportRoot();o&&ya(t,o,document.body,n,a)}else{t[0]=n,t[1]=a;var s=r&&r.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var sM=function(){function t(t,e,i){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,Bi.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var a=this._zr=e.getZr(),r=this._appendToBody=i&&i.appendToBody;oM(this._styleCoord,a,r,e.getWidth()/2,e.getHeight()/2),r?document.body.appendChild(n):t.appendChild(n),this._container=t;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(t){if(t=t||window.event,!o._enterable){var e=a.handler,i=a.painter.getViewportRoot();za(i,t,!0),e.dispatch("mousemove",t)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return t.prototype.update=function(t){var e=this._container,i=Zz(e,"position"),n=e.style;"absolute"!==n.position&&"absolute"!==i&&(n.position="relative");var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,n=i.style,a=this._styleCoord;i.innerHTML?n.cssText=Jz+rM(t,!this._firstShow,this._longHide)+nM(a[0],a[1],!0)+"border-color:"+Xm(e)+";"+(t.get("extraCssText")||"")+";pointer-event:"+(this._enterable?"auto":"none"):n.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,i,n,a){if(null!=t){var r=this.el;if(xn(a)&&"item"===i.get("trigger")&&!$z(i)&&(t+=eM(i.get("backgroundColor"),n,a)),xn(t))r.innerHTML=t;else if(t){r.innerHTML="",vn(t)||(t=[t]);for(var o=0;o<t.length;o++)kn(t[o])&&t[o].parentNode!==r&&r.appendChild(t[o])}}},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.clientWidth,t.clientHeight]},t.prototype.moveTo=function(t,e){var i=this._styleCoord;if(oM(i,this._zr,this._appendToBody,t,e),null!=i[0]&&null!=i[1]){var n=this.el.style,a=nM(i[0],i[1]);cn(a,(function(t){n[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",Bi.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(mn(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t.prototype.getOuterSize=function(){var t=this.el.clientWidth,e=this.el.clientHeight,i=Zz(this.el);return i&&(t+=parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),e+=parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)),{width:t,height:e}},t}(),lM=sM,uM=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),pM(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,i,n,a){wn(t)&&g_(""),this.el&&this._zr.remove(this.el);var r=i.getModel("textStyle");this.el=new Bh({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:i.get("backgroundColor"),borderRadius:i.get("borderRadius"),borderWidth:1,borderColor:n,shadowColor:i.get("shadowColor"),shadowBlur:i.get("shadowBlur"),shadowOffsetX:i.get("shadowOffsetX"),shadowOffsetY:i.get("shadowOffsetY"),textShadowColor:r.get("textShadowColor"),textShadowBlur:r.get("textShadowBlur")||0,textShadowOffsetX:r.get("textShadowOffsetX")||0,textShadowOffsetY:r.get("textShadowOffsetY")||0,fill:i.get(["textStyle","color"]),padding:Y_(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),this._zr.add(this.el);var o=this;this.el.on("mouseover",(function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0})),this.el.on("mouseout",(function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),i=hM(t.style);return[e.width+i.left+i.right,e.height+i.top+i.bottom]},t.prototype.moveTo=function(t,e){var i=this.el;if(i){var n=this._styleCoord;pM(n,this._zr,t,e),t=n[0],e=n[1];var a=i.style,r=cM(a.borderWidth||0),o=hM(a);i.x=t+r+o.left,i.y=e+r+o.top,i.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(mn(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.getOuterSize=function(){var t=this.getSize();return{width:t[0],height:t[1]}},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function cM(t){return Math.max(0,t)}function hM(t){var e=cM(t.shadowBlur||0),i=cM(t.shadowOffsetX||0),n=cM(t.shadowOffsetY||0);return{left:cM(e-i),right:cM(e+i),top:cM(e-n),bottom:cM(e+n)}}function pM(t,e,i,n){t[0]=i,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var dM=uM,fM=mn,gM=cn,mM=Hs,yM=new Th({shape:{x:-1,y:-1,width:2,height:2}}),vM=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Ri(e,t),e.prototype.init=function(t,e){if(!Bi.node){var i=t.getComponent("tooltip"),n=i.get("renderMode");this._renderMode=Ol(n),this._tooltipContent="richText"===this._renderMode?new dM(e):new lM(e.getDom(),e,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,e,i){if(!Bi.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._alwaysShowContent=t.get("alwaysShowContent");var n=this._tooltipContent;n.update(t),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,e=t.get("triggerOn");xz("itemTooltip",this._api,fM((function(t,i,n){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(i,n):"leave"===t&&this._hide(n))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY,dataByCoordSys:n._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,i,n){if(n.from!==this.uid&&!Bi.node){var a=xM(n,i);this._ticket="";var r=n.dataByCoordSys,o=TM(n,e,i);if(o){var s=o.el.getBoundingRect().clone();s.applyTransform(o.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:o.el,position:n.position,positionDefault:"bottom"},a)}else if(n.tooltip&&null!=n.x&&null!=n.y){var l=yM;l.x=n.x,l.y=n.y,l.update(),Vh(l).tooltipConfig={name:null,option:n.tooltip},this._tryShow({offsetX:n.x,offsetY:n.y,target:l},a)}else if(r)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:r,tooltipOption:n.tooltipOption},a);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var u=Mz(n,e),c=u.point[0],h=u.point[1];null!=c&&null!=h&&this._tryShow({offsetX:c,offsetY:h,target:u.el,position:n.position,positionDefault:"bottom"},a)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},a))}},e.prototype.manuallyHideTip=function(t,e,i,n){var a=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,n.from!==this.uid&&this._hide(xM(n,i))},e.prototype._manuallyAxisShowTip=function(t,e,i,n){var a=n.seriesIndex,r=n.dataIndex,o=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=a&&null!=r&&null!=o){var s=e.getSeriesByIndex(a);if(s){var l=s.getData(),u=_M([l.getItemModel(r),s,(s.coordinateSystem||{}).model],this._tooltipModel);if("axis"===u.get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:r,position:n.position}),!0}}},e.prototype._tryShow=function(t,e){var i=t.target,n=this._tooltipModel;if(n){this._lastX=t.offsetX,this._lastY=t.offsetY;var a=t.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,t);else if(i){var r,o;this._lastDataByCoordSys=null,eS(i,(function(t){return null!=Vh(t).dataIndex?(r=t,!0):null!=Vh(t).tooltipConfig?(o=t,!0):void 0}),!0),r?this._showSeriesItemTooltip(t,r,e):o?this._showComponentItemTooltip(t,o,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var i=t.get("showDelay");e=mn(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},e.prototype._showAxisTooltip=function(t,e){var i=this._ecModel,n=this._tooltipModel,a=[e.offsetX,e.offsetY],r=_M([e.tooltipOption],n),o=this._renderMode,s=[],l=N_("section",{blocks:[],noHeader:!0}),u=[],c=new Z_;gM(t,(function(t){gM(t.dataByAxis,(function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),n=t.value;if(e&&null!=n){var a=nz(n,e.axis,i,t.seriesDataIndices,t.valueLabelOpt),r=N_("section",{header:a,noHeader:!Fn(a),sortBlocks:!0,blocks:[]});l.blocks.push(r),cn(t.seriesDataIndices,(function(l){var h=i.getSeriesByIndex(l.seriesIndex),p=l.dataIndexInside,d=h.getDataParams(p);d.axisDim=t.axisDim,d.axisIndex=t.axisIndex,d.axisType=t.axisType,d.axisId=t.axisId,d.axisValue=OI(e.axis,{value:n}),d.axisValueLabel=a,d.marker=c.makeTooltipMarker("item",Xm(d.color),o);var f=c_(h.formatTooltip(p,!0,null));f.markupFragment&&r.blocks.push(f.markupFragment),f.markupText&&u.push(f.markupText),s.push(d)}))}}))})),l.blocks.reverse(),u.reverse();var h=e.position,p=r.get("order"),d=G_(l,c,o,p,i.get("useUTC"),r.get("textStyle"));d&&u.unshift(d);var f="richText"===o?"\n\n":"<br/>",g=u.join(f);this._showOrMove(r,(function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(r,h,a[0],a[1],this._tooltipContent,s):this._showTooltipContent(r,g,s,Math.random()+"",a[0],a[1],h,null,c)}))},e.prototype._showSeriesItemTooltip=function(t,e,i){var n=this._ecModel,a=Vh(e),r=a.seriesIndex,o=n.getSeriesByIndex(r),s=a.dataModel||o,l=a.dataIndex,u=a.dataType,c=s.getData(u),h=this._renderMode,p=t.positionDefault,d=_M([c.getItemModel(l),s,o&&(o.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),f=d.get("trigger");if(null==f||"item"===f){var g=s.getDataParams(l,u),m=new Z_;g.marker=m.makeTooltipMarker("item",Xm(g.color),h);var y=c_(s.formatTooltip(l,!1,u)),v=d.get("order"),_=y.markupFragment?G_(y.markupFragment,m,h,v,n.get("useUTC"),d.get("textStyle")):y.markupText,x="item_"+s.name+"_"+l;this._showOrMove(d,(function(){this._showTooltipContent(d,_,g,x,t.offsetX,t.offsetY,t.position,t.target,m)})),i({type:"showTip",dataIndexInside:l,dataIndex:c.getRawIndex(l),seriesIndex:r,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,i){var n=Vh(e),a=n.tooltipConfig,r=a.option;if(xn(r)){var o=r;r={content:o,formatter:o}}var s=[r],l=this._ecModel.getComponent(n.componentMainType,n.componentIndex);l&&s.push(l);var u=t.positionDefault,c=_M(s,this._tooltipModel,u?{position:u}:null),h=c.get("content"),p=Math.random()+"",d=new Z_;this._showOrMove(c,(function(){var i=tn(c.get("formatterParams")||{});this._showTooltipContent(c,h,i,p,t.offsetX,t.offsetY,t.position,e,d)})),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,i,n,a,r,o,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,c=t.get("formatter");o=o||t.get("position");var h=e,p=this._getNearestPoint([a,r],i,t.get("trigger"),t.get("borderColor")),d=p.color;if(c&&xn(c)){var f=t.ecModel.get("useUTC"),g=vn(i)?i[0]:i,m=g&&g.axisType&&g.axisType.indexOf("time")>=0;h=c,m&&(h=_m(g.axisValue,h,f)),h=Um(h,i,!0)}else if(_n(c)){var y=fM((function(e,n){e===this._ticket&&(u.setContent(n,l,t,d,o),this._updatePosition(t,o,a,r,u,i,s))}),this);this._ticket=n,h=c(i,n,y)}u.setContent(h,l,t,d,o),u.show(t,d),this._updatePosition(t,o,a,r,u,i,s)}},e.prototype._getNearestPoint=function(t,e,i,n){return"axis"===i||vn(e)?{color:n||("html"===this._renderMode?"#fff":"none")}:vn(e)?void 0:{color:n||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,i,n,a,r,o){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=a.getSize(),c=t.get("align"),h=t.get("verticalAlign"),p=o&&o.getBoundingRect().clone();if(o&&p.applyTransform(o.transform),_n(e)&&(e=e([i,n],r,a.el,p,{viewSize:[s,l],contentSize:u.slice()})),vn(e))i=mM(e[0],s),n=mM(e[1],l);else if(wn(e)){var d=e;d.width=u[0],d.height=u[1];var f=ey(d,{width:s,height:l});i=f.x,n=f.y,c=null,h=null}else if(xn(e)&&o){var g=wM(e,p,u);i=g[0],n=g[1]}else{g=bM(i,n,a,s,l,c?null:20,h?null:20);i=g[0],n=g[1]}if(c&&(i-=CM(c)?u[0]/2:"right"===c?u[0]:0),h&&(n-=CM(h)?u[1]/2:"bottom"===h?u[1]:0),$z(t)){g=SM(i,n,a,s,l);i=g[0],n=g[1]}a.moveTo(i,n)},e.prototype._updateContentNotChangedOnAxis=function(t){var e=this._lastDataByCoordSys,i=!!e&&e.length===t.length;return i&&gM(e,(function(e,n){var a=e.dataByAxis||[],r=t[n]||{},o=r.dataByAxis||[];i=i&&a.length===o.length,i&&gM(a,(function(t,e){var n=o[e]||{},a=t.seriesDataIndices||[],r=n.seriesDataIndices||[];i=i&&t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&a.length===r.length,i&&gM(a,(function(t,e){var n=r[e];i=i&&t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex}))}))})),this._lastDataByCoordSys=t,!!i},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){Bi.node||(this._tooltipContent.dispose(),kz("itemTooltip",e))},e.type="tooltip",e}(px);function _M(t,e,i){var n,a=e.ecModel;i?(n=new Gg(i,a,a),n=new Gg(e.option,n,a)):n=e;for(var r=t.length-1;r>=0;r--){var o=t[r];o&&(o instanceof Gg&&(o=o.get("tooltip",!0)),xn(o)&&(o={formatter:o}),o&&(n=new Gg(o,n,a)))}return n}function xM(t,e){return t.dispatchAction||mn(e.dispatchAction,e)}function bM(t,e,i,n,a,r,o){var s=i.getOuterSize(),l=s.width,u=s.height;return null!=r&&(t+l+r+2>n?t-=l+r:t+=r),null!=o&&(e+u+o>a?e-=u+o:e+=o),[t,e]}function SM(t,e,i,n,a){var r=i.getOuterSize(),o=r.width,s=r.height;return t=Math.min(t+o,n)-o,e=Math.min(e+s,a)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function wM(t,e,i){var n=i[0],a=i[1],r=10,o=5,s=0,l=0,u=e.width,c=e.height;switch(t){case"inside":s=e.x+u/2-n/2,l=e.y+c/2-a/2;break;case"top":s=e.x+u/2-n/2,l=e.y-a-r;break;case"bottom":s=e.x+u/2-n/2,l=e.y+c+r;break;case"left":s=e.x-n-r-o,l=e.y+c/2-a/2;break;case"right":s=e.x+u+r+o,l=e.y+c/2-a/2}return[s,l]}function CM(t){return"center"===t||"middle"===t}function TM(t,e,i){var n=Pl(t).queryOptionMap,a=n.keys()[0];if(a&&"series"!==a){var r=Dl(e,a,n.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),o=r.models[0];if(o){var s,l=i.getViewOfComponentModel(o);return l.group.traverse((function(e){var i=Vh(e).tooltipConfig;if(i&&i.name===t.name)return s=e,!0})),s?{componentMainType:a,componentIndex:o.componentIndex,el:s}:void 0}}}var kM=vM;function IM(t){jT(Wz),t.registerComponentModel(jz),t.registerComponentView(kM),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))}var zM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ri(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(uy),MM=zM,PM=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},t.prototype.getCoordSysModel=function(){},t}(),LM=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ri(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Ll).models[0]},e.type="cartesian2dAxis",e}(uy);ln(LM,PM);var DM={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},RM=en({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},DM),AM=en({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},DM),OM=en({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},AM),FM=an({scale:!0,logBase:10},AM),NM={category:RM,value:AM,time:OM,log:FM},EM={value:1,category:1,time:1,log:1};function BM(t,e,i,n){cn(EM,(function(a,r){var o=en(en({},NM[r],!0),n,!0),s=function(t){function i(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var a=t.apply(this,i)||this;return a.type=e+"Axis."+r,a}return Ri(i,t),i.prototype.mergeDefaultAndTheme=function(t,e){var i=iy(this),n=i?ay(t):{},a=e.getTheme();en(t,a.get(r+"Axis")),en(t,this.getDefaultOption()),t.type=VM(t),i&&ny(t,n,i)},i.prototype.optionUpdated=function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=Sk.createByAxisModel(this))},i.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},i.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},i.type=e+"Axis."+r,i.defaultOption=o,i}(i);t.registerComponentModel(s)})),t.registerSubTypeDefaulter(e+"Axis",VM)}function VM(t){return t.type||(t.data?"category":"value")}var GM=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return hn(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),dn(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),WM=GM,HM=["x","y"];function jM(t){return"interval"===t.type||"time"===t.type}var $M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=HM,e}return Ri(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(jM(t)&&jM(e)){var i=t.getExtent(),n=e.getExtent(),a=this.dataToPoint([i[0],n[0]]),r=this.dataToPoint([i[1],n[1]]),o=i[1]-i[0],s=n[1]-n[0];if(o&&s){var l=(r[0]-a[0])/o,u=(r[1]-a[1])/s,c=a[0]-i[0]*l,h=a[1]-n[0]*u,p=this._transform=[l,0,0,u,c,h];this._invTransform=tr([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,e,i){i=i||[];var n=t[0],a=t[1];if(this._transform&&null!=n&&isFinite(n)&&null!=a&&isFinite(a))return aa(i,t,this._transform);var r=this.getAxis("x"),o=this.getAxis("y");return i[0]=r.toGlobalCoord(r.dataToCoord(n)),i[1]=o.toGlobalCoord(o.dataToCoord(a)),i},e.prototype.clampData=function(t,e){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,a=i.getExtent(),r=n.getExtent(),o=i.parse(t[0]),s=n.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(a[0],a[1]),o),Math.max(a[0],a[1])),e[1]=Math.min(Math.max(Math.min(r[0],r[1]),s),Math.max(r[0],r[1])),e},e.prototype.pointToData=function(t,e){if(e=e||[],this._invTransform)return aa(e,t,this._invTransform);var i=this.getAxis("x"),n=this.getAxis("y");return e[0]=i.coordToData(i.toLocalCoord(t[0])),e[1]=n.coordToData(n.toLocalCoord(t[1])),e},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),n=Math.min(e[0],e[1]),a=Math.max(t[0],t[1])-i,r=Math.max(e[0],e[1])-n;return new fo(i,n,a,r)},e}(WM),UM=$M,qM=Il();function XM(t){return"category"===t.type?ZM(t):JM(t)}function YM(t,e){return"category"===t.type?QM(t,e):{ticks:hn(t.scale.getTicks(),(function(t){return t.value}))}}function ZM(t){var e=t.getLabelModel(),i=KM(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}function KM(t,e){var i,n,a=tP(t,"labels"),r=EI(e),o=eP(a,r);return o||(_n(r)?i=sP(t,r):(n="auto"===r?nP(t):r,i=oP(t,n)),iP(a,r,{labels:i,labelCategoryInterval:n}))}function QM(t,e){var i,n,a=tP(t,"ticks"),r=EI(e),o=eP(a,r);if(o)return o;if(e.get("show")&&!t.scale.isBlank()||(i=[]),_n(r))i=sP(t,r,!0);else if("auto"===r){var s=KM(t,t.getLabelModel());n=s.labelCategoryInterval,i=hn(s.labels,(function(t){return t.tickValue}))}else n=r,i=oP(t,n,!0);return iP(a,r,{ticks:i,tickCategoryInterval:n})}function JM(t){var e=t.scale.getTicks(),i=AI(t);return{labels:hn(e,(function(e,n){return{formattedLabel:i(e,n),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}function tP(t,e){return qM(t)[e]||(qM(t)[e]=[])}function eP(t,e){for(var i=0;i<t.length;i++)if(t[i].key===e)return t[i].value}function iP(t,e,i){return t.push({key:e,value:i}),i}function nP(t){var e=qM(t).autoInterval;return null!=e?e:qM(t).autoInterval=t.calculateCategoryInterval()}function aP(t){var e=rP(t),i=AI(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,a=t.scale,r=a.getExtent(),o=a.count();if(r[1]-r[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=r[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),c=Math.abs(u*Math.cos(n)),h=Math.abs(u*Math.sin(n)),p=0,d=0;l<=r[1];l+=s){var f=0,g=0,m=bo(i({value:l}),e.font,"center","top");f=1.3*m.width,g=1.3*m.height,p=Math.max(p,f,7),d=Math.max(d,g,7)}var y=p/c,v=d/h;isNaN(y)&&(y=1/0),isNaN(v)&&(v=1/0);var _=Math.max(0,Math.floor(Math.min(y,v))),x=qM(t.model),b=t.getExtent(),S=x.lastAutoInterval,w=x.lastTickCount;return null!=S&&null!=w&&Math.abs(S-_)<=1&&Math.abs(w-o)<=1&&S>_&&x.axisExtent0===b[0]&&x.axisExtent1===b[1]?_=S:(x.lastTickCount=o,x.lastAutoInterval=_,x.axisExtent0=b[0],x.axisExtent1=b[1]),_}function rP(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function oP(t,e,i){var n=AI(t),a=t.scale,r=a.getExtent(),o=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),u=r[0],c=a.count();0!==u&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var h=BI(t),p=o.get("showMinLabel")||h,d=o.get("showMaxLabel")||h;p&&u!==r[0]&&g(r[0]);for(var f=u;f<=r[1];f+=l)g(f);function g(t){var e={value:t};s.push(i?t:{formattedLabel:n(e),rawLabel:a.getLabel(e),tickValue:t})}return d&&f-l!==r[1]&&g(r[1]),s}function sP(t,e,i){var n=t.scale,a=AI(t),r=[];return cn(n.getTicks(),(function(t){var o=n.getLabel(t),s=t.value;e(t.value,o)&&r.push(i?s:{formattedLabel:a(t),rawLabel:o,tickValue:s})})),r}var lP=[0,1],uP=function(){function t(t,e,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=i||[0,0]}return t.prototype.contain=function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&t<=n},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return Us(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var i=this._extent;i[0]=t,i[1]=e},t.prototype.dataToCoord=function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&"ordinal"===n.type&&(i=i.slice(),cP(i,n.count())),Ws(t,lP,i,e)},t.prototype.coordToData=function(t,e){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&(i=i.slice(),cP(i,n.count()));var a=Ws(t,i,lP,e);return this.scale.scale(a)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),i=YM(this,e),n=i.ticks,a=hn(n,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this),r=e.get("alignWithLabel");return hP(this,a,r,t.clamp),a},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var i=this.scale.getMinorTicks(e),n=hn(i,(function(t){return hn(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this);return n},t.prototype.getViewLabels=function(){return XM(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i},t.prototype.calculateCategoryInterval=function(){return aP(this)},t}();function cP(t,e){var i=t[1]-t[0],n=e,a=i/n/2;t[0]+=a,t[1]-=a}function hP(t,e,i,n){var a=e.length;if(t.onBand&&!i&&a){var r,o,s=t.getExtent();if(1===a)e[0].coord=s[0],r=e[1]={coord:s[0]};else{var l=e[a-1].tickValue-e[0].tickValue,u=(e[a-1].coord-e[0].coord)/l;cn(e,(function(t){t.coord-=u/2}));var c=t.scale.getExtent();o=1+c[1]-e[a-1].tickValue,r={coord:e[a-1].coord+u*o},e.push(r)}var h=s[0]>s[1];p(e[0].coord,s[0])&&(n?e[0].coord=s[0]:e.shift()),n&&p(s[0],e[0].coord)&&e.unshift({coord:s[0]}),p(s[1],r.coord)&&(n?r.coord=s[1]:e.pop()),n&&p(r.coord,s[1])&&e.push({coord:s[1]})}function p(t,e){return t=js(t),e=js(e),h?t>e:t<e}}var pP=uP,dP=function(t){function e(e,i,n,a,r){var o=t.call(this,e,i,n)||this;return o.index=0,o.type=a||"value",o.position=r||"bottom",o}return Ri(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(pP),fP=dP,gP=function(){function t(t,e,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=HM,this._initCartesian(t,e,i),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),cn(i.x,(function(t){LI(t.scale,t.model)})),cn(i.y,(function(t){LI(t.scale,t.model)}));var n={};cn(i.x,(function(t){yP(i,"y",t,n)})),cn(i.y,(function(t){yP(i,"x",t,n)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,i){var n=t.getBoxLayoutParams(),a=!i&&t.get("containLabel"),r=ey(n,{width:e.getWidth(),height:e.getHeight()});this._rect=r;var o=this._axesList;function s(){cn(o,(function(t){var e=t.isHorizontal(),i=e?[0,r.width]:[0,r.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),_P(t,e?r.x:r.y)}))}s(),a&&(cn(o,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=FI(t);if(e){var i=t.isHorizontal()?"height":"width",n=t.model.get(["axisLabel","margin"]);r[i]-=e[i]+n,"top"===t.position?r.y+=e.height+n:"left"===t.position&&(r.x+=e.width+n)}}})),s()),cn(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i)return i[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}wn(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,a=this._coordsList;n<a.length;n++)if(a[n].getAxis("x").index===t||a[n].getAxis("y").index===e)return a[n]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,i){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},t.prototype.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},t.prototype._findConvertTarget=function(t){var e,i,n=t.seriesModel,a=t.xAxisModel||n&&n.getReferringComponents("xAxis",Ll).models[0],r=t.yAxisModel||n&&n.getReferringComponents("yAxis",Ll).models[0],o=t.gridModel,s=this._coordsList;if(n)e=n.coordinateSystem,on(s,e)<0&&(e=null);else if(a&&r)e=this.getCartesian(a.componentIndex,r.componentIndex);else if(a)i=this.getAxis("x",a.componentIndex);else if(r)i=this.getAxis("y",r.componentIndex);else if(o){var l=o.coordinateSystem;l===this&&(e=this._coordsList[0])}return{cartesian:e,axis:i}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,i){var n=this,a=this,r={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(e){return function(i,n){if(mP(i,t)){var l=i.get("position");"x"===e?"top"!==l&&"bottom"!==l&&(l=r.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=r.left?"right":"left"),r[l]=!0;var u=new fP(e,DI(i),[0,0],i.get("type"),l),c="category"===u.type;u.onBand=c&&i.get("boundaryGap"),u.inverse=i.get("inverse"),i.axis=u,u.model=i,u.grid=a,u.index=n,a._axesList.push(u),o[e][n]=u,s[e]++}}}this._axesMap=o,cn(o.x,(function(e,i){cn(o.y,(function(a,r){var o="x"+i+"y"+r,s=new UM(o);s.master=n,s.model=t,n._coordsMap[o]=s,n._coordsList.push(s),s.addAxis(e),s.addAxis(a)}))}))},t.prototype._updateScale=function(t,e){function i(t,e){cn(VI(t,e.dim),(function(i){e.scale.unionExtentFromData(t,i)}))}cn(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(uz(t)){var n=cz(t),a=n.xAxisModel,r=n.yAxisModel;if(!mP(a,e)||!mP(r,e))return;var o=this.getCartesian(a.componentIndex,r.componentIndex),s=t.getData(),l=o.getAxis("x"),u=o.getAxis("y");"list"===s.type&&(i(s,l),i(s,u))}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],i=[];return cn(this.getCartesians(),(function(n){var a=null!=t&&"auto"!==t?n.getAxis(t):n.getBaseAxis(),r=n.getOtherAxis(a);on(e,a)<0&&e.push(a),on(i,r)<0&&i.push(r)})),{baseAxes:e,otherAxes:i}},t.create=function(e,i){var n=[];return e.eachComponent("grid",(function(a,r){var o=new t(a,e,i);o.name="grid_"+r,o.resize(a,i,!0),a.coordinateSystem=o,n.push(o)})),e.eachSeries((function(t){if(uz(t)){var e=cz(t),i=e.xAxisModel,n=e.yAxisModel,a=i.getCoordSysModel();0;var r=a.coordinateSystem;t.coordinateSystem=r.getCartesian(i.componentIndex,n.componentIndex)}})),n},t.dimensions=HM,t}();function mP(t,e){return t.getCoordSysModel()===e}function yP(t,e,i,n){i.getAxesOnZeroOf=function(){return a?[a]:[]};var a,r=t[e],o=i.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)vP(r[l])&&(a=r[l]);else for(var u in r)if(r.hasOwnProperty(u)&&vP(r[u])&&!n[c(r[u])]){a=r[u];break}a&&(n[c(a)]=!0)}function c(t){return t.dim+"_"+t.index}}function vP(t){return t&&"category"!==t.type&&"time"!==t.type&&RI(t)}function _P(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}var xP=gP,bP=Il();function SP(t,e,i,n){var a=i.axis;if(!a.scale.isBlank()){var r=i.getModel("splitArea"),o=r.getModel("areaStyle"),s=o.get("color"),l=n.coordinateSystem.getRect(),u=a.getTicksCoords({tickModel:r,clamp:!0});if(u.length){var c=s.length,h=bP(t).splitAreaColors,p=Gn(),d=0;if(h)for(var f=0;f<u.length;f++){var g=h.get(u[f].tickValue);if(null!=g){d=(g+(c-1)*f)%c;break}}var m=a.toGlobalCoord(u[0].coord),y=o.getAreaStyle();s=vn(s)?s:[s];for(f=1;f<u.length;f++){var v=a.toGlobalCoord(u[f].coord),_=void 0,x=void 0,b=void 0,S=void 0;a.isHorizontal()?(_=m,x=l.y,b=v-_,S=l.height,m=_+b):(_=l.x,x=m,b=l.width,S=v-x,m=x+S);var w=u[f-1].tickValue;null!=w&&p.set(w,d),e.add(new Th({anid:null!=w?"area_"+w:null,shape:{x:_,y:x,width:b,height:S},style:an({fill:s[d]},y),autoBatch:!0,silent:!0})),d=(d+1)%c}bP(t).splitAreaColors=p}}}function wP(t){bP(t).splitAreaColors=null}var CP=["axisLine","axisTickLabel","axisName"],TP=["splitArea","splitLine","minorSplitLine"],kP=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.axisPointerClass="CartesianAxisPointer",i}return Ri(e,t),e.prototype.render=function(e,i,n,a){this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new Ls,this.group.add(this._axisGroup),e.get("show")){var o=e.getCoordSysModel(),s=lz(o,e),l=new JI(e,nn({handleAutoShown:function(t){for(var i=o.coordinateSystem.getCartesians(),n=0;n<i.length;n++){var a=i[n].getOtherAxis(e.axis).type;if("value"===a||"log"===a)return!0}return!1}},s));cn(CP,l.add,l),this._axisGroup.add(l.getGroup()),cn(TP,(function(t){e.get([t,"show"])&&IP[t](this,this._axisGroup,e,o)}),this),ag(r,this._axisGroup,e),t.prototype.render.call(this,e,i,n,a)}},e.prototype.remove=function(){wP(this)},e.type="cartesianAxis",e}(sk),IP={splitLine:function(t,e,i,n){var a=i.axis;if(!a.scale.isBlank()){var r=i.getModel("splitLine"),o=r.getModel("lineStyle"),s=o.get("color");s=vn(s)?s:[s];for(var l=n.coordinateSystem.getRect(),u=a.isHorizontal(),c=0,h=a.getTicksCoords({tickModel:r}),p=[],d=[],f=o.getLineStyle(),g=0;g<h.length;g++){var m=a.toGlobalCoord(h[g].coord);u?(p[0]=m,p[1]=l.y,d[0]=m,d[1]=l.y+l.height):(p[0]=l.x,p[1]=m,d[0]=l.x+l.width,d[1]=m);var y=c++%s.length,v=h[g].tickValue;e.add(new af({anid:null!=v?"line_"+h[g].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:d[0],y2:d[1]},style:an({stroke:s[y]},f),silent:!0}))}}},minorSplitLine:function(t,e,i,n){var a=i.axis,r=i.getModel("minorSplitLine"),o=r.getModel("lineStyle"),s=n.coordinateSystem.getRect(),l=a.isHorizontal(),u=a.getMinorTicksCoords();if(u.length)for(var c=[],h=[],p=o.getLineStyle(),d=0;d<u.length;d++)for(var f=0;f<u[d].length;f++){var g=a.toGlobalCoord(u[d][f].coord);l?(c[0]=g,c[1]=s.y,h[0]=g,h[1]=s.y+s.height):(c[0]=s.x,c[1]=g,h[0]=s.x+s.width,h[1]=g),e.add(new af({anid:"minor_line_"+u[d][f].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:p,silent:!0}))}},splitArea:function(t,e,i,n){SP(t,e,i,n)}},zP=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Ri(e,t),e.type="xAxis",e}(kP),MP=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=zP.type,e}return Ri(e,t),e.type="yAxis",e}(kP),PP=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return Ri(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new Th({shape:t.coordinateSystem.getRect(),style:an({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(px),LP={offset:0};function DP(t){t.registerComponentView(PP),t.registerComponentModel(MM),t.registerCoordinateSystem("cartesian2d",xP),BM(t,"x",LM,LP),BM(t,"y",LM,LP),t.registerComponentView(zP),t.registerComponentView(MP),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function RP(t){jT(DP),jT(Wz)}var AP=function(t,e){return"all"===e?{type:"all",title:t.getLocale(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocale(["legend","selector","inverse"])}:void 0},OP=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.layoutMode={type:"box",ignoreSize:!0},i}return Ri(e,t),e.prototype.init=function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,i){t.prototype.mergeOption.call(this,e,i),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,i=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),vn(e)&&cn(e,(function(t,n){xn(t)&&(t={type:t}),e[n]=en(t,AP(i,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],i=[];t.eachRawSeries((function(n){var a,r=n.name;if(i.push(r),n.legendVisualProvider){var o=n.legendVisualProvider,s=o.getAllNames();t.isSeriesFiltered(n)||(i=i.concat(s)),s.length?e=e.concat(s):a=!0}else a=!0;a&&Sl(n)&&e.push(n.name)})),this._availableNames=i;var n=this.get("data")||e,a=hn(n,(function(t){return"string"!==typeof t&&"number"!==typeof t||(t={name:t}),new Gg(t,this,this.ecModel)}),this);this._data=a},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected,i=this.get("selectedMode");if("single"===i){var n=this._data;cn(n,(function(t){e[t.get("name")]=!1}))}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;cn(t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;cn(t,(function(t){var i=t.get("name",!0);e.hasOwnProperty(i)||(e[i]=!0),e[i]=!e[i]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&on(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolSize:"auto",inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",decal:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(uy),FP=OP;function NP(t,e){var i=Bm(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),t=new Th({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1}),t}var EP=yn,BP=cn,VP=Ls,GP=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.newlineDisabled=!1,i}return Ri(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new VP),this.group.add(this._selectorGroup=new VP),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var a=t.get("align"),r=t.get("orient");a&&"auto"!==a||(a="right"===t.get("left")&&"vertical"===r?"right":"left");var o=t.get("selector",!0),s=t.get("selectorPosition",!0);!o||s&&"auto"!==s||(s="horizontal"===r?"end":"start"),this.renderInner(a,t,e,i,o,r,s);var l=t.getBoxLayoutParams(),u={width:i.getWidth(),height:i.getHeight()},c=t.get("padding"),h=ey(l,u,c),p=this.layoutInner(t,a,h,n,o,s),d=ey(an({width:p.width,height:p.height},l),u,c);this.group.x=d.x-p.x,this.group.y=d.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=NP(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,i,n,a,r,o){var s=this.getContentGroup(),l=Gn(),u=e.get("selectedMode"),c=[];i.eachRawSeries((function(t){!t.get("legendHoverLink")&&c.push(t.id)})),BP(e.getData(),(function(a,r){var o=a.get("name");if(!this.newlineDisabled&&(""===o||"\n"===o)){var h=new VP;return h.newline=!0,void s.add(h)}var p=i.getSeriesByName(o)[0];if(!l.get(o)){if(p){var d=p.getData(),f=d.getVisual("legendLineStyle")||{},g=d.getVisual("legendSymbol"),m=d.getVisual("style");d.getVisual("symbolSize");var y=this._createItem(p,o,r,a,e,t,f,m,g,u);y.on("click",EP(jP,o,null,n,c)).on("mouseover",EP(UP,p.name,null,n,c)).on("mouseout",EP(qP,p.name,null,n,c)),l.set(o,!0)}else i.eachRawSeries((function(i){if(!l.get(o)&&i.legendVisualProvider){var s=i.legendVisualProvider;if(!s.containName(o))return;var h=s.indexOfName(o),p=s.getItemVisual(h,"style"),d=s.getItemVisual(h,"legendSymbol"),f=Mr(p.fill);f&&0===f[3]&&(f[3]=.2,p.fill=Rr(f,"rgba"));var g=this._createItem(i,o,r,a,e,t,{},p,d,u);g.on("click",EP(jP,null,o,n,c)).on("mouseover",EP(UP,null,o,n,c)).on("mouseout",EP(qP,null,o,n,c)),l.set(o,!0)}}),this);0}}),this),a&&this._createSelector(a,e,n,r,o)},e.prototype._createSelector=function(t,e,i,n,a){var r=this.getSelectorGroup();BP(t,(function(t){var n=t.type,a=new Bh({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===n?"legendAllSelect":"legendInverseSelect"})}});r.add(a);var o=e.getModel("selectorLabel"),s=e.getModel(["emphasis","selectorLabel"]);mg(a,{normal:o,emphasis:s},{defaultText:t.title}),Bp(a)}))},e.prototype._createItem=function(t,e,i,n,a,r,o,s,l,u){var c=t.visualDrawType,h=a.get("itemWidth"),p=a.get("itemHeight"),d=a.isSelected(e),f=n.get("symbolKeepAspect"),g=n.get("icon");l=g||l||"roundRect";var m=a.getModel("lineStyle"),y=WP(l,n,m,o,s,c,d),v=new VP,_=n.getModel("textStyle");"function"!==typeof t.getLegendIcon||g?v.add(HP({itemWidth:h,itemHeight:p,symbolType:l,symbolKeepAspect:f,itemStyle:y.itemStyle,lineStyle:y.lineStyle})):v.add(t.getLegendIcon({itemWidth:h,itemHeight:p,symbolType:l,symbolKeepAspect:f,itemStyle:y.itemStyle,lineStyle:y.lineStyle}));var x="left"===r?h+5:-5,b=r,S=a.get("formatter"),w=e;"string"===typeof S&&S?w=S.replace("{name}",null!=e?e:""):"function"===typeof S&&(w=S(e));var C=n.get("inactiveColor");v.add(new Bh({style:vg(_,{text:w,x:x,y:p/2,fill:d?_.getTextColor():C,align:b,verticalAlign:"middle"})}));var T=new Th({shape:v.getBoundingRect(),invisible:!0}),k=n.getModel("tooltip");return k.get("show")&&pg({el:T,componentModel:a,itemName:e,itemTooltipOption:k.option}),v.add(T),v.eachChild((function(t){t.silent=!0})),T.silent=!u,this.getContentGroup().add(v),Bp(v),v.__legendDataIndex=i,v},e.prototype.layoutInner=function(t,e,i,n,a,r){var o=this.getContentGroup(),s=this.getSelectorGroup();ty(t.get("orient"),o,t.get("itemGap"),i.width,i.height);var l=o.getBoundingRect(),u=[-l.x,-l.y];if(s.markRedraw(),o.markRedraw(),a){ty("horizontal",s,t.get("selectorItemGap",!0));var c=s.getBoundingRect(),h=[-c.x,-c.y],p=t.get("selectorButtonGap",!0),d=t.getOrient().index,f=0===d?"width":"height",g=0===d?"height":"width",m=0===d?"y":"x";"end"===r?h[d]+=l[f]+p:u[d]+=c[f]+p,h[1-d]+=l[g]/2-c[g]/2,s.x=h[0],s.y=h[1],o.x=u[0],o.y=u[1];var y={x:0,y:0};return y[f]=l[f]+p+c[f],y[g]=Math.max(l[g],c[g]),y[m]=Math.min(0,c[m]+h[1-d]),y}return o.x=u[0],o.y=u[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(px);function WP(t,e,i,n,a,r,o){for(var s=e.getModel("itemStyle"),l=Ng.concat([["decal"]]),u={},c=0;c<l.length;++c){var h=l[c][l[c].length-1],p=l[c][0],d=s.getShallow(h);if("inherit"===d)switch(p){case"fill":u.fill=a[r];break;case"stroke":u.stroke=a[t.startsWith("empty")?"fill":"stroke"];break;case"opacity":u.opacity=("fill"===r?a:n).opacity;break;default:u[p]=a[p]}else"auto"===d&&"lineWidth"===p?u.lineWidth=a.lineWidth>0?2:0:u[p]=d}var f=e.getModel("lineStyle"),g=Ag.concat([["inactiveColor"],["inactiveWidth"]]),m={};for(c=0;c<g.length;++c){h=g[c][1],p=g[c][0],d=f.getShallow(h);"inherit"===d?m[p]=n[p]:"auto"===d&&"lineWidth"===p?m.lineWidth=n.lineWidth>0?2:0:m[p]=d}if("auto"===u.fill&&(u.fill=a.fill),"auto"===u.stroke&&(u.stroke=a.fill),"auto"===m.stroke&&(m.stroke=a.fill),!o){var y=e.get("inactiveBorderWidth"),v=u[t.indexOf("empty")>-1?"fill":"stroke"];u.lineWidth="auto"===y?a.lineWidth>0&&v?2:0:u.lineWidth,u.fill=e.get("inactiveColor"),u.stroke=e.get("inactiveBorderColor"),m.stroke=i.get("inactiveColor"),m.lineWidth=i.get("inactiveWidth")}return{itemStyle:u,lineStyle:m}}function HP(t){var e=t.symbolType||"roundRect",i=fS(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return i.setStyle(t.itemStyle),e.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i}function jP(t,e,i,n){qP(t,e,i,n),i.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),UP(t,e,i,n)}function $P(t){var e,i=t.getZr().storage.getDisplayList(),n=0,a=i.length;while(n<a&&!(e=i[n].states.emphasis))n++;return e&&e.hoverLayer}function UP(t,e,i,n){$P(i)||i.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function qP(t,e,i,n){$P(i)||i.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}var XP=GP;function YP(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0}))}function ZP(t,e,i){var n,a={},r="toggleSelected"===t;return i.eachComponent("legend",(function(i){r&&null!=n?i[n?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?i[t]():(i[t](e.name),n=i.isSelected(e.name));var o=i.getData();cn(o,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);a.hasOwnProperty(e)?a[e]=a[e]&&n:a[e]=n}}))})),"allSelect"===t||"inverseSelect"===t?{selected:a}:{name:e.name,selected:a}}function KP(t){t.registerAction("legendToggleSelect","legendselectchanged",yn(ZP,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",yn(ZP,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",yn(ZP,"inverseSelect")),t.registerAction("legendSelect","legendselected",yn(ZP,"select")),t.registerAction("legendUnSelect","legendunselected",yn(ZP,"unSelect"))}function QP(t){t.registerComponentModel(FP),t.registerComponentView(XP),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,YP),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),KP(t)}var JP=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Ri(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,i,n){var a=ay(e);t.prototype.init.call(this,e,i,n),tL(this,e,a)},e.prototype.mergeOption=function(e,i){t.prototype.mergeOption.call(this,e,i),tL(this,this.option,e)},e.type="legend.scroll",e.defaultOption=Ug(FP.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(FP);function tL(t,e,i){var n=t.getOrient(),a=[1,1];a[n.index]=0,ny(e,i,{type:"box",ignoreSize:!!a})}var eL=JP,iL=Ls,nL=["width","height"],aL=["x","y"],rL=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i.newlineDisabled=!0,i._currentIndex=0,i}return Ri(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new iL),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new iL)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,i,n,a,r,o,s){var l=this;t.prototype.renderInner.call(this,e,i,n,a,r,o,s);var u=this._controllerGroup,c=i.get("pageIconSize",!0),h=vn(c)?c:[c,c];d("pagePrev",0);var p=i.getModel("pageTextStyle");function d(t,e){var n=t+"DataIndex",r=sg(i.get("pageIcons",!0)[i.getOrient().name][e],{onclick:mn(l._pageGo,l,n,i,a)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});r.name=t,u.add(r)}u.add(new Bh({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),d("pageNext",1)},e.prototype.layoutInner=function(t,e,i,n,a,r){var o=this.getSelectorGroup(),s=t.getOrient().index,l=nL[s],u=aL[s],c=nL[1-s],h=aL[1-s];a&&ty("horizontal",o,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),d=o.getBoundingRect(),f=[-d.x,-d.y],g=tn(i);a&&(g[l]=i[l]-d[l]-p);var m=this._layoutContentAndController(t,n,g,s,l,c,h,u);if(a){if("end"===r)f[s]+=m[l]+p;else{var y=d[l]+p;f[s]-=y,m[u]-=y}m[l]+=d[l]+p,f[1-s]+=m[h]+m[c]/2-d[c]/2,m[c]=Math.max(m[c],d[c]),m[h]=Math.min(m[h],d[h]+f[1-s]),o.x=f[0],o.y=f[1],o.markRedraw()}return m},e.prototype._layoutContentAndController=function(t,e,i,n,a,r,o,s){var l=this.getContentGroup(),u=this._containerGroup,c=this._controllerGroup;ty(t.get("orient"),l,t.get("itemGap"),n?i.width:null,n?null:i.height),ty("horizontal",c,t.get("pageButtonItemGap",!0));var h=l.getBoundingRect(),p=c.getBoundingRect(),d=this._showController=h[a]>i[a],f=[-h.x,-h.y];e||(f[n]=l[s]);var g=[0,0],m=[-p.x,-p.y],y=Ln(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(d){var v=t.get("pageButtonPosition",!0);"end"===v?m[n]+=i[a]-p[a]:g[n]+=p[a]+y}m[1-n]+=h[r]/2-p[r]/2,l.setPosition(f),u.setPosition(g),c.setPosition(m);var _={x:0,y:0};if(_[a]=d?i[a]:h[a],_[r]=Math.max(h[r],p[r]),_[o]=Math.min(0,p[o]+m[1-n]),u.__rectSize=i[a],d){var x={x:0,y:0};x[a]=Math.max(i[a]-p[a]-y,0),x[r]=_[r],u.setClipPath(new Th({shape:x})),u.__rectSize=x[a]}else c.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var b=this._getPageInfo(t);return null!=b.pageIndex&&qf(l,{x:b.contentPosition[0],y:b.contentPosition[1]},d?t:null),this._updatePageInfoView(t,b),_},e.prototype._pageGo=function(t,e,i){var n=this._getPageInfo(e)[t];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var i=this._controllerGroup;cn(["pagePrev","pageNext"],(function(n){var a=n+"DataIndex",r=null!=e[a],o=i.childOfName(n);o&&(o.setStyle("fill",r?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=r?"pointer":"default")}));var n=i.childOfName("pageText"),a=t.get("pageFormatter"),r=e.pageIndex,o=null!=r?r+1:0,s=e.pageCount;n&&a&&n.setStyle("text",xn(a)?a.replace("{current}",null==o?"":o+"").replace("{total}",null==s?"":s+""):a({current:o,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,a=t.getOrient().index,r=nL[a],o=aL[a],s=this._findTargetItemIndex(e),l=i.children(),u=l[s],c=l.length,h=c?1:0,p={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!u)return p;var d=v(u);p.contentPosition[a]=-d.s;for(var f=s+1,g=d,m=d,y=null;f<=c;++f)y=v(l[f]),(!y&&m.e>g.s+n||y&&!_(y,g.s))&&(g=m.i>g.i?m:y,g&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=g.i),++p.pageCount)),m=y;for(f=s-1,g=d,m=d,y=null;f>=-1;--f)y=v(l[f]),y&&_(m,y.s)||!(g.i<m.i)||(m=g,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=g.i),++p.pageCount,++p.pageIndex),g=y;return p;function v(t){if(t){var e=t.getBoundingRect(),i=e[o]+t[o];return{s:i,e:i+e[r],i:t.__legendDataIndex}}}function _(t,e){return t.e>=e&&t.s<=e+n}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var e,i,n=this.getContentGroup();return n.eachChild((function(n,a){var r=n.__legendDataIndex;null==i&&null!=r&&(i=a),r===t&&(e=a)})),null!=e?e:i},e.type="legend.scroll",e}(XP),oL=rL;function sL(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(i)}))}))}function lL(t){jT(QP),t.registerComponentModel(eL),t.registerComponentView(oL),sL(t)}function uL(t){jT(QP),jT(lL)}var cL={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},hL=function(t){return Math.round(t.length/2)};function pL(t){return{seriesType:t,reset:function(t,e,i){var n=t.getData(),a=t.get("sampling"),r=t.coordinateSystem,o=n.count();if(o>10&&"cartesian2d"===r.type&&a){var s=r.getBaseAxis(),l=r.getOtherAxis(s),u=s.getExtent(),c=i.getDevicePixelRatio(),h=Math.abs(u[1]-u[0])*(c||1),p=Math.round(o/h);if(p>1){"lttb"===a&&t.setData(n.lttbDownSample(n.mapDimension(l.dim),1/p));var d=void 0;"string"===typeof a?d=cL[a]:"function"===typeof a&&(d=a),d&&t.setData(n.downSample(n.mapDimension(l.dim),1/p,d,hL))}}}}}function dL(t){return null==t?0:t.length||1}function fL(t){return t}var gL=function(){function t(t,e,i,n,a,r){this._old=t,this._new=e,this._oldKeyGetter=i||fL,this._newKeyGetter=n||fL,this.context=a,this._diffModeMultiple="multiple"===r}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,i={},n=new Array(t.length),a=new Array(e.length);this._initIndexMap(t,null,n,"_oldKeyGetter"),this._initIndexMap(e,i,a,"_newKeyGetter");for(var r=0;r<t.length;r++){var o=n[r],s=i[o],l=dL(s);if(l>1){var u=s.shift();1===s.length&&(i[o]=s[0]),this._update&&this._update(u,r)}else 1===l?(i[o]=null,this._update&&this._update(s,r)):this._remove&&this._remove(r)}this._performRestAdd(a,i)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,i={},n={},a=[],r=[];this._initIndexMap(t,i,a,"_oldKeyGetter"),this._initIndexMap(e,n,r,"_newKeyGetter");for(var o=0;o<a.length;o++){var s=a[o],l=i[s],u=n[s],c=dL(l),h=dL(u);if(c>1&&1===h)this._updateManyToOne&&this._updateManyToOne(u,l),n[s]=null;else if(1===c&&h>1)this._updateOneToMany&&this._updateOneToMany(u,l),n[s]=null;else if(1===c&&1===h)this._update&&this._update(u,l),n[s]=null;else if(c>1)for(var p=0;p<c;p++)this._remove&&this._remove(l[p]);else this._remove&&this._remove(l)}this._performRestAdd(r,n)},t.prototype._performRestAdd=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],a=e[n],r=dL(a);if(r>1)for(var o=0;o<r;o++)this._add&&this._add(a[o]);else 1===r&&this._add&&this._add(a);e[n]=null}},t.prototype._initIndexMap=function(t,e,i,n){for(var a=this._diffModeMultiple,r=0;r<t.length;r++){var o="_ec_"+this[n](t[r],r);if(a||(i[r]=o),e){var s=e[o],l=dL(s);0===l?(e[o]=r,a&&i.push(o)):1===l?e[o]=[s,r]:s.push(r)}}},t}(),mL=gL;function yL(t){var e={},i=e.encode={},n=Gn(),a=[],r=[],o=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};cn(t.dimensions,(function(e){var s=t.getDimensionInfo(e),l=s.coordDim;if(l){0;var u=s.coordDimIndex;vL(i,l)[u]=e,s.isExtraCoord||(n.set(l,1),xL(s.type)&&(a[0]=e),vL(o.encode,l)[u]=s.index),s.defaultTooltip&&r.push(e)}dy.each((function(t,e){var n=vL(i,e),a=s.otherDims[e];null!=a&&!1!==a&&(n[a]=s.name)}))}));var s=[],l={};n.each((function(t,e){var n=i[e];l[e]=n[0],s=s.concat(n)})),e.dataDimsOnCoord=s,e.encodeFirstDimNotExtra=l;var u=i.label;u&&u.length&&(a=u.slice());var c=i.tooltip;return c&&c.length?r=c.slice():r.length||(r=a.slice()),i.defaultedLabel=a,i.defaultedTooltip=r,e}function vL(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function _L(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function xL(t){return!("ordinal"===t||"time"===t)}var bL,SL,wL,CL,TL,kL,IL,zL,ML,PL,LL,DL,RL,AL,OL=function(){function t(t){this.otherDims={},null!=t&&nn(this,t)}return t}(),FL=OL,NL=Math.floor,EL=wn,BL=hn,VL="undefined",GL=-1,WL="e\0\0",HL={float:typeof Float64Array===VL?Array:Float64Array,int:typeof Int32Array===VL?Array:Int32Array,ordinal:Array,number:Array,time:Array},jL=typeof Uint32Array===VL?Array:Uint32Array,$L=typeof Int32Array===VL?Array:Int32Array,UL=typeof Uint16Array===VL?Array:Uint16Array,qL=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx","_nameRepeatCount"],XL=["_extent","_approximateExtent","_rawExtent"],YL=function(){function t(t,e){this.type="list",this._count=0,this._rawCount=0,this._storage={},this._storageArr=[],this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawExtent={},this._extent={},this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!0,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"],this.getRawIndex=TL,t=t||["x","y"];for(var i={},n=[],a={},r=0;r<t.length;r++){var o=t[r],s=xn(o)?new FL({name:o}):o instanceof FL?o:new FL(o),l=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=l,s.coordDimIndex=0);var u=s.otherDims=s.otherDims||{};n.push(l),i[l]=s,s.index=r,s.createInvertedIndices&&(a[l]=[]),0===u.itemName&&(this._nameDimIdx=r,this._nameOrdinalMeta=s.ordinalMeta),0===u.itemId&&(this._idDimIdx=r,this._idOrdinalMeta=s.ordinalMeta)}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this._dimensionsSummary=yL(this),this._invertedIndicesMap=a,this.userOutput=this._dimensionsSummary.userOutput}return t.prototype.getDimension=function(t){return"number"!==typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},t.prototype.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},t.prototype.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var i=this._dimensionsSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var n=i.encode[t];return n?n[e]:null},t.prototype.mapDimensionsAll=function(t){var e=this._dimensionsSummary,i=e.encode[t];return(i||[]).slice()},t.prototype.initData=function(t,e,i){var n=Vv(t)||un(t),a=n?new Zv(t,this.dimensions.length):t;this._rawData=a;var r=a.getSource().sourceFormat;this._storage={},this._indices=null,this._dontMakeIdFromName=null!=this._idDimIdx||r===vy||!!a.fillStorage,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=bL[r],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._dimValueGetterArrayRows=bL.arrayRows,this._rawExtent={},this._initDataFromProvider(0,a.count()),a.pure&&(this.hasItemOption=!1)},t.prototype.getProvider=function(){return this._rawData},t.prototype.appendData=function(t){var e=this._rawData,i=this.count();e.appendData(t);var n=e.count();e.persistent||(n+=i),this._initDataFromProvider(i,n,!0)},t.prototype.appendValues=function(t,e){for(var i=this._storage,n=this.dimensions,a=n.length,r=this._rawExtent,o=this.count(),s=o+Math.max(t.length,e?e.length:0),l=0;l<a;l++){var u=n[l];r[u]||(r[u]=DL()),CL(i,this._dimensionInfos[u],s,!0)}for(var c=BL(n,(function(t){return r[t]})),h=this._storageArr=BL(n,(function(t){return i[t]})),p=[],d=o;d<s;d++){for(var f=d-o,g=0;g<a;g++){u=n[g];var m=this._dimValueGetterArrayRows(t[f]||p,u,f,g);h[g][d]=m;var y=c[g];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}e&&(this._nameList[d]=e[f],this._dontMakeIdFromName||ML(this,d))}this._rawCount=this._count=s,this._extent={},SL(this)},t.prototype._initDataFromProvider=function(t,e,i){if(!(t>=e)){for(var n=this._rawData,a=this._storage,r=this.dimensions,o=r.length,s=this._dimensionInfos,l=this._nameList,u=this._idList,c=this._rawExtent,h=n.getSource().sourceFormat,p=h===fy,d=0;d<o;d++){var f=r[d];c[f]||(c[f]=DL()),CL(a,s[f],e,i)}var g=this._storageArr=BL(r,(function(t){return a[t]})),m=BL(r,(function(t){return c[t]}));if(n.fillStorage)n.fillStorage(t,e,g,m);else for(var y=[],v=t;v<e;v++){y=n.getItem(v,y);for(var _=0;_<o;_++){f=r[_];var x=g[_],b=this._dimValueGetter(y,f,v,_);x[v]=b;var S=m[_];b<S[0]&&(S[0]=b),b>S[1]&&(S[1]=b)}if(p&&!n.pure&&y){var w=y.name;null==l[v]&&null!=w&&(l[v]=bl(w,null));var C=y.id;null==u[v]&&null!=C&&(u[v]=bl(C,null))}this._dontMakeIdFromName||ML(this,v)}!n.persistent&&n.clean&&n.clean(),this._rawCount=this._count=e,this._extent={},SL(this)}},t.prototype.count=function(){return this._count},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var i=e.constructor,n=this._count;if(i===Array){t=new i(n);for(var a=0;a<n;a++)t[a]=e[a]}else t=new i(e.buffer,0,n)}else{i=wL(this);t=new i(this.count());for(a=0;a<t.length;a++)t[a]=a}return t},t.prototype.getByDimIdx=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._storageArr[t];return i?i[this.getRawIndex(e)]:NaN},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._storage[t];return i?i[this.getRawIndex(e)]:NaN},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var i=this._storage[t];return i?i[e]:NaN},t.prototype.getValues=function(t,e){var i=[];vn(t)||(e=t,t=this.dimensions);for(var n=0,a=t.length;n<a;n++)i.push(this.get(t[n],e));return i},t.prototype.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,i=0,n=e.length;i<n;i++)if(isNaN(this.get(e[i],t)))return!1;return!0},t.prototype.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],i=DL();if(!e)return i;var n,a=this.count(),r=!this._indices;if(r)return this._rawExtent[t].slice();if(n=this._extent[t],n)return n.slice();n=i;for(var o=n[0],s=n[1],l=0;l<a;l++){var u=this.getRawIndex(l),c=e[u];c<o&&(o=c),c>s&&(s=c)}return n=[o,s],this._extent[t]=n,n},t.prototype.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){EL(t)?nn(this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getSum=function(t){var e=this._storage[t],i=0;if(e)for(var n=0,a=this.count();n<a;n++){var r=this.get(t,n);isNaN(r)||(i+=r)}return i},t.prototype.getMedian=function(t){var e=[];this.each(t,(function(t){isNaN(t)||e.push(t)}));var i=e.sort((function(t,e){return t-e})),n=this.count();return 0===n?0:n%2===1?i[(n-1)/2]:(i[n/2]+i[n/2-1])/2},t.prototype.rawIndexOf=function(t,e){var i=t&&this._invertedIndicesMap[t];var n=i[e];return null==n||isNaN(n)?GL:n},t.prototype.indexOfName=function(t){for(var e=0,i=this.count();e<i;e++)if(this.getName(e)===t)return e;return-1},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;var n=0,a=this._count-1;while(n<=a){var r=(n+a)/2|0;if(e[r]<t)n=r+1;else{if(!(e[r]>t))return r;a=r-1}}return-1},t.prototype.indicesOfNearest=function(t,e,i){var n=this._storage,a=n[t],r=[];if(!a)return r;null==i&&(i=1/0);for(var o=1/0,s=-1,l=0,u=0,c=this.count();u<c;u++){var h=this.getRawIndex(u),p=e-a[h],d=Math.abs(p);d<=i&&((d<o||d===o&&p>=0&&s<0)&&(o=d,s=p,l=0),p===s&&(r[l++]=u))}return r.length=l,r},t.prototype.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],i=0;i<this.dimensions.length;i++){var n=this.dimensions[i];e.push(this.get(n,t))}return e},t.prototype.getName=function(t){var e=this.getRawIndex(t),i=this._nameList[e];return null==i&&null!=this._nameDimIdx&&(i=zL(this,this._nameDimIdx,this._nameOrdinalMeta,e)),null==i&&(i=""),i},t.prototype.getId=function(t){return IL(this,this.getRawIndex(t))},t.prototype.each=function(t,e,i,n){var a=this;if(this._count){"function"===typeof t&&(n=i,i=e,e=t,t=[]);var r=i||n||this,o=BL(PL(t),this.getDimension,this);0;for(var s=o.length,l=BL(o,(function(t){return a._dimensionInfos[t].index})),u=this._storageArr,c=0,h=this.count();c<h;c++){var p=this.getRawIndex(c);switch(s){case 0:e.call(r,c);break;case 1:e.call(r,u[l[0]][p],c);break;case 2:e.call(r,u[l[0]][p],u[l[1]][p],c);break;default:for(var d=0,f=[];d<s;d++)f[d]=u[l[d]][p];f[d]=c,e.apply(r,f)}}}},t.prototype.filterSelf=function(t,e,i,n){var a=this;if(this._count){"function"===typeof t&&(n=i,i=e,e=t,t=[]);var r=i||n||this,o=BL(PL(t),this.getDimension,this);0;for(var s=this.count(),l=wL(this),u=new l(s),c=[],h=o.length,p=0,d=BL(o,(function(t){return a._dimensionInfos[t].index})),f=d[0],g=this._storageArr,m=0;m<s;m++){var y=void 0,v=this.getRawIndex(m);if(0===h)y=e.call(r,m);else if(1===h){var _=g[f][v];y=e.call(r,_,m)}else{for(var x=0;x<h;x++)c[x]=g[d[x]][v];c[x]=m,y=e.apply(r,c)}y&&(u[p++]=v)}return p<s&&(this._indices=u),this._count=p,this._extent={},this.getRawIndex=this._indices?kL:TL,this}},t.prototype.selectRange=function(t){var e=this,i=this._count;if(i){var n=[];for(var a in t)t.hasOwnProperty(a)&&n.push(a);0;var r=n.length;if(r){var o=this.count(),s=wL(this),l=new s(o),u=0,c=n[0],h=BL(n,(function(t){return e._dimensionInfos[t].index})),p=t[c][0],d=t[c][1],f=this._storageArr,g=!1;if(!this._indices){var m=0;if(1===r){for(var y=f[h[0]],v=0;v<i;v++){var _=y[v];(_>=p&&_<=d||isNaN(_))&&(l[u++]=m),m++}g=!0}else if(2===r){y=f[h[0]];var x=f[h[1]],b=t[n[1]][0],S=t[n[1]][1];for(v=0;v<i;v++){_=y[v];var w=x[v];(_>=p&&_<=d||isNaN(_))&&(w>=b&&w<=S||isNaN(w))&&(l[u++]=m),m++}g=!0}}if(!g)if(1===r)for(v=0;v<o;v++){var C=this.getRawIndex(v);_=f[h[0]][C];(_>=p&&_<=d||isNaN(_))&&(l[u++]=C)}else for(v=0;v<o;v++){for(var T=!0,k=(C=this.getRawIndex(v),0);k<r;k++){var I=n[k];_=f[h[k]][C];(_<t[I][0]||_>t[I][1])&&(T=!1)}T&&(l[u++]=this.getRawIndex(v))}return u<o&&(this._indices=l),this._count=u,this._extent={},this.getRawIndex=this._indices?kL:TL,this}}},t.prototype.mapArray=function(t,e,i,n){"function"===typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this;var a=[];return this.each(t,(function(){a.push(e&&e.apply(this,arguments))}),i),a},t.prototype.map=function(t,e,i,n){var a=i||n||this,r=BL(PL(t),this.getDimension,this);var o=LL(this,r),s=o._storage;o._indices=this._indices,o.getRawIndex=o._indices?kL:TL;for(var l=[],u=r.length,c=this.count(),h=[],p=o._rawExtent,d=0;d<c;d++){for(var f=0;f<u;f++)h[f]=this.get(r[f],d);h[u]=d;var g=e&&e.apply(a,h);if(null!=g){"object"!==typeof g&&(l[0]=g,g=l);for(var m=this.getRawIndex(d),y=0;y<g.length;y++){var v=r[y],_=g[y],x=p[v],b=s[v];b&&(b[m]=_),_<x[0]&&(x[0]=_),_>x[1]&&(x[1]=_)}}}return o},t.prototype.downSample=function(t,e,i,n){for(var a=LL(this,[t]),r=a._storage,o=[],s=NL(1/e),l=r[t],u=this.count(),c=a._rawExtent[t],h=new(wL(this))(u),p=0,d=0;d<u;d+=s){s>u-d&&(s=u-d,o.length=s);for(var f=0;f<s;f++){var g=this.getRawIndex(d+f);o[f]=l[g]}var m=i(o),y=this.getRawIndex(Math.min(d+n(o,m)||0,u-1));l[y]=m,m<c[0]&&(c[0]=m),m>c[1]&&(c[1]=m),h[p++]=y}return a._count=p,a._indices=h,a.getRawIndex=kL,a},t.prototype.lttbDownSample=function(t,e){var i,n,a,r=LL(this,[]),o=r._storage,s=o[t],l=this.count(),u=new(wL(this))(l),c=0,h=NL(1/e),p=this.getRawIndex(0);u[c++]=p;for(var d=1;d<l-1;d+=h){for(var f=Math.min(d+h,l-1),g=Math.min(d+2*h,l),m=(g+f)/2,y=0,v=f;v<g;v++){var _=this.getRawIndex(v),x=s[_];isNaN(x)||(y+=x)}y/=g-f;var b=d,S=Math.min(d+h,l),w=d-1,C=s[p];i=-1,a=b;for(v=b;v<S;v++){_=this.getRawIndex(v),x=s[_];isNaN(x)||(n=Math.abs((w-m)*(x-C)-(w-v)*(y-C)),n>i&&(i=n,a=_))}u[c++]=a,p=a}return u[c++]=this.getRawIndex(l-1),r._count=c,r._indices=u,r.getRawIndex=kL,r},t.prototype.getItemModel=function(t){var e=this.hostModel,i=this.getRawDataItem(t);return new Gg(i,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new mL(t?t.getIndices():[],this.getIndices(),(function(e){return IL(t,e)}),(function(t){return IL(e,t)}))},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},EL(t)?nn(this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var i=this._itemVisuals[t],n=i&&i[e];return null==n?this.getVisual(e):n},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var i=this._itemVisuals,n=i[t];n||(n=i[t]={});var a=n[e];return null==a&&(a=this.getVisual(e),vn(a)?a=a.slice():EL(a)&&(a=nn({},a)),n[e]=a),a},t.prototype.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{};this._itemVisuals[t]=n,EL(e)?nn(n,e):n[e]=i},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){if(EL(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?nn(this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var i=this.hostModel;if(e){var n=Vh(e);n.dataIndex=t,n.dataType=this.dataType,n.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(RL,e)}this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){cn(this._graphicEls,(function(i,n){i&&t&&t.call(e,i,n)}))},t.prototype.cloneShallow=function(e){if(!e){var i=BL(this.dimensions,this.getDimensionInfo,this);e=new t(i,this.hostModel)}if(e._storage=this._storage,e._storageArr=this._storageArr,AL(e,this),this._indices){var n=this._indices.constructor;if(n===Array){var a=this._indices.length;e._indices=new n(a);for(var r=0;r<a;r++)e._indices[r]=this._indices[r]}else e._indices=new n(this._indices)}else e._indices=null;return e.getRawIndex=e._indices?kL:TL,e},t.prototype.wrapMethod=function(t,e){var i=this[t];"function"===typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(Rn(arguments)))})},t.internalField=function(){function e(t,e,i,n){return m_(t[n],this._dimensionInfos[e])}function i(t){var e=t.constructor;return e===Array?t.slice():new e(t)}bL={arrayRows:e,objectRows:function(t,e,i,n){return m_(t[e],this._dimensionInfos[e])},keyedColumns:e,original:function(t,e,i,n){var a=t&&(null==t.value?t:t.value);return!this._rawData.pure&&hl(t)&&(this.hasItemOption=!0),m_(a instanceof Array?a[n]:a,this._dimensionInfos[e])},typedArray:function(t,e,i,n){return t[n]}},SL=function(t){var e=t._invertedIndicesMap;cn(e,(function(i,n){var a=t._dimensionInfos[n],r=a.ordinalMeta;if(r){i=e[n]=new $L(r.categories.length);for(var o=0;o<i.length;o++)i[o]=GL;for(o=0;o<t._count;o++)i[t.get(n,o)]=o}}))},zL=function(t,e,i,n){var a,r=t._storageArr[e];return r&&(a=r[n],i&&i.categories.length&&(a=i.categories[a])),bl(a,null)},wL=function(t){return t._rawCount>65535?jL:UL},CL=function(t,e,i,n){var a=HL[e.type],r=e.name;if(n){var o=t[r],s=o&&o.length;if(s!==i){for(var l=new a(i),u=0;u<s;u++)l[u]=o[u];t[r]=l}}else t[r]=new a(i)},TL=function(t){return t},kL=function(t){return t<this._count&&t>=0?this._indices[t]:-1},IL=function(t,e){var i=t._idList[e];return null==i&&null!=t._idDimIdx&&(i=zL(t,t._idDimIdx,t._idOrdinalMeta,e)),null==i&&(i=WL+e),i},PL=function(t){return vn(t)||(t=null!=t?[t]:[]),t},function(t,e){for(var i=0;i<e.length;i++)t._dimensionInfos[e[i]]||console.error("Unkown dimension "+e[i])},LL=function(e,n){var a=e.dimensions,r=new t(BL(a,e.getDimensionInfo,e),e.hostModel);AL(r,e);for(var o=r._storage={},s=e._storage,l=r._storageArr=[],u=0;u<a.length;u++){var c=a[u];s[c]&&(on(n,c)>=0?(o[c]=i(s[c]),r._rawExtent[c]=DL(),r._extent[c]=null):o[c]=s[c],l.push(o[c]))}return r},DL=function(){return[1/0,-1/0]},RL=function(t){var e=Vh(t),i=Vh(this);e.seriesIndex=i.seriesIndex,e.dataIndex=i.dataIndex,e.dataType=i.dataType},AL=function(t,e){cn(qL.concat(e.__wrappedMethods||[]),(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t.__wrappedMethods=e.__wrappedMethods,cn(XL,(function(i){t[i]=tn(e[i])})),t._calculationInfo=nn({},e._calculationInfo)},ML=function(t,e){var i=t._nameList,n=t._idList,a=t._nameDimIdx,r=t._idDimIdx,o=i[e],s=n[e];if(null==o&&null!=a&&(i[e]=o=zL(t,a,t._nameOrdinalMeta,e)),null==s&&null!=r&&(n[e]=s=zL(t,r,t._idOrdinalMeta,e)),null==s&&null!=o){var l=t._nameRepeatCount,u=l[o]=(l[o]||0)+1;s=o,u>1&&(s+="__ec__"+u),n[e]=s}}}(),t}(),ZL=YL;function KL(t,e,i){Vv(e)||(e=Wv(e)),i=i||{},t=(t||[]).slice();for(var n=(i.dimsDef||[]).slice(),a=Gn(),r=Gn(),o=[],s=QL(e,t,n,i.dimCount),l=0;l<s;l++){var u=n[l],c=n[l]=nn({},wn(u)?u:{name:u}),h=c.name,p=o[l]=new FL;null!=h&&null==a.get(h)&&(p.name=p.displayName=h,a.set(h,l)),null!=c.type&&(p.type=c.type),null!=c.displayName&&(p.displayName=c.displayName)}var d=i.encodeDef;!d&&i.encodeDefaulter&&(d=i.encodeDefaulter(e,s));var f=Gn(d);f.each((function(t,e){var i=sl(t).slice();if(1===i.length&&!xn(i[0])&&i[0]<0)f.set(e,!1);else{var n=f.set(e,[]);cn(i,(function(t,i){var r=xn(t)?a.get(t):t;null!=r&&r<s&&(n[i]=r,m(o[r],e,i))}))}}));var g=0;function m(t,e,i){null!=dy.get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,r.set(e,!0))}cn(t,(function(t){var e,i,n,a;if(xn(t))e=t,a={};else{a=t,e=a.name;var r=a.ordinalMeta;a.ordinalMeta=null,a=tn(a),a.ordinalMeta=r,i=a.dimsDef,n=a.otherDims,a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null}var s=f.get(e);if(!1!==s){if(s=sl(s),!s.length)for(var l=0;l<(i&&i.length||1);l++){while(g<o.length&&null!=o[g].coordDim)g++;g<o.length&&s.push(g++)}cn(s,(function(t,r){var s=o[t];if(m(an(s,a),e,r),null==s.name&&i){var l=i[r];!wn(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}n&&an(s.otherDims,n)}))}}));var y=i.generateCoord,v=i.generateCoordCount,_=null!=v;v=y?v||1:0;for(var x=y||"value",b=0;b<s;b++){p=o[b]=o[b]||new FL;var S=p.coordDim;null==S&&(p.coordDim=JL(x,r,_),p.coordDimIndex=0,(!y||v<=0)&&(p.isExtraCoord=!0),v--),null==p.name&&(p.name=JL(p.coordDim,a,!1)),null!=p.type||zy(e,b)!==Sy.Must&&(!p.isExtraCoord||null==p.otherDims.itemName&&null==p.otherDims.seriesName)||(p.type="ordinal")}return o}function QL(t,e,i,n){var a=Math.max(t.dimensionsDetectedCount||1,e.length,i.length,n||0);return cn(e,(function(t){var e;wn(t)&&(e=t.dimsDef)&&(a=Math.max(a,e.length))})),a}function JL(t,e,i){if(i||null!=e.get(t)){var n=0;while(null!=e.get(t+n))n++;t+=n}return e.set(t,!0),t}var tD=KL;function eD(t,e){return e=e||{},tD(e.coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}var iD=function(){function t(t){this.coordSysDims=[],this.axisMap=Gn(),this.categoryAxisMap=Gn(),this.coordSysName=t}return t}();function nD(t){var e=t.get("coordinateSystem"),i=new iD(e),n=aD[e];if(n)return n(t,i,i.axisMap,i.categoryAxisMap),i}var aD={cartesian2d:function(t,e,i,n){var a=t.getReferringComponents("xAxis",Ll).models[0],r=t.getReferringComponents("yAxis",Ll).models[0];e.coordSysDims=["x","y"],i.set("x",a),i.set("y",r),rD(a)&&(n.set("x",a),e.firstCategoryDimIndex=0),rD(r)&&(n.set("y",r),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,i,n){var a=t.getReferringComponents("singleAxis",Ll).models[0];e.coordSysDims=["single"],i.set("single",a),rD(a)&&(n.set("single",a),e.firstCategoryDimIndex=0)},polar:function(t,e,i,n){var a=t.getReferringComponents("polar",Ll).models[0],r=a.findAxisModel("radiusAxis"),o=a.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],i.set("radius",r),i.set("angle",o),rD(r)&&(n.set("radius",r),e.firstCategoryDimIndex=0),rD(o)&&(n.set("angle",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,i,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,i,n){var a=t.ecModel,r=a.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=r.dimensions.slice();cn(r.parallelAxisIndex,(function(t,r){var s=a.getComponent("parallelAxis",t),l=o[r];i.set(l,s),rD(s)&&(n.set(l,s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=r))}))}};function rD(t){return"category"===t.get("type")}function oD(t,e,i){i=i||{},Vv(t)||(t=Wv(t));var n,a=e.get("coordinateSystem"),r=tv.get(a),o=nD(e);o&&o.coordSysDims&&(n=hn(o.coordSysDims,(function(t){var e={name:t},i=o.axisMap.get(t);if(i){var n=i.get("type");e.type=_L(n)}return e}))),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]);var s,l,u=i.useEncodeDefaulter,c=eD(t,{coordDimensions:n,generateCoord:i.generateCoord,encodeDefaulter:_n(u)?u:u?yn(Ty,n,e):null});o&&cn(c,(function(t,e){var n=t.coordDim,a=o.categoryAxisMap.get(n);a&&(null==s&&(s=e),t.ordinalMeta=a.getOrdinalMeta(),i.createInvertedIndices&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(l=!0)})),l||null==s||(c[s].otherDims.itemName=0);var h=Fk(e,c),p=new ZL(c,e);p.setCalculationInfo(h);var d=null!=s&&sD(t)?function(t,e,i,n){return n===s?i:this.defaultDimValueGetter(t,e,i,n)}:null;return p.hasItemOption=!1,p.initData(t,null,d),p}function sD(t){if(t.sourceFormat===fy){var e=lD(t.data||[]);return null!=e&&!vn(cl(e))}}function lD(t){var e=0;while(e<t.length&&null==t[e])e++;return t[e]}var uD=oD,cD=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Ri(e,t),e.prototype.getInitialData=function(t,e){return uD(this.getSource(),this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(e.clampData(t)),n=this.getData(),a=n.getLayout("offset"),r=n.getLayout("size"),o=e.getBaseAxis().isHorizontal()?0:1;return i[o]+=a+r/2,i}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(cx);cx.registerClass(cD);var hD=cD,pD=function(t){function e(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=e.type,i}return Ri(e,t),e.prototype.getInitialData=function(){return uD(this.getSource(),this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,i){return i.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Ug(hD.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(hD),dD=pD;function fD(t,e,i,n,a){var r=t.getArea(),o=r.x,s=r.y,l=r.width,u=r.height,c=i.get(["lineStyle","width"])||2;o-=c/2,s-=c/2,l+=c,u+=c,o=Math.floor(o),l=Math.round(l);var h=new Th({shape:{x:o,y:s,width:l,height:u}});if(e){var p=t.getBaseAxis(),d=p.isHorizontal(),f=p.inverse;d?(f&&(h.shape.x+=l),h.shape.width=0):(f||(h.shape.y+=u),h.shape.height=0);var g="function"===typeof a?function(t){a(t,h)}:null;Xf(h,{shape:{width:l,height:u,x:o,y:s}},i,null,n,g)}return h}function gD(t,e,i){var n=t.getArea(),a=js(n.r0,1),r=js(n.r,1),o=new Vd({shape:{cx:js(t.cx,1),cy:js(t.cy,1),r0:a,r:r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(e){var s="angle"===t.getBaseAxis().dim;s?o.shape.endAngle=n.startAngle:o.shape.r=a,Xf(o,{shape:{endAngle:n.endAngle,r:r}},i)}return o}function mD(t,e,i,n,a){return t?"polar"===t.type?gD(t,e,i):"cartesian2d"===t.type?fD(t,e,i,n,a):null:null}var yD=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}return t}(),vD=function(t){function e(e){var i=t.call(this,e)||this;return i.type="sausage",i}return Ri(e,t),e.prototype.getDefaultShape=function(){return new yD},e.prototype.buildPath=function(t,e){var i=e.cx,n=e.cy,a=Math.max(e.r0||0,0),r=Math.max(e.r,0),o=.5*(r-a),s=a+o,l=e.startAngle,u=e.endAngle,c=e.clockwise,h=Math.cos(l),p=Math.sin(l),d=Math.cos(u),f=Math.sin(u),g=c?u-l<2*Math.PI:l-u<2*Math.PI;g&&(t.moveTo(h*a+i,p*a+n),t.arc(h*s+i,p*s+n,o,-Math.PI+l,l,!c)),t.arc(i,n,r,l,u,!c),t.moveTo(d*r+i,f*r+n),t.arc(d*s+i,f*s+n,o,u-2*Math.PI,u-Math.PI,!c),0!==a&&(t.arc(i,n,a,u,l,c),t.moveTo(h*a+i,f*a+n)),t.closePath()},e}(lh),_D=vD;function xD(t,e){return t.type===e}function bD(t,e){var i=t.mapDimensionsAll("defaultedLabel"),n=i.length;if(1===n){var a=s_(t,e,i[0]);return null!=a?a+"":null}if(n){for(var r=[],o=0;o<i.length;o++)r.push(s_(t,e,i[o]));return r.join(" ")}}function SD(t,e){var i=t.mapDimensionsAll("defaultedLabel");if(!vn(e))return e+"";for(var n=[],a=0;a<i.length;a++){var r=t.getDimensionInfo(i[a]);r&&n.push(e[r.index])}return n.join(" ")}var wD=[0,0],CD=Math.max,TD=Math.min;function kD(t,e){var i=t.getArea&&t.getArea();if(xD(t,"cartesian2d")){var n=t.getBaseAxis();if("category"!==n.type||!n.onBand){var a=e.getLayout("bandWidth");n.isHorizontal()?(i.x-=a,i.width+=2*a):(i.y-=a,i.height+=2*a)}}return i}var ID=function(t){function e(){var i=t.call(this)||this;return i.type=e.type,i._isFirstFrame=!0,i}return Ri(e,t),e.prototype.render=function(t,e,i,n){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var a=t.get("coordinateSystem");("cartesian2d"===a||"polar"===a)&&(this._isLargeDraw?this._renderLarge(t,e,i):this._renderNormal(t,e,i,n))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._incrementalRenderLarge(t,e)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,i,n){var a,r=this.group,o=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis();"cartesian2d"===l.type?a=u.isHorizontal():"polar"===l.type&&(a="angle"===u.dim);var c=t.isAnimationEnabled()?t:null,h=PD(t,l);h&&this._enableRealtimeSort(h,o,i);var p=t.get("clip",!0)||h,d=kD(l,o);r.removeClipPath();var f=t.get("roundCap",!0),g=t.get("showBackground",!0),m=t.getModel("backgroundStyle"),y=m.get("borderRadius")||0,v=[],_=this._backgroundEls,x=n&&n.isInitSort,b=n&&"changeAxisOrder"===n.type;function S(t){var e=DD[l.type](o,t),i=jD(l,a,e);return i.useStyle(m.getItemStyle()),"cartesian2d"===l.type&&i.setShape("r",y),v[t]=i,i}o.diff(s).add((function(e){var i=o.getItemModel(e),n=DD[l.type](o,e,i);if(g&&S(e),o.hasValue(e)){var s=!1;p&&(s=zD[l.type](d,n));var m=MD[l.type](t,o,e,n,a,c,u.model,!1,f);AD(m,o,e,i,n,t,a,"polar"===l.type),x?m.attr({shape:n}):h?LD(h,c,m,n,e,a,!1,!1):Xf(m,{shape:n},t,e),o.setItemGraphicEl(e,m),r.add(m),m.ignore=s}})).update((function(e,i){var n=o.getItemModel(e),w=DD[l.type](o,e,n);if(g){var C=void 0;0===_.length?C=S(i):(C=_[i],C.useStyle(m.getItemStyle()),"cartesian2d"===l.type&&C.setShape("r",y),v[e]=C);var T=DD[l.type](o,e),k=HD(a,T,l);qf(C,{shape:k},c,e)}var I=s.getItemGraphicEl(i);if(!o.hasValue(e))return r.remove(I),void(I=null);var z=!1;p&&(z=zD[l.type](d,w),z&&r.remove(I)),I||(I=MD[l.type](t,o,e,w,a,c,u.model,!!I,f)),b||AD(I,o,e,n,w,t,a,"polar"===l.type),x?I.attr({shape:w}):h?LD(h,c,I,w,e,a,!0,b):qf(I,{shape:w},t,e,null),o.setItemGraphicEl(e,I),I.ignore=z,r.add(I)})).remove((function(e){var i=s.getItemGraphicEl(e);i&&Kf(i,t,e)})).execute();var w=this._backgroundGroup||(this._backgroundGroup=new Ls);w.removeAll();for(var C=0;C<v.length;++C)w.add(v[C]);r.add(w),this._backgroundEls=v,this._data=o},e.prototype._renderLarge=function(t,e,i){this._clear(),ED(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),ED(e,this.group,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)?mD(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,i){var n=this;if(e.count()){var a=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,i),this._isFirstFrame=!1;else{var r=function(t){var i=e.getItemGraphicEl(t);if(i){var n=i.shape;return(a.isHorizontal()?Math.abs(n.height):Math.abs(n.width))||0}return 0};this._onRendered=function(){n._updateSortWithinSameData(e,r,a,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,i){var n=[];return t.each(t.mapDimension(e.dim),(function(t,e){var a=i(e);a=null==a?NaN:a,n.push({dataIndex:e,mappedValue:a,ordinalNumber:t})})),n.sort((function(t,e){return e.mappedValue-t.mappedValue})),{ordinalNumbers:hn(n,(function(t){return t.ordinalNumber}))}},e.prototype._isOrderChangedWithinSameData=function(t,e,i){for(var n=i.scale,a=t.mapDimension(i.dim),r=Number.MAX_VALUE,o=0,s=n.getOrdinalMeta().categories.length;o<s;++o){var l=t.rawIndexOf(a,n.getRawOrdinalNumber(o)),u=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(u>r)return!0;r=u}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var i=e.scale,n=i.getExtent(),a=Math.max(0,n[0]),r=Math.min(n[1],i.getOrdinalMeta().categories.length-1);a<=r;++a)if(t.ordinalNumbers[a]!==i.getRawOrdinalNumber(a))return!0},e.prototype._updateSortWithinSameData=function(t,e,i,n){if(this._isOrderChangedWithinSameData(t,e,i)){var a=this._dataSort(t,i,e);this._isOrderDifferentInView(a,i)&&(this._removeOnRenderedListener(n),n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:a}))}},e.prototype._dispatchInitSort=function(t,e,i){var n=e.baseAxis,a=this._dataSort(t,n,(function(i){return t.get(t.mapDimension(e.otherAxis.dim),i)}));i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",isInitSort:!0,axisId:n.index,sortInfo:a,animation:{duration:0}})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl((function(e){Kf(e,t,Vh(e).dataIndex)}))):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Sx),zD={cartesian2d:function(t,e){var i=e.width<0?-1:1,n=e.height<0?-1:1;i<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var a=t.x+t.width,r=t.y+t.height,o=CD(e.x,t.x),s=TD(e.x+e.width,a),l=CD(e.y,t.y),u=TD(e.y+e.height,r),c=s<o,h=u<l;return e.x=c&&o>a?s:o,e.y=h&&l>r?u:l,e.width=c?0:s-o,e.height=h?0:u-l,i<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(t,e){var i=e.r0<=e.r?1:-1;if(i<0){var n=e.r;e.r=e.r0,e.r0=n}var a=TD(e.r,t.r),r=CD(e.r0,t.r0);e.r=a,e.r0=r;var o=a-r<0;if(i<0){n=e.r;e.r=e.r0,e.r0=n}return o}},MD={cartesian2d:function(t,e,i,n,a,r,o,s,l){var u=new Th({shape:nn({},n),z2:1});if(u.__dataIndex=i,u.name="item",r){var c=u.shape,h=a?"height":"width";c[h]=0}return u},polar:function(t,e,i,n,a,r,o,s,l){var u=n.startAngle<n.endAngle,c=!a&&l?_D:Vd,h=new c({shape:an({clockwise:u},n),z2:1});if(h.name="item",r){var p=h.shape,d=a?"r":"endAngle",f={};p[d]=a?0:n.startAngle,f[d]=n[d],(s?qf:Xf)(h,{shape:f},r)}return h}};function PD(t,e){var i=t.get("realtimeSort",!0),n=e.getBaseAxis();if(i&&"category"===n.type&&"cartesian2d"===e.type)return{baseAxis:n,otherAxis:e.getOtherAxis(n)}}function LD(t,e,i,n,a,r,o,s){var l,u;r?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(o?qf:Xf)(i,{shape:l},e,a,null);var c=e?t.baseAxis.model:null;(o?qf:Xf)(i,{shape:u},c,a)}var DD={cartesian2d:function(t,e,i){var n=t.getItemLayout(e),a=i?OD(i,n):0,r=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+r*a/2,y:n.y+o*a/2,width:n.width-r*a,height:n.height-o*a}},polar:function(t,e,i){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}};function RD(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function AD(t,e,i,n,a,r,o,s){var l=e.getItemVisual(i,"style");s||t.setShape("r",n.get(["itemStyle","borderRadius"])||0),t.useStyle(l);var u=n.getShallow("cursor");if(u&&t.attr("cursor",u),!s){var c=o?a.height>0?"bottom":"top":a.width>0?"left":"right",h=yg(n);mg(t,h,{labelFetcher:r,labelDataIndex:i,defaultText:bD(r.getData(),i),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:c});var p=t.getTextContent();zg(p,h,r.getRawValue(i),(function(t){return SD(e,t)}))}var d=n.getModel(["emphasis"]);Bp(t,d.get("focus"),d.get("blurScope")),Hp(t,n),RD(a)&&(t.style.fill="none",t.style.stroke="none",cn(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke="none")})))}function OD(t,e){var i=t.get(["itemStyle","borderColor"]);if(!i||"none"===i)return 0;var n=t.get(["itemStyle","borderWidth"])||0,a=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),r=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,a,r)}var FD=function(){function t(){}return t}(),ND=function(t){function e(e){var i=t.call(this,e)||this;return i.type="largeBar",i}return Ri(e,t),e.prototype.getDefaultShape=function(){return new FD},e.prototype.buildPath=function(t,e){for(var i=e.points,n=this.__startPoint,a=this.__baseDimIdx,r=0;r<i.length;r+=2)n[a]=i[r+a],t.moveTo(n[0],n[1]),t.lineTo(i[r],i[r+1])},e}(lh);function ED(t,e,i){var n=t.getData(),a=[],r=n.getLayout("valueAxisHorizontal")?1:0;a[1-r]=n.getLayout("valueAxisStart");var o=n.getLayout("largeDataIndices"),s=n.getLayout("barWidth"),l=t.getModel("backgroundStyle"),u=t.get("showBackground",!0);if(u){var c=n.getLayout("largeBackgroundPoints"),h=[];h[1-r]=n.getLayout("backgroundStart");var p=new ND({shape:{points:c},incremental:!!i,silent:!0,z2:0});p.__startPoint=h,p.__baseDimIdx=r,p.__largeDataIndices=o,p.__barWidth=s,WD(p,l,n),e.add(p)}var d=new ND({shape:{points:n.getLayout("largePoints")},incremental:!!i});d.__startPoint=a,d.__baseDimIdx=r,d.__largeDataIndices=o,d.__barWidth=s,e.add(d),GD(d,t,n),Vh(d).seriesIndex=t.seriesIndex,t.get("silent")||(d.on("mousedown",BD),d.on("mousemove",BD))}var BD=Ix((function(t){var e=this,i=VD(e,t.offsetX,t.offsetY);Vh(e).dataIndex=i>=0?i:null}),30,!1);function VD(t,e,i){var n=t.__baseDimIdx,a=1-n,r=t.shape.points,o=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[a];wD[0]=e,wD[1]=i;for(var u=wD[n],c=wD[1-n],h=u-s,p=u+s,d=0,f=r.length/2;d<f;d++){var g=2*d,m=r[g+n],y=r[g+a];if(m>=h&&m<=p&&(l<=y?c>=l&&c<=y:c>=y&&c<=l))return o[d]}return-1}function GD(t,e,i){var n=i.getVisual("style");t.useStyle(nn({},n)),t.style.fill=null,t.style.stroke=n.fill,t.style.lineWidth=i.getLayout("barWidth")}function WD(t,e,i){var n=e.get("borderColor")||e.get("color"),a=e.getItemStyle();t.useStyle(a),t.style.fill=null,t.style.stroke=n,t.style.lineWidth=i.getLayout("barWidth")}function HD(t,e,i){if(xD(i,"cartesian2d")){var n=e,a=i.getArea();return{x:t?n.x:a.x,y:t?a.y:n.y,width:t?n.width:a.width,height:t?a.height:n.height}}a=i.getArea();var r=e;return{cx:a.cx,cy:a.cy,r0:t?a.r0:r.r0,r:t?a.r:r.r,startAngle:t?r.startAngle:0,endAngle:t?r.endAngle:2*Math.PI}}function jD(t,e,i){var n="polar"===t.type?Vd:Th;return new n({shape:HD(e,i,t),silent:!0,z2:0})}var $D=ID;function UD(t){t.registerChartView($D),t.registerSeriesModel(dD),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,yn(Yk,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Zk),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,pL("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,e){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},(function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)}))}))}function qD(){return!1}function XD(t,e,i){var n=rn(),a=e.getWidth(),r=e.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=a+"px",o.height=r+"px",n.setAttribute("data-zr-dom-id",t)),n.width=a*i,n.height=r*i,n}var YD=function(t){function e(e,i,n){var a,r=t.call(this)||this;r.motionBlur=!1,r.lastFrameAlpha=.7,r.dpr=1,r.virtual=!1,r.config={},r.incremental=!1,r.zlevel=0,r.maxRepaintRectCount=5,r.__dirty=!0,r.__firstTimePaint=!0,r.__used=!1,r.__drawIndex=0,r.__startIndex=0,r.__endIndex=0,r.__prevStartIndex=null,r.__prevEndIndex=null,n=n||zo,"string"===typeof e?a=XD(e,i,n):wn(e)&&(a=e,e=a.id),r.id=e,r.dom=a;var o=a.style;return o&&(a.onselectstart=qD,o.webkitUserSelect="none",o.userSelect="none",o.webkitTapHighlightColor="rgba(0,0,0,0)",o["-webkit-touch-callout"]="none",o.padding="0",o.margin="0",o.borderWidth="0"),r.domBack=null,r.ctxBack=null,r.painter=i,r.config=null,r.dpr=n,r}return Ri(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=XD("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,i,n){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a,r=[],o=this.maxRepaintRectCount,s=!1,l=new fo(0,0,0,0);function u(t){if(t.isFinite()&&!t.isZero())if(0===r.length){var e=new fo(0,0,0,0);e.copy(t),r.push(e)}else{for(var i=!1,n=1/0,a=0,u=0;u<r.length;++u){var c=r[u];if(c.intersect(t)){var h=new fo(0,0,0,0);h.copy(c),h.union(t),r[u]=h,i=!0;break}if(s){l.copy(t),l.union(c);var p=t.width*t.height,d=c.width*c.height,f=l.width*l.height,g=f-p-d;g<n&&(n=g,a=u)}}if(s&&(r[a].union(t),i=!0),!i){e=new fo(0,0,0,0);e.copy(t),r.push(e)}s||(s=r.length>=o)}}for(var c=this.__startIndex;c<this.__endIndex;++c){var h=t[c];if(h){var p=h.shouldBePainted(i,n,!0,!0),d=h.__isRendered&&(h.__dirty&jo.REDARAW_BIT||!p)?h.getPrevPaintRect():null;d&&u(d);var f=p&&(h.__dirty&jo.REDARAW_BIT||!h.__isRendered)?h.getPaintRect():null;f&&u(f)}}for(c=this.__prevStartIndex;c<this.__prevEndIndex;++c){h=e[c],p=h.shouldBePainted(i,n,!0,!0);if(h&&(!p||!h.__zr)&&h.__isRendered){d=h.getPrevPaintRect();d&&u(d)}}do{a=!1;for(c=0;c<r.length;)if(r[c].isZero())r.splice(c,1);else{for(var g=c+1;g<r.length;)r[c].intersect(r[g])?(a=!0,r[c].union(r[g]),r.splice(g,1)):g++;c++}}while(a);return this._paintRects=r,r},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var i=this.dpr,n=this.dom,a=n.style,r=this.domBack;a&&(a.width=t+"px",a.height=e+"px"),n.width=t*i,n.height=e*i,r&&(r.width=t*i,r.height=e*i,1!==i&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,e,i){var n=this.dom,a=this.ctx,r=n.width,o=n.height;e=e||this.clearColor;var s=this.motionBlur&&!t,l=this.lastFrameAlpha,u=this.dpr,c=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,r/u,o/u));var h=this.domBack;function p(t,i,n,r){if(a.clearRect(t,i,n,r),e&&"transparent"!==e){var o=void 0;In(e)?(o=e.__canvasGradient||yS(a,e,{x:0,y:0,width:n,height:r}),e.__canvasGradient=o):zn(e)&&(o=TS(a,e,{dirty:function(){c.setUnpainted(),c.__painter.refresh()}})),a.save(),a.fillStyle=o||e,a.fillRect(t,i,n,r),a.restore()}s&&(a.save(),a.globalAlpha=l,a.drawImage(h,t,i,n,r),a.restore())}!i||s?p(0,0,r,o):i.length&&cn(i,(function(t){p(t.x*u,t.y*u,t.width*u,t.height*u)}))},e}(ha),ZD=YD,KD=1e5,QD=314159,JD=.01,tR=.001;function eR(t){return parseInt(t,10)}function iR(t){return!!t&&(!!t.__builtin__||"function"===typeof t.resize&&"function"===typeof t.refresh)}function nR(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}var aR=function(){function t(t,e,i,n){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=nn({},i||{}),this.dpr=i.devicePixelRatio||zo,this._singleCanvas=a,this.root=t;var r=t.style;r&&(r.webkitTapHighlightColor="transparent",r.webkitUserSelect="none",r.userSelect="none",r["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(a){var l=t,u=l.width,c=l.height;null!=i.width&&(u=i.width),null!=i.height&&(c=i.height),this.dpr=i.devicePixelRatio||1,l.width=u*this.dpr,l.height=c*this.dpr,this._width=u,this._height=c;var h=new ZD(l,this,this.dpr);h.__builtin__=!0,h.initContext(),s[QD]=h,h.zlevel=QD,o.push(QD),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var p=this._domRoot=nR(this._width,this._height);t.appendChild(p)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),i=this._prevDisplayList,n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,i,t,this._redrawId);for(var a=0;a<n.length;a++){var r=n[a],o=this._layers[r];if(!o.__builtin__&&o.refresh){var s=0===a?this._backgroundColor:null;o.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){for(var n,a={inHover:!0,viewWidth:this._width,viewHeight:this._height},r=0;r<e;r++){var o=t[r];o.__inHover&&(i||(i=this._hoverlayer=this.getLayer(KD)),n||(n=i.ctx,n.save()),$S(n,o,a,r===e-1))}n&&n.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(KD)},t.prototype.paintOne=function(t,e){jS(t,e)},t.prototype._paintList=function(t,e,i,n){if(this._redrawId===n){i=i||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e,i),r=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(t),r)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var s=this;ss((function(){s._paintList(t,e,i,n)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(QD).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer((function(n){n.virtual&&t.drawImage(n.dom,0,0,e,i)}))},t.prototype._doPaintList=function(t,e,i){for(var n=this,a=[],r=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var s=this._zlevelList[o],l=this._layers[s];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||i)&&a.push(l)}for(var u=!0,c=!1,h=function(o){var s=a[o],l=s.ctx,h=r&&s.createRepaintRects(t,e,p._width,p._height);l.save();var d,f=i?s.__startIndex:s.__drawIndex,g=!i&&s.incremental&&Date.now,m=g&&Date.now(),y=s.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,y,h);else if(f===s.__startIndex){var v=t[f];v.incremental&&v.notClear&&!i||s.clear(!1,y,h)}-1===f&&(console.error("For some unknown reason. drawIndex is -1"),f=s.__startIndex);var _=function(e){var i={inHover:!1,allClipped:!1,prevEl:null,viewWidth:n._width,viewHeight:n._height};for(d=f;d<s.__endIndex;d++){var a=t[d];if(a.__inHover&&(c=!0),n._doPaintEl(a,s,r,e,i,d===s.__endIndex-1),g){var o=Date.now()-m;if(o>15)break}}i.prevElClipPaths&&l.restore()};if(h)if(0===h.length)d=s.__endIndex;else for(var x=p.dpr,b=0;b<h.length;++b){var S=h[b];l.save(),l.beginPath(),l.rect(S.x*x,S.y*x,S.width*x,S.height*x),l.clip(),_(S),l.restore()}else l.save(),_(),l.restore();s.__drawIndex=d,s.__drawIndex<s.__endIndex&&(u=!1)},p=this,d=0;d<a.length;d++)h(d);return Bi.wxa&&cn(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:u,needsRefreshHover:c}},t.prototype._doPaintEl=function(t,e,i,n,a,r){var o=e.ctx;if(i){var s=t.getPaintRect();(!n||s&&s.intersect(n))&&($S(o,t,a,r),t.setPrevPaintRect(s))}else $S(o,t,a,r)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=QD);var i=this._layers[t];return i||(i=new ZD("zr_"+t,this,this.dpr),i.zlevel=t,i.__builtin__=!0,this._layerConfig[t]?en(i,this._layerConfig[t],!0):this._layerConfig[t-JD]&&en(i,this._layerConfig[t-JD],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},t.prototype.insertLayer=function(t,e){var i=this._layers,n=this._zlevelList,a=n.length,r=this._domRoot,o=null,s=-1;if(i[t])Ji("ZLevel "+t+" has been used already");else if(iR(e)){if(a>0&&t>n[0]){for(s=0;s<a-1;s++)if(n[s]<t&&n[s+1]>t)break;o=i[n[s]]}if(n.splice(s+1,0,t),i[t]=e,!e.virtual)if(o){var l=o.dom;l.nextSibling?r.insertBefore(e.dom,l.nextSibling):r.appendChild(e.dom)}else r.firstChild?r.insertBefore(e.dom,r.firstChild):r.appendChild(e.dom);e.__painter=this}else Ji("Layer of zlevel "+t+" is not valid")},t.prototype.eachLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var a=i[n];t.call(e,this._layers[a],a)}},t.prototype.eachBuiltinLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var a=i[n],r=this._layers[a];r.__builtin__&&t.call(e,r,a)}},t.prototype.eachOtherLayer=function(t,e){for(var i=this._zlevelList,n=0;n<i.length;n++){var a=i[n],r=this._layers[a];r.__builtin__||t.call(e,r,a)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var i=1;i<t.length;i++){var n=t[i];if(n.zlevel!==t[i-1].zlevel||n.incremental){this._needsManuallyCompositing=!0;break}}var a,r,o=null,s=0;for(r=0;r<t.length;r++){n=t[r];var l=n.zlevel,u=void 0;a!==l&&(a=l,s=0),n.incremental?(u=this.getLayer(l+tR,this._needsManuallyCompositing),u.incremental=!0,s=1):u=this.getLayer(l+(s>0?JD:0),this._needsManuallyCompositing),u.__builtin__||Ji("ZLevel "+l+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==r&&(u.__dirty=!0),u.__startIndex=r,u.incremental?u.__drawIndex=-1:u.__drawIndex=r,e(r),o=u),n.__dirty&jo.REDARAW_BIT&&!n.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=r))}e(r),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,cn(this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var i=this._layerConfig;i[t]?en(i[t],e,!0):i[t]=e;for(var n=0;n<this._zlevelList.length;n++){var a=this._zlevelList[n];if(a===t||a===t+JD){var r=this._layers[a];en(r,i[t],!0)}}}},t.prototype.delLayer=function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(on(i,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||e!==this._height){for(var a in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(QD).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[QD].dom;var e=new ZD("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var i=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,a=e.dom.height;this.eachLayer((function(t){t.__builtin__?i.drawImage(t.dom,0,0,n,a):t.renderToCanvas&&(i.save(),t.renderToCanvas(i),i.restore())}))}else for(var r={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),s=0,l=o.length;s<l;s++){var u=o[s];$S(i,u,r,s===l-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[n]||eR(s[i])||eR(o.style[i]))-(eR(s[a])||0)-(eR(s[r])||0)|0},t.prototype.pathToImage=function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),n=i.getContext("2d"),a=t.getBoundingRect(),r=t.style,o=r.shadowBlur*e,s=r.shadowOffsetX*e,l=r.shadowOffsetY*e,u=t.hasStroke()?r.lineWidth:0,c=Math.max(u/2,-s+o),h=Math.max(u/2,s+o),p=Math.max(u/2,-l+o),d=Math.max(u/2,l+o),f=a.width+c+h,g=a.height+p+d;i.width=f*e,i.height=g*e,n.scale(e,e),n.clearRect(0,0,f,g),n.dpr=e;var m={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=c-a.x,t.y=p-a.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&$S(n,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var y=new mh({style:{x:0,y:0,image:i}});return nn(t,m),y},t}(),rR=aR;function oR(t){t.registerPainter("canvas",rR)}var sR={data:function(){return{activeGameResultModuleTabName:"gameRecord",echartDrawed:!1,myChart:null,selectedLegend:"",loading:!0}},computed:{customDialogWidth:function(){var t=this.largeDialogWidth.split("%")[0],e=parseInt(t);return e<80?"80%":this.largeDialogWidth},gamePlayerList:function(){var t=[];return this.gameResult.gameResultList.forEach((function(e){t.push(e)})),t.sort((function(t,e){return e.seatIndex-t.seatIndex})),t}},watch:{gameResult:function(t){null!==t&&(this.echartDrawed=!1,this.selectedLegend="",this.loading=!1)},gameResultDialogVisible:function(t){t||(this.activeGameResultModuleTabName="gameRecord",null!==this.myChart&&(this.myChart.clear(),this.myChart.dispose(),this.selectedLegend="",window.removeEventListener("resize",this.echartResizeLogic)))}},props:{gameResult:{type:Object,default:null},gameResultDialogVisible:{type:Boolean,default:!1},avatarSize:{type:Number,default:20},fontSize:{type:String,default:"14px"},largeFontSize:{type:String,default:"16px"},tagSize:{type:String,default:"medium"},popupWidth:{type:Number,default:160},buttonSize:{type:String,default:"medium"},dialogWidth:{type:String,default:"50%"},largeDialogWidth:{type:String,default:"50%"}},methods:{getAvatarUrl:function(t){return i("f672")("./avatar_"+t+"-min.png")},tableRowClassName:function(t){var e=t.row;if(e.id===this.$store.state.id)return"is-local-player-row"},closeGameResultDialog:function(){this.$emit("gameResultDialogVisible",!1),this.selectedLegend="",window.removeEventListener("resize",this.echartResizeLogic)},echartResizeLogic:function(){this.myChart.resize()},changeEchartSelected:function(t){var e=null;this.selectedLegend=t,""===t?e={"总收牌":!0,"最大连击":!0,"使用悟空":!0,"使用八戒":!0,"使用沙僧":!0,"使用唐僧":!0,"使用反弹":!0,"使用变身":!0}:"all"===t?e={"总收牌":!0,"最大连击":!1,"使用悟空":!1,"使用八戒":!1,"使用沙僧":!1,"使用唐僧":!1,"使用反弹":!1,"使用变身":!1}:"max"===t?e={"总收牌":!1,"最大连击":!0,"使用悟空":!1,"使用八戒":!1,"使用沙僧":!1,"使用唐僧":!1,"使用反弹":!1,"使用变身":!1}:"func"===t&&(e={"总收牌":!1,"最大连击":!1,"使用悟空":!0,"使用八戒":!0,"使用沙僧":!0,"使用唐僧":!0,"使用反弹":!0,"使用变身":!0}),this.myChart.setOption({legend:{selected:e}})},handleGameResultModuleTabClick:function(t){if("visualData"===t.name&&!1===this.echartDrawed){this.echartDrawed=!0,jT([qT,IM,RP,uL,UD,oR]);var e=document.getElementById("main");this.myChart=kT(e),window.addEventListener("resize",this.echartResizeLogic,!1);var i,n={show:!0,fontWeight:"bold",fontSize:parseInt(this.largeFontSize.split("px")[0])};i={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},color:["#F56C6C","#E6A23C","#91cc75","#5470c6","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],legend:{data:["总收牌","最大连击","使用悟空","使用八戒","使用沙僧","使用唐僧","使用反弹","使用变身"],x:"left"},grid:{left:"0%",right:"3%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",data:this.gamePlayerList.map((function(t){return t.nickname}))},series:[{name:"总收牌",type:"bar",data:this.gamePlayerList.map((function(t){return t.cards})),label:n},{name:"最大连击",type:"bar",data:this.gamePlayerList.map((function(t){return t.maxCombo})),label:n},{name:"使用悟空",type:"bar",data:this.gamePlayerList.map((function(t){return t.wukong})),label:n},{name:"使用八戒",type:"bar",data:this.gamePlayerList.map((function(t){return t.bajie})),label:n},{name:"使用沙僧",type:"bar",data:this.gamePlayerList.map((function(t){return t.shaseng})),label:n},{name:"使用唐僧",type:"bar",data:this.gamePlayerList.map((function(t){return t.tangseng})),label:n},{name:"使用反弹",type:"bar",data:this.gamePlayerList.map((function(t){return t.joker})),label:n},{name:"使用变身",type:"bar",data:this.gamePlayerList.map((function(t){return t.bianshen})),label:n}]},i&&this.myChart.setOption(i)}}},beforeDestroy:function(){null!==this.myChart&&(this.myChart.clear(),this.myChart.dispose(),this.selectedLegend="",window.removeEventListener("resize",this.echartResizeLogic))}},lR=sR,uR=(i("1cec"),Object(w["a"])(lR,Pi,Li,!1,null,null,null)),cR=uR.exports,hR=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"公告栏",visible:t.announceDialogVisible,width:t.dialogWidth,center:"","close-on-click-modal":!1,"before-close":t.closeAnnounceDialog},on:{"update:visible":function(e){t.announceDialogVisible=e}}},[i("el-divider"),i("h3",{style:{"font-size":t.fontSize}},[t._v("2021年5月14日更新")]),i("h4",{style:{"font-size":t.fontSize}},[i("i",{staticClass:"el-icon-circle-plus"}),t._v("增加变身牌机制：")]),i("p",{style:{"font-size":t.fontSize}},[t._v("●应对多牌时玩家可根据需要打出变身牌；")]),i("p",{style:{"font-size":t.fontSize}},[t._v("●新建房间或修改房间设置时，房主可选择每副牌中的变身牌数量(0~10张)；")]),i("p",{style:{"font-size":t.fontSize}},[t._v("●游戏战绩中新增关于变身牌的统计；")]),i("P",{style:{"font-size":t.fontSize}},[t._v("●关于变身牌的具体规则和用法请参考右下角「帮助--游戏规则--变身牌」。")]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:t.closeAnnounceDialog}},[t._v("关闭")])],1)],1)},pR=[],dR={data:function(){return{}},props:{announceDialogVisible:{type:Boolean,default:!1},dialogWidth:{type:String,default:""},avatarSize:{type:Number,default:20},fontSize:{type:String,default:""}},methods:{closeAnnounceDialog:function(){this.$emit("announceDialogVisible",!1)}}},fR=dR,gR=Object(w["a"])(fR,hR,pR,!1,null,null,null),mR=gR.exports,yR=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-main",{staticClass:"hide-scroll-bar",style:{backgroundImage:"url("+t.horizontalBackground+")"}},[n("div",{attrs:{id:"card-module-text"}},[n("el-progress",{directives:[{name:"show",rawName:"v-show",value:null!==t.timer,expression:"timer !== null"}],attrs:{percentage:t.time,color:t.customColors,"show-text":!1}})],1),null!==t.getGamePlayer?n("div",{attrs:{id:"card-module-top"}},t._l(t.sortCardList,(function(e,a){return n("div",{key:e+""+a,staticClass:"poker-card-item",style:{"margin-left":0===a?50-7.5*t.getGamePlayer.remainCards.length+"%":"0%"}},[n("p",{staticClass:"black-color-font",style:{"font-size":t.fontSize,color:e<100?"black":"#409EFF"}},[t._v(t._s(t.getIndexOfCardList(e).name+(100===t.getIndexOfCardList(e).num?"":" ("+t.getIndexOfCardList(e).suit+")")))]),n("el-image",{staticClass:"card-item",class:{"is-card-selected":t.selectCard.includes(a)||t.selectMetamorphoseCard.includes(a),"card-not-selected":!t.selectCard.includes(a)&&e<100||e>=100&&!t.selectCard.includes(a)&&!t.selectMetamorphoseCard.includes(a)&&!t.$store.state.setting.bianshenBorder,"metamorphose-border":e>=100&&!t.selectCard.includes(a)&&!t.selectMetamorphoseCard.includes(a)&&t.$store.state.setting.bianshenBorder,"cannot-choose-metamorphose":t.metamorphoseMode&&(e<100||t.selectCard.includes(a))},attrs:{fit:"fill",src:i("a5d6")("./"+t.getIndexOfCardList(e).src+".png")},on:{click:function(i){return t.addSelectCard(a,e)}}})],1)})),0):t._e(),null!==t.getGamePlayer?n("div",{attrs:{id:"card-module-bottom"}},[n("el-button",{staticStyle:{float:"left","margin-left":"2%"},style:{"font-size":t.fontSize,padding:t.paddingSize},attrs:{type:"danger",size:t.buttonSize,disabled:null===t.timer||!1===t.getGamePlayer.online||t.metamorphoseMode},on:{click:t.discard}},[t._v("不出")]),n("el-button",{staticStyle:{float:"left","margin-left":"2%"},style:{"font-size":t.fontSize,padding:t.paddingSize},attrs:{type:!1===t.getGamePlayer.online?"info":"warning",size:t.buttonSize,disabled:null!==t.timer},on:{click:t.shiftOnline}},[t._v(t._s(!1===t.getGamePlayer.online?"取消":"托管"))]),n("el-button",{staticStyle:{float:"right","margin-right":"2%"},style:{"font-size":t.fontSize,padding:t.paddingSize},attrs:{type:"success",size:t.buttonSize,disabled:null===t.timer||!1===t.getGamePlayer.online},on:{click:t.playCard}},[t._v("出牌")]),n("el-button",{staticStyle:{float:"right","margin-right":"2%"},style:{"font-size":t.fontSize,padding:t.paddingSize},attrs:{type:t.metamorphoseMode?"info":"primary",size:t.buttonSize,disabled:null===t.timer||!1===t.getGamePlayer.online},on:{click:t.shiftMetamorphoseMode}},[t._v(t._s(t.metamorphoseMode?"取消":"变身"))])],1):t._e()])},vR=[],_R=(i("caad"),i("2532"),i("4de4"),i("a434"),{data:function(){return{selectCard:[],selectMetamorphoseCard:[],timer:null,time:100,metamorphoseMode:!1,customColors:[{color:"#F56C6C",percentage:25},{color:"#E6A23C",percentage:50},{color:"#67C23A",percentage:75},{color:"#409EFF",percentage:100}]}},props:{gameInfo:{type:Object,default:null},horizontalBackground:{type:String,default:""},buttonSize:{type:String,default:""},fontSize:{type:String,default:""},ws:{type:WebSocket,default:null}},watch:{"gameInfo.version":{immediate:!0,handler:function(t){null!==this.gameInfo&&!1!==this.getGamePlayer.online&&-1!==this.gameInfo.currentPlayer&&this.gameInfo.gamePlayer[this.gameInfo.currentPlayer].id===this.$store.state.id&&(this.time=100,this.metamorphoseMode=!1,this.selectMetamorphoseCard=[],this.selectCard=[],this.timer>0&&clearInterval(this.timer),this.$nextTick((function(){var e=this;this.$store.state.setting.youTurnVoice&&(this.gameInfo.currentCard.length>0||0===t)&&setTimeout((function(){Object(o["d"])("youturn")}),1e3),this.timer=window.setInterval((function(){e.time=e.time-1}),150)})))}},time:function(t,e){0===t&&1===e&&this.destroyTimer()}},computed:{getSeatIndex:function(){if(!this.gameInfo)return 10;for(var t=0;t<Object.keys(this.gameInfo.gamePlayer).length;t++)if(this.gameInfo.gamePlayer[t].id===this.$store.state.id)return t;return 10},getGamePlayer:function(){if(!this.gameInfo)return null;for(var t=0;t<Object.keys(this.gameInfo.gamePlayer).length;t++)if(this.gameInfo.gamePlayer[t].id===this.$store.state.id)return this.gameInfo.gamePlayer[t];return null},sortCardList:function(){var t=this;if(null===this.getGamePlayer)return null;var e=this.getGamePlayer.remainCards;return e.sort((function(e,i){return t.getIndexOfCardList(e).num===t.getIndexOfCardList(i).num?t.getIndexOfCardList(e).suit-t.getIndexOfCardList(i).suit:t.getIndexOfCardList(e).num-t.getIndexOfCardList(i).num}))},paddingSize:function(){return"medium"===this.buttonSize?"10px 20px":"small"===this.buttonSize?"9px 15px":"7px 10px"}},methods:{destroyTimer:function(){clearInterval(this.timer),this.timer=null,this.time=100,this.metamorphoseMode=!1,this.selectMetamorphoseCard=[]},addSelectCard:function(t,e){if(Object(o["d"])("click"),this.metamorphoseMode)return e<100||this.selectCard.includes(t)?void this.$message.warning("请选择变身牌"):this.selectMetamorphoseCard.includes(t)?void(this.selectMetamorphoseCard=this.selectMetamorphoseCard.filter((function(e){return e!==t}))):(this.selectMetamorphoseCard.length+this.selectCard.length<(0===this.gameInfo.currentCard.length?5:this.gameInfo.currentCard.length)||this.selectMetamorphoseCard.shift(),void this.selectMetamorphoseCard.push(t));if(0===this.selectCard.length)this.selectCard.push(t);else{if(this.selectCard.includes(t))return void(this.selectCard=this.selectCard.filter((function(e){return e!==t})));if(this.selectCard.length<(0===this.gameInfo.currentCard.length?5:this.gameInfo.currentCard.length))if(this.getIndexOfCardList(this.sortCardList[this.selectCard[0]]).num===this.getIndexOfCardList(e).num)this.selectCard.push(t);else{while(this.selectCard.length>0)this.selectCard.pop();this.selectCard.push(t)}else if(this.getIndexOfCardList(this.sortCardList[this.selectCard[0]]).num===this.getIndexOfCardList(e).num)this.selectCard.shift(),this.selectCard.push(t);else{while(this.selectCard.length>0)this.selectCard.pop();this.selectCard.push(t)}}},playCardEmittedByRef:function(){return!1===this.getGamePlayer.online?(this.$message.warning("请先取消托管"),void Object(o["d"])("click")):null===this.timer?(this.gameInfo.gamePlayer[this.gameInfo.currentPlayer].id===this.$store.state.id?this.$message.warning("出牌时间超时了"):this.$message.warning("还未轮到你出牌"),void Object(o["d"])("click")):void this.playCard()},playCard:function(){var t=this;if(Object(o["d"])("click"),0!==this.selectCard.length){if(0===this.gameInfo.currentCard.length)return this.metamorphoseMode&&0===this.selectMetamorphoseCard.length?void this.$message.warning("请选择要打出的变身牌"):void this.sendPlayCard();if(this.selectCard.length+this.selectMetamorphoseCard.length===this.gameInfo.currentCard.length)if(100!==this.getIndexOfCardList(this.sortCardList[this.selectCard[0]]).num&&100!==this.getIndexOfCardList(this.gameInfo.currentCard[0]).num)if(this.getIndexOfCardList(this.sortCardList[this.selectCard[0]]).num!==this.getIndexOfCardList(this.gameInfo.currentCard[0]).num)if(this.getIndexOfCardList(this.sortCardList[this.selectCard[0]]).num<30&&this.getIndexOfCardList(this.gameInfo.currentCard[0]).num<30)this.getIndexOfCardList(this.sortCardList[this.selectCard[0]]).num>this.getIndexOfCardList(this.gameInfo.currentCard[0]).num?this.sendPlayCard():this.$message.warning("打出的牌须大于台面牌型");else{if(31===this.getIndexOfCardList(this.sortCardList[this.selectCard[0]]).num)return void(this.getIndexOfCardList(this.gameInfo.currentCard[0]).num>20?this.sendPlayCard():this.$message.warning("师傅不能打妖怪哦"));if(31===this.getIndexOfCardList(this.gameInfo.currentCard[0]).num)return void(this.getIndexOfCardList(this.sortCardList[this.selectCard[0]]).num<20?this.sendPlayCard():this.$message.warning("徒弟不能打师傅哦"))}else{var e=this.gameInfo.currentCard,i=[];this.selectCard.forEach((function(e){i.push(t.sortCardList[e])})),this.metamorphoseMode&&this.selectMetamorphoseCard.forEach((function(e){i.push(t.sortCardList[e])})),e.length>1&&(e=e.sort((function(e,i){return t.getIndexOfCardList(e).suit-t.getIndexOfCardList(i).suit}))),i.length>1&&(i=i.sort((function(e,i){return t.getIndexOfCardList(e).suit-t.getIndexOfCardList(i).suit})));for(var n=!1,a=!0,r=0;r<i.length;r++)if(this.getIndexOfCardList(i[r]).suit>this.getIndexOfCardList(e[r]).suit)n=!0;else if(this.getIndexOfCardList(i[r]).suit<this.getIndexOfCardList(e[r]).suit){a=!1;break}n&&a?this.sendPlayCard():this.$message.warning("打出的牌须大于台面牌型")}else this.sendPlayCard();else this.$message.warning("须打出 "+this.gameInfo.currentCard.length+" 张牌")}else this.$message.warning("请选择要打出的牌")},sendPlayCard:function(){var t=this,e=[];this.selectCard.forEach((function(i){e.push(t.sortCardList[i])}));var i=e.length,n=e[0];this.metamorphoseMode&&this.selectMetamorphoseCard.forEach((function(i){e.push(t.sortCardList[i])})),e.forEach((function(e){for(var i=0;i<t.getGamePlayer.remainCards.length;i++)if(t.getGamePlayer.remainCards[i]===e){t.getGamePlayer.remainCards.splice(i,1);break}}));for(var a=0;a<i;a++)e[a]>=100&&(e[a]=e[a]-100);for(var r=i;r<e.length;r++)e[r]=n+this.getIndexOfCardList(n).suit-this.getIndexOfCardList(e[r]).suit,e[r]<100&&(e[r]=e[r]+100);e.sort((function(e,i){return t.getIndexOfCardList(e).suit-t.getIndexOfCardList(i).suit})),this.selectCard=[],this.ws.send(JSON.stringify({type:"game",action:"play",id:this.gameInfo.id,seatIndex:this.getSeatIndex,playCard:e,remainCards:this.getGamePlayer.remainCards})),this.destroyTimer()},discard:function(){Object(o["d"])("click"),0!==this.gameInfo.currentCard.length?(this.selectCard=[],this.ws.send(JSON.stringify({type:"game",action:"discard",id:this.gameInfo.id,seatIndex:this.getSeatIndex})),this.destroyTimer()):this.$message.warning("必须打出至少一张牌")},shiftOnline:function(){Object(o["d"])("click"),this.ws.send(JSON.stringify({type:"game",action:"shiftOnline",id:this.gameInfo.id,seatIndex:this.getSeatIndex}))},shiftMetamorphoseMode:function(){var t=this;if(this.metamorphoseMode)return this.metamorphoseMode=!1,void(this.selectMetamorphoseCard=[]);if(0!==this.selectCard.length){var e=this.sortCardList;e=e.filter((function(e,i){return!t.selectCard.includes(i)}));var i=e.some((function(t){return t>=100}));i?100!==this.getIndexOfCardList(this.sortCardList[this.selectCard[0]]).num?1!==this.gameInfo.currentCard.length?this.gameInfo.currentCard.length>1&&this.selectCard.length>=this.gameInfo.currentCard.length?this.$message.warning("选择的原形牌过多"):this.metamorphoseMode=!0:this.$message.warning("出1张牌时不能使用变身"):this.$message.warning("无法变身观音或如来"):this.$message.warning("没有可用的变身牌")}else this.$message.warning("请先选择原形牌")}},mixins:[Ke]}),xR=_R,bR=(i("ebd3"),Object(w["a"])(xR,yR,vR,!1,null,null,null)),SR=bR.exports,wR={name:"ChatRoom",data:function(){return{chatText:[],playerListVisible:!1,cancelLeaveDialogVisible:!1,createGameRoomDialogVisible:!1,leaveRoomDialogVisible:!1,enterGameRoomDialogVisible:!1,askChangeSeatDialogVisible:!1,gameResultDialogVisible:!1,announceDialogVisible:!1,announceVersionId:1,playerList:[],gameRoomList:[],playerLocRoom:null,enterRoomDto:{},askChangeSeatInfo:null,gameInfo:null,gameResult:null,sentGameTextToPlayerObj:{0:{},1:{},2:{},3:{},4:{},5:{},6:{},7:{}},loading:null,playerLocRomTypeChatMessageObject:null}},mixins:[s,l],methods:{announceViewHandler:function(t){this.announceDialogVisible=t;var e=this.$store.state.setting;e.announceId=this.announceVersionId,this.$store.dispatch("mutateSetting",e)}},created:function(){this.loading=this.$loading({lock:!0,text:"努力连接中",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.7)"})},mounted:function(){var t=JSON.parse(localStorage.getItem("setting")),e=void 0===(null===t||void 0===t?void 0:t.announceId)?0:t.announceId;e<this.announceVersionId&&(this.announceDialogVisible=!0)},beforeRouteEnter:function(t,e,i){i((function(t){"Login"===e.name&&t.loading.close()}))},components:{PlayerListModule:at,PlayerInfoModule:Tt,ChatModule:Lt,GameRoomListModule:Nt,LogoutDialogModule:$t,CreateGameRoomDialogModule:Kt,ChatRoomButtonModule:ne,GameRoomButtonModule:ue,LeaveRoomDialogModule:ge,EnterGameRoomDialogModule:be,GameRoomModule:wi,AskChangeSeatDialogModule:Mi,CardModule:SR,GameResultDialogModule:cR,AnnounceDialogModule:mR}},CR=wR,TR=(i("0e31"),Object(w["a"])(CR,a,r,!1,null,null,null));e["default"]=TR.exports},bf98:function(t,e,i){t.exports=i.p+"img/avatar_3-min.a13f526d.png"},c019:function(t,e,i){t.exports=i.p+"img/9D.9bee6654.png"},c19a:function(t,e,i){t.exports=i.p+"img/11A.e2f71e51.png"},c7c6:function(t,e,i){},c990:function(t,e,i){t.exports=i.p+"img/award.7949f126.png"},c9ed:function(t,e,i){t.exports=i.p+"img/4A.46fbc5e4.png"},ca37:function(t,e,i){t.exports=i.p+"img/avatar_28-min.d2d837e2.png"},ca7b:function(t,e,i){t.exports=i.p+"img/10B.cef0a826.png"},caad:function(t,e,i){"use strict";var n=i("23e7"),a=i("4d64").includes,r=i("44d2");n({target:"Array",proto:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},cfa7:function(t,e,i){},d1a9:function(t,e,i){},d29a:function(t,e,i){t.exports=i.p+"img/6A.76be7f26.png"},d30f:function(t,e,i){t.exports=i.p+"img/avatar_18-min.61484409.png"},d36c:function(t,e,i){t.exports=i.p+"img/avatar_17-min.95720399.png"},d4c0:function(t,e,i){t.exports=i.p+"img/5C.d74094dc.png"},d81d:function(t,e,i){"use strict";var n=i("23e7"),a=i("b727").map,r=i("1dde"),o=r("map");n({target:"Array",proto:!0,forced:!o},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},d9df:function(t,e,i){t.exports=i.p+"img/6D.6f9480c6.png"},df14:function(t,e,i){t.exports=i.p+"img/bronze.47c0bc19.png"},e06c:function(t,e,i){t.exports=i.p+"img/3C.e129ec1b.png"},e06f:function(t,e,i){t.exports=i.p+"img/red-joker.10c36782.png"},e1e6:function(t,e,i){t.exports=i.p+"img/avatar_19-min.b6ff7902.png"},e3fa:function(t,e,i){"use strict";i("6d0b")},e465:function(t,e,i){t.exports=i.p+"img/10A.4d183388.png"},e4fe:function(t,e,i){t.exports=i.p+"img/avatar_4-min.2caba24a.png"},e53a:function(t,e,i){t.exports=i.p+"img/8C.e80956f6.png"},e629:function(t,e,i){t.exports=i.p+"img/11B.ce3f7877.png"},e635:function(t,e,i){},ea4a:function(t,e,i){t.exports=i.p+"img/horizontal_background.393dcc36.png"},ebd3:function(t,e,i){"use strict";i("56a1")},ec5d:function(t,e,i){t.exports=i.p+"img/6B.85ca75a9.png"},ecf0:function(t,e,i){t.exports=i.p+"img/5B.635032cc.png"},f0b6:function(t,e,i){"use strict";i("a802")},f42e:function(t,e,i){t.exports=i.p+"img/avatar_21-min.e0248d3c.png"},f5a4:function(t,e,i){t.exports=i.p+"img/avatar_11-min.7dacd92e.png"},f639:function(t,e,i){t.exports=i.p+"img/black-joker.d7624088.png"},f672:function(t,e,i){var n={"./avatar_0-min.png":"2bb8","./avatar_1-min.png":"40a4","./avatar_10-min.png":"4de9","./avatar_11-min.png":"f5a4","./avatar_12-min.png":"162d","./avatar_13-min.png":"67e9","./avatar_14-min.png":"b2cd","./avatar_15-min.png":"0f3d","./avatar_16-min.png":"2397","./avatar_17-min.png":"d36c","./avatar_18-min.png":"d30f","./avatar_19-min.png":"e1e6","./avatar_2-min.png":"a816","./avatar_20-min.png":"aa0c","./avatar_21-min.png":"f42e","./avatar_22-min.png":"163e","./avatar_23-min.png":"3c2c","./avatar_24-min.png":"55db","./avatar_25-min.png":"94c4","./avatar_26-min.png":"3d54","./avatar_27-min.png":"9217","./avatar_28-min.png":"ca37","./avatar_29-min.png":"1d37","./avatar_3-min.png":"bf98","./avatar_30-min.png":"7b99","./avatar_31-min.png":"4860","./avatar_32-min.png":"3df3","./avatar_33-min.png":"0f49","./avatar_34-min.png":"1540","./avatar_35-min.png":"1ecf","./avatar_4-min.png":"e4fe","./avatar_5-min.png":"25c3","./avatar_6-min.png":"2fd2","./avatar_7-min.png":"0a35","./avatar_8-min.png":"0883","./avatar_9-min.png":"42ec"};function a(t){var e=r(t);return i(e)}function r(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=r,t.exports=a,a.id="f672"},f692:function(t,e,i){t.exports=i.p+"img/13A.f649f025.png"},f715:function(t,e,i){t.exports=i.p+"img/clockwise.3d1c9073.png"},f71c:function(t,e,i){t.exports=i.p+"img/11D.5001022c.png"},f878:function(t,e,i){"use strict";i("cfa7")},fc8a:function(t,e,i){t.exports=i.p+"img/7B.afac769b.png"}}]);
//# sourceMappingURL=chatroom.cdc08ae3.js.map